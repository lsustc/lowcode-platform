(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96d556d8"],{2747:function(t,a,e){"use strict";var i=e("f7ab"),o=e("2f62");a["a"]={replace:!0,data:function(){return{title:"",size:"small",Visible:!0}},computed:Object(o["c"])({Config:function(t){return t.Config},RootNodeInfo:function(t){return t.RootNodeInfo},Metadata:function(t){return t.Metadata},demoMode:function(t){return t.setting.demoMode}}),beforeCreated:function(){},created:function(){this.ema=i["b"].getProxy()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},activated:function(){},deactivated:function(){},beforDestroy:function(){},destroyed:function(){this.ema.dispose()},methods:{bindEvent:function(t,a){this.$options.name||console.warn("绑定事件的组件不存在组件名称",t),this.ema.bind("".concat(this.$options.name,".").concat(t),a)},openDialog:function(t){this.ema.fire("Dialogs.push",t)},close:function(){this.ema.fire("Dialogs.close",this.$options.name)}}}},"461f":function(t,a,e){"use strict";e("c688")},a7c7:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"imageSelectWarp"},[e("el-dialog",{attrs:{visible:t.visible},on:{click:function(t){t.stopPropagation()},"update:visible":function(a){t.visible=a},close:t.close}},[e("el-tabs",{model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"所有列表",name:"first"}},[e("div",{staticClass:"warp"},[e("div",{staticClass:"imagesWarp"},t._l(t.form.data,(function(a,i){return e("div",{key:i,staticClass:"item"},["image"==t.type?e("img",{staticClass:"img",attrs:{src:a.image_url,alt:""}}):"audio"==t.type?e("audio",{staticClass:"audio",attrs:{controls:"controls"}},[e("source",{attrs:{src:a.content,type:"audio/mpeg"}})]):t._e(),e("div",{staticClass:"name"},[t._v(t._s(a.image_name))]),e("div",{staticClass:"select"},[e("el-button",{staticClass:"use",attrs:{type:"primary",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.useImage(a)}}},[t._v("使用")])],1)])})),0),e("div",{staticClass:"footer"},[e("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.form.pagination.curr,"page-sizes":[30,100,200,300,400],"page-size":t.form.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:t.form.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.loadData}})],1)])]),e("el-tab-pane",{attrs:{label:"上传",name:"second"}},[e("div",{staticClass:"warp"},[e("div",{staticClass:"uploadImageWarp",on:{click:t.selectImage}},[t.uploadImage&&t.uploadImage.src?e("div",["image"==t.type?e("img",{attrs:{src:t.uploadImage.src}}):"audio"==t.type?e("audio",{staticClass:"audio",attrs:{controls:"controls"}},[e("source",{attrs:{src:t.uploadImage.src,type:"audio/mpeg"}})]):"file"==t.type?e("div",{staticClass:"file",attrs:{controls:"controls"}},[e("span",{staticClass:"el-icon-document",staticStyle:{"font-size":"160px",color:"#bbbbbb"}})]):t._e()]):t._e()]),t.type?e("upload-image",{ref:"UploadImage",on:{uploadSuccess:t.uploadSuccess}}):t._e(),t.uploadImage&&t.uploadImage.src?e("el-button",{staticClass:"useBtn",attrs:{type:"success"},on:{click:function(a){return a.stopPropagation(),t.useImage(t.uploadImage)}}},[t._v("\n            使用\n          ")]):t._e()],1)])],1)],1)],1)},o=[],n=e("2747"),s=e("c455"),c=e("db69"),r=e("f121"),l=e.n(r),u={mixins:[n["a"]],name:"d-resourceSelect",data:function(){return{typeMap:{},activeName:"first",type:"",visible:!0,uploadImage:{src:"",id:""},form:{data:[],pagination:{size:30,total:0,curr:1}}}},components:{UploadImage:c["a"]},mounted:function(){this.loadData()},methods:{selectImage:function(){this.$refs.UploadImage.$el.click()},handleSizeChange:function(t){this.form.pagination.size=t,this.loadData(this.form.pagination.curr)},loadData:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e={};e["page_size"]=this.form.pagination.size,e["page_number"]=a,Object(s["a"])({url:"".concat(l.a.IMAGE_PATH,"/api/image/v1/list_img"),method:"get",needLoading:!0,params:e}).then((function(a){var e=a.data.data;t.form.pagination.total=e.total,t.form.data=e.list}))},useImage:function(t){"function"==typeof this.onSelectImage&&(this.onSelectImage(t.image_url||t.src),this.close())},uploadSuccess:function(t){this.uploadImage.src=t}}},d=u,p=(e("461f"),e("2877")),m=Object(p["a"])(d,i,o,!1,null,"78fa80b4",null);a["default"]=m.exports},c688:function(t,a,e){}}]);