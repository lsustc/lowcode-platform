(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56b88f6a"],{2601:function(t,e,n){"use strict";n("85d8")},2747:function(t,e,n){"use strict";var o=n("f7ab"),i=n("2f62");e["a"]={replace:!0,data:function(){return{title:"",size:"small",Visible:!0}},computed:Object(i["c"])({Config:function(t){return t.Config},RootNodeInfo:function(t){return t.RootNodeInfo},Metadata:function(t){return t.Metadata},demoMode:function(t){return t.setting.demoMode}}),beforeCreated:function(){},created:function(){this.ema=o["b"].getProxy()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},activated:function(){},deactivated:function(){},beforDestroy:function(){},destroyed:function(){this.ema.dispose()},methods:{bindEvent:function(t,e){this.$options.name||console.warn("绑定事件的组件不存在组件名称",t),this.ema.bind("".concat(this.$options.name,".").concat(t),e)},openDialog:function(t){this.ema.fire("Dialogs.push",t)},close:function(){this.ema.fire("Dialogs.close",this.$options.name)}}}},"3ecb":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"preview-app",attrs:{title:t.title,width:"448px",modal:!0,visible:t.Visible},on:{"update:visible":function(e){t.Visible=e},close:t.close}},[n("div",{staticClass:"phone-box"},[n("iframe",{ref:"previewframe",staticClass:"iframe",attrs:{border:"0",src:t.preUrl}})]),n("div",{staticClass:"qr-code-bar",class:{"qr-open":t.qrOpen},on:{click:function(e){t.qrOpen=!t.qrOpen}}},[n("img",{staticClass:"qrcode",attrs:{src:t.qrUrl,alt:""}})])])},i=[],a=n("d055"),r=n.n(a),s=n("2747"),c=n("f121"),u=n.n(c),d={mixins:[s["a"]],name:"d-preview",data:function(){return{qrUrl:"",qrOpen:!1,title:"预览",key:""}},mounted:function(){var t=this;this.demoMode&&this.$nextTick((function(){return t.postData()}))},computed:{preUrl:function(){return"".concat(u.a.VIEW_PATH,"/").concat(this.demoMode?"__demomode":this.key,"?preview=1")}},watch:{preUrl:{handler:function(t){var e=this;try{r.a.toDataURL(t).then((function(t){e.qrUrl=t}))}catch(n){console.error("生成二维码出错：",n.message)}},immediate:!0}},methods:{postData:function(){var t=this,e=this.$refs["previewframe"].contentWindow,n=window.localStorage.getItem("EditorautoSave_tmp");setTimeout((function(){e.postMessage({type:"preview",content:n,canvas:t.$store.state.setting.phoneSize},"*")}),1e3)}}},f=d,l=(n("2601"),n("2877")),p=Object(l["a"])(f,o,i,!1,null,null,null);e["default"]=p.exports},"85d8":function(t,e,n){}}]);