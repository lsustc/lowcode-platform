(function(e){function t(t){for(var o,a,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={index:0},i={index:0},r=[];function s(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-16e201e2":"7ac61fa0","chunk-17a61fe0":"f1210eda","chunk-264c30ce":"df721886","chunk-2d0a3577":"05e1bf66","chunk-2d0a43df":"04fcba67","chunk-2d0aab07":"0e560e31","chunk-2d0abc00":"2f1680af","chunk-2d0ae937":"8153984b","chunk-2d0aeb45":"5ba48c2b","chunk-2d0afa49":"25d4aca5","chunk-2d0b2762":"3012bc97","chunk-2d0b6187":"c6a2098c","chunk-2d0ba136":"b66e44b0","chunk-2d0bb267":"a93791ec","chunk-2d0bcec1":"e6b4be18","chunk-2d0bff92":"5def0fab","chunk-2d0c0494":"0e7a0dfa","chunk-2d0c0a09":"55040269","chunk-2d0c1ed0":"b768ce1b","chunk-2d0c4313":"f92e812b","chunk-2d0c46d1":"2bd034f6","chunk-2d0c512b":"8adfcc8b","chunk-2d0cf16e":"17c9e4d6","chunk-2d0d056d":"36963653","chunk-2d0d0645":"1559c4ae","chunk-2d0d2f22":"6a613be3","chunk-2d0d7e63":"7bafff4b","chunk-2d0e1b57":"08364637","chunk-2d0e1fbe":"28edd622","chunk-2d0e22d6":"d3598edc","chunk-2d0e542a":"1ae294bc","chunk-2d0e57ec":"7bf4e55f","chunk-2d0e6553":"f432e38c","chunk-2d0ea098":"b56fb742","chunk-2d208ac5":"17781226","chunk-2d209408":"11989d57","chunk-2d20f745":"65613c26","chunk-2d20ff23":"50ff1271","chunk-2d2138c7":"2d246f6a","chunk-2d217e5b":"e303d618","chunk-2d21b84a":"5b58aa0d","chunk-2d21dcd2":"7709f188","chunk-2d21f327":"8c2dbe9b","chunk-2d2214b3":"967d705e","chunk-2d221a34":"a051eb3d","chunk-2d22502a":"e28bf4fe","chunk-2d228ca6":"0854118d","chunk-2d2295e9":"661bf59a","chunk-2d22c171":"3f2935f4","chunk-2d22c2b8":"976ff39e","chunk-2d22ca58":"6096991d","chunk-2d2311f7":"3bc68368","chunk-2d2371be":"ce061654","chunk-2d237ee7":"1da05037","chunk-2d238465":"b9920db8","chunk-3e9ce982":"5eb9dcba","chunk-5209afd8":"236d2178","chunk-58613c59":"362c65a7","chunk-7532b3ea":"49ce6d35","chunk-b09680b8":"3ce8cca3"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-16e201e2":1,"chunk-17a61fe0":1,"chunk-264c30ce":1,"chunk-3e9ce982":1,"chunk-5209afd8":1,"chunk-58613c59":1,"chunk-b09680b8":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="static/css/"+({}[e]||e)+"."+{"chunk-16e201e2":"fe966e60","chunk-17a61fe0":"5b9b1c26","chunk-264c30ce":"ace77221","chunk-2d0a3577":"31d6cfe0","chunk-2d0a43df":"31d6cfe0","chunk-2d0aab07":"31d6cfe0","chunk-2d0abc00":"31d6cfe0","chunk-2d0ae937":"31d6cfe0","chunk-2d0aeb45":"31d6cfe0","chunk-2d0afa49":"31d6cfe0","chunk-2d0b2762":"31d6cfe0","chunk-2d0b6187":"31d6cfe0","chunk-2d0ba136":"31d6cfe0","chunk-2d0bb267":"31d6cfe0","chunk-2d0bcec1":"31d6cfe0","chunk-2d0bff92":"31d6cfe0","chunk-2d0c0494":"31d6cfe0","chunk-2d0c0a09":"31d6cfe0","chunk-2d0c1ed0":"31d6cfe0","chunk-2d0c4313":"31d6cfe0","chunk-2d0c46d1":"31d6cfe0","chunk-2d0c512b":"31d6cfe0","chunk-2d0cf16e":"31d6cfe0","chunk-2d0d056d":"31d6cfe0","chunk-2d0d0645":"31d6cfe0","chunk-2d0d2f22":"31d6cfe0","chunk-2d0d7e63":"31d6cfe0","chunk-2d0e1b57":"31d6cfe0","chunk-2d0e1fbe":"31d6cfe0","chunk-2d0e22d6":"31d6cfe0","chunk-2d0e542a":"31d6cfe0","chunk-2d0e57ec":"31d6cfe0","chunk-2d0e6553":"31d6cfe0","chunk-2d0ea098":"31d6cfe0","chunk-2d208ac5":"31d6cfe0","chunk-2d209408":"31d6cfe0","chunk-2d20f745":"31d6cfe0","chunk-2d20ff23":"31d6cfe0","chunk-2d2138c7":"31d6cfe0","chunk-2d217e5b":"31d6cfe0","chunk-2d21b84a":"31d6cfe0","chunk-2d21dcd2":"31d6cfe0","chunk-2d21f327":"31d6cfe0","chunk-2d2214b3":"31d6cfe0","chunk-2d221a34":"31d6cfe0","chunk-2d22502a":"31d6cfe0","chunk-2d228ca6":"31d6cfe0","chunk-2d2295e9":"31d6cfe0","chunk-2d22c171":"31d6cfe0","chunk-2d22c2b8":"31d6cfe0","chunk-2d22ca58":"31d6cfe0","chunk-2d2311f7":"31d6cfe0","chunk-2d2371be":"31d6cfe0","chunk-2d237ee7":"31d6cfe0","chunk-2d238465":"31d6cfe0","chunk-3e9ce982":"9015903f","chunk-5209afd8":"f449f6c7","chunk-58613c59":"8676355c","chunk-7532b3ea":"31d6cfe0","chunk-b09680b8":"e7e03fa6"}[e]+".css",i=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===o||d===i))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],d=l.getAttribute("data-href");if(d===o||d===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],p.parentNode.removeChild(p),n(r)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,n[1](u)}i[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/editor/dist/editor/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("8ef1")},"0015":function(e,t,n){"use strict";n("fa74")},"012e":function(e,t,n){"use strict";n("4e23")},"012e0":function(e,t,n){"use strict";n("a9d6")},"01ad":function(e,t,n){"use strict";n("af81")},"01e2":function(e,t,n){},"028e":function(module,__webpack_exports__,__webpack_require__){"use strict";var _filters__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0cfb");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function defaultTo(e,t){return null==t?e:t}var mixin={props:[],data:function(){return{inscope:null}},computed:{scope:function(){var e=this.inscope&&this.inscope.data?this.inscope.data:this.inscope;return e}},filters:_filters__WEBPACK_IMPORTED_MODULE_0__["a"],methods:{oncallExecute:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&("function"===typeof e?(e=[{method:e,params:n}],e.forEach((function(e){e=e||{};var o=e.method,a=[].concat(_toConsumableArray(e.params),_toConsumableArray(n));"function"===typeof t[o]&&t[o].apply(t,a)}))):e.forEach((function(e){if(e=e||{},e.method){var o=e.method.split("."),a=t,i="";1==o.length?i=o[0]:2==o.length&&(a=t.$parent.getComponent(o[0],!0),i=o[1]);var r=[].concat(_toConsumableArray(e.params),_toConsumableArray(n));"function"===typeof a[i]&&a[i].apply(a,r)}})))},scopeGet:function scopeGet(prop){var _this2=this,text=this[prop]||"";return"EDITOR"==window.EDIT_TYPE?this[prop]||this.$options.props[prop]["default"]:("string"===typeof text&&(text=text.replace(/\$\{([^{}]+)\}/g,(function(m,p){p=p.replace(/\s+/g,"").split("|");var val=p[0],filters=p.slice(1),isValue=!0;try{val=eval(p[0]),isValue=!0}catch(e){val=p[0],isValue=!1}return isValue||(val=/^\$scope\./.test(val)?_this2.scope&&defaultTo("",baseGet(_this2.scope,val)):_this2.dataHubGet&&defaultTo("",_this2.dataHubGet(val))),filters&&filters.length&&(val=filters.reduce((function(e,t){return evalFilter(t,e,_this2)}),val)),val}))),text||this.$options.props[prop]["default"]);function baseGet(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=String(n).trim().replace(/^\$scope\./,"").replace(/\[(\d+)\]/g,(function(e,t){return".".concat(t)}));try{e=n.split(".").reduce((function(e,t){return e&&e[t]}),t)}catch(o){console.error(o)}return e}function evalFilter(fnstr,val,context){var parms=fnstr.match(/^([_$0-9A-Za-z]+)\(([^()]+)\)$/)||["",fnstr],fn=parms[1],args=[val];try{args=args.concat(eval("[".concat(parms[2],"]")))}catch(e){console.log(e)}var filterFn=context.$options.filters&&context.$options.filters[fn];return"function"==typeof filterFn?filterFn.apply(context,args):fnstr}}}};if(void 0===window.EDIT_TYPE||null===window.EDIT_TYPE){var services={$toast:function(){window.toast&&window.toast.apply(window,arguments)},$confirm:function(){window.confirm&&window.confirm.apply(window,arguments)},$alert:function(){window.alert&&window.alert.apply(window,arguments)},$msgBox:function(){window.msgBox&&window.msgBox.apply(window,arguments)},$prompt:function(){window.prompt&&window.prompt.apply(window,arguments)},$loading:function(){window.loading&&window.loading()},$hideLoading:function(){window.hideLoading?window.hideLoading():window.loading&&window.loading(1)},$viewImg:function(){window.viewImg&&window.viewImg.apply(window,arguments)}};Object.assign(mixin.methods,services)}__webpack_exports__["a"]=mixin},"0388":function(e,t,n){"use strict";n("4379")},"063f":function(e,t,n){"use strict";n("1ed9")},"0809":function(e,t,n){"use strict";n("8fc5")},"0cfb":function(e,t,n){"use strict";Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},t["a"]={datetime:function(e,t){return e?new Date(+e).Format(t||"yyyy-MM-dd hh:mm"):""},moneyFormat:function(e,t){return e/=100,t=t||2,isNaN(e)?0:+e.toFixed(t)},strSplit:function(e,t,n){n=n||" ",e=e.replace(/\s+/g,""),t=toString.call(t)==toString.call([])?t:[Number(t)];var o,a=[];while(1){t&&t.length&&(o=new RegExp("(\\w{".concat(t.shift(),"}(?!(?:\\s|$)))(.*)")));var i=e.match(o);if(!i){a.push(e);break}a.push(i[1]),e=i[2]}return a.join(n)},replace:function(e,t,n){return(e||"").replace(t,n)},ossImgCrop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return String(e).replace("//image.ymm56.com","//imagecdn.ymm56.com")+"?x-oss-process=image/resize,w_".concat(t)}}},"0e61":function(e,t,n){"use strict";n("45bb")},"0e83":function(e,t,n){},"0e92":function(e,t,n){},"0f93":function(e,t,n){"use strict";n("146f")},"118b":function(e,t,n){"use strict";n("ad07")},"146f":function(e,t,n){},"15d4":function(e){e.exports=JSON.parse('{"id":"root","type":"truck/emptyContainer","visible":true,"style":{"background-color":"rgba(255,255,255,1)","min-height":"100%","height":"auto","width":"100%","position":"absolute"},"props":{},"child":[{"id":"truck/richtextj0n4g65h","type":"truck/richtext","label":"初次见面，请移除我","visible":true,"path":"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/richtext/1.1.5/index.js","style":{"position":"absolute","width":"219px","height":"80px","left":"62.203125px","top":"201.5px","background-image":"","right":"","bottom":""},"animate":[],"props":{"text":"<p><span style=\\"font-size: 54px; color: #ff0000;\\">Hi, <span style=\\"color: #666699;\\">t</span></span><span style=\\"font-size: 54px; color: #666699;\\">here</span></p>"},"script":[],"version":"1.1.5","events":[],"url":"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/richtext/1.1.5/index.js"}],"script":[],"animate":[],"version":"1.0.2","path":"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/emptyContainer/1.0.2/index.js","events":[],"label":"root"}')},"17f5":function(e,t,n){"use strict";n("4d17")},"1ab2":function(e,t,n){},"1ca3":function(e,t,n){},"1d96":function(e,t,n){"use strict";n("c97c")},"1ed9":function(e,t,n){},2174:function(e,t,n){},"25f4":function(e,t,n){},"2a56":function(e,t,n){},"2d7a":function(e){e.exports=JSON.parse("[{\"name\":\"内部页面跳转\",\"content\":\"var node = {\\n    editorMethods: {\\n      projectJump: {\\n        label: '内部跳转',\\n        params: [{\\n          label: '跳转地址',\\n          desc: '项目相对地址',\\n          type: 'string',\\n          default: ''\\n        },{\\n          label: '参数',\\n          desc: 'query形式参数',\\n          type: 'object',\\n          default: {}\\n        }]\\n      }\\n    },\\n    methods:{\\n        projectJump:function(path,query){\\n            console.log(path,query)\\n            this.$router.push({\\n                path:path,\\n                query:query\\n            })\\n        }\\n    }\\n}\\nreturn node\"}]")},"2ff6":function(e,t,n){"use strict";n("c0cf")},"33dd":function(e,t,n){"use strict";n("a700")},3619:function(e,t,n){"use strict";n("4e5d")},3884:function(e,t,n){"use strict";n("1ca3")},"39ef":function(e,t,n){"use strict";n("ebf2")},"3ab3":function(e,t,n){},"3ded":function(e,t,n){},4032:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4032"},4379:function(e,t,n){},"44c8":function(e,t,n){},"45bb":function(e,t,n){},"46ec":function(e,t,n){"use strict";n("01e2")},"46ee":function(e,t){e.exports=plupload},"49f0":function(e,t,n){},"4a5a":function(e,t,n){"use strict";n("c4a9")},"4a86":function(e,t,n){},"4d17":function(e,t,n){},"4e23":function(e,t,n){},"4e5d":function(e,t,n){},5110:function(e,t,n){},"51b4":function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Light (Visual Studio)","include":"./light_defaults.json","tokenColors":[{"scope":["meta.embedded","source.groovy.embedded"],"settings":{"foreground":"#000000ff"}},{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"meta.diff.header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#008000"}},{"scope":"constant.language","settings":{"foreground":"#0000ff"}},{"scope":["constant.numeric"],"settings":{"foreground":"#09885a"}},{"scope":"constant.regexp","settings":{"foreground":"#811f3f"}},{"name":"css tags in selectors, xml tags","scope":"entity.name.tag","settings":{"foreground":"#800000"}},{"scope":"entity.name.selector","settings":{"foreground":"#800000"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#ff0000"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#800000"}},{"scope":"invalid","settings":{"foreground":"#cd3131"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"fontStyle":"bold","foreground":"#000080"}},{"scope":"markup.heading","settings":{"fontStyle":"bold","foreground":"#800000"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#09885a"}},{"scope":"markup.deleted","settings":{"foreground":"#a31515"}},{"scope":"markup.changed","settings":{"foreground":"#0451a5"}},{"scope":["beginning.punctuation.definition.quote.markdown","beginning.punctuation.definition.list.markdown"],"settings":{"foreground":"#0451a5"}},{"scope":"markup.inline.raw","settings":{"foreground":"#800000"}},{"scope":"meta.selector","settings":{"foreground":"#800000"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#800000"}},{"scope":"meta.preprocessor","settings":{"foreground":"#0000ff"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#a31515"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#09885a"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#0451a5"}},{"scope":"storage","settings":{"foreground":"#0000ff"}},{"scope":"storage.type","settings":{"foreground":"#0000ff"}},{"scope":"storage.modifier","settings":{"foreground":"#0000ff"}},{"scope":"string","settings":{"foreground":"#a31515"}},{"scope":["string.comment.buffered.block.pug","string.quoted.pug","string.interpolated.pug","string.unquoted.plain.in.yaml","string.unquoted.plain.out.yaml","string.unquoted.block.yaml","string.quoted.single.yaml","string.quoted.double.xml","string.quoted.single.xml","string.unquoted.cdata.xml","string.quoted.double.html","string.quoted.single.html","string.unquoted.html","string.quoted.single.handlebars","string.quoted.double.handlebars"],"settings":{"foreground":"#0000ff"}},{"scope":"string.regexp","settings":{"foreground":"#811f3f"}},{"name":"String interpolation","scope":["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],"settings":{"foreground":"#0000ff"}},{"name":"Reset JavaScript string interpolation expression","scope":["meta.template.expression"],"settings":{"foreground":"#000000"}},{"scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#0451a5"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],"settings":{"foreground":"#ff0000"}},{"scope":"support.type.property-name.json","settings":{"foreground":"#0451a5"}},{"scope":"keyword","settings":{"foreground":"#0000ff"}},{"scope":"keyword.control","settings":{"foreground":"#0000ff"}},{"scope":"keyword.operator","settings":{"foreground":"#000000"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.instanceof","keyword.operator.logical.python"],"settings":{"foreground":"#0000ff"}},{"scope":"keyword.other.unit","settings":{"foreground":"#09885a"}},{"scope":["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],"settings":{"foreground":"#800000"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#0451a5"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#09885a"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],"settings":{"foreground":"#000000"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#0000ff"}},{"scope":"storage.modifier.static","settings":{"fontStyle":"italic"}},{"scope":"storage.modifier.abstract","settings":{"foreground":"#000000"}},{"scope":"invalid.deprecated","settings":{"fontStyle":"italic underline"}},{"scope":"keyword.other.var","settings":{"foreground":"#0000ff"}},{"scope":"variable.other.autoboxing.java","settings":{"foreground":"#9f3918"}}]}')},5347:function(e,t,n){"use strict";n("6550")},5522:function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Dark+ (default dark)","include":"./dark_vs.json","tokenColors":[{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#DCDCAA"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#C586C0"}},{"name":"Variable and parameter name","scope":["variable","meta.definition.variable.name","support.variable"],"settings":{"foreground":"#9CDCFE"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key"],"settings":{"foreground":"#9CDCFE"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"name":"Regular expression groups","scope":["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],"settings":{"foreground":"#CE9178"}},{"scope":["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],"settings":{"foreground":"#d16969"}},{"scope":["keyword.operator.or.regexp","keyword.control.anchor.regexp"],"settings":{"foreground":"#DCDCAA"}},{"scope":"keyword.operator.quantifier.regexp","settings":{"foreground":"#d7ba7d"}},{"scope":"constant.character","settings":{"foreground":"#569cd6"}},{"scope":"constant.character.escape","settings":{"foreground":"#d7ba7d"}}]}')},5880:function(e,t){e.exports=Vuex},5898:function(e,t,n){"use strict";n.r(t);var o=n("8bbf"),a=n.n(o);n("a28e"),a.a.filter("datetime",(function(e,t){return new Date(e).Format(t||"yyyy-MM-dd hh:mm")})),a.a.filter("sdatetime",(function(e,t){var n=parseInt(e+"000");return new Date(n).Format(t||"yyyy-MM-dd hh:mm")})),a.a.filter("fulldaytime",(function(e,t){return new Date(e).Format(t||"yyyy-MM-dd")})),a.a.filter("daytime",(function(e,t){return new Date(e).Format(t||"MM-dd")})),a.a.filter("moneyFormat",(function(e,t){if(e/=100,t=t||2,parseFloat(e)>0){var n=parseFloat(e).toFixed(t);n=n.split(".");var o=parseFloat(n[0]).toString();return"00"==n[1]?o:o+"."+(n[1]||"")}return 0})),a.a.filter("moneyDecFormat",(function(e){return e=parseFloat(e),isNaN(e)?"":(e/=100,e>100?(e=e.toFixed(0),e):e>=1&&e<=10?(e=e.toFixed(1),e):e<1?(e=e.toFixed(2),e):void 0)})),a.a.filter("numSplit",(function(e,t){var n=new RegExp("(\\w{".concat(t,"}(?!(?:\\s|$)))"),"g");return e.replace(/[^\d]+/g,"").replace(n,(function(e,t){return t+" "}))})),a.a.filter("numSplitSync",{read:function(e,t){var n=new RegExp("(\\w{".concat(t,"}(?!(?:\\s|$)))"),"g"),o=e.replace(/[^\d]+/g,"").replace(n,(function(e,t){return t+" "}));return o},write:function(e,t){return e.replace(/\s+/g,"")}}),a.a.filter("strFilterSync",{read:function(e,t){return t&&"string"===typeof t&&(t=new RegExp(t,"g")),e.replace(t,"")},write:function(e,t){return e}}),a.a.filter("unitFormat",(function(e,t){return e<=0||!e?"":e+t})),a.a.filter("trimDest",(function(e,t){return t=new RegExp(t||"[省市区县]","g"),e.replace(t,"")})),a.a.filter("regReplace",(function(e,t,n){var o=new RegExp(t,"g");return(e||"").replace(o,n)})),a.a.filter("imageDefault",(function(e){return e=e||"http://fl5.gtimg.com/flpartition0/7088/631007088/564/3744770553906093122431120144653.png!t160x240.png",e}))},"59da":function(e,t,n){"use strict";n("7f1a")},"59e1":function(e,t,n){},"5a79":function(e,t,n){"use strict";n("e88d")},"5adb":function(e,t,n){"use strict";n("b0ee")},"5cc0":function(e,t,n){"use strict";n("6bab")},"61b3":function(e,t,n){},6438:function(e,t,n){"use strict";n("3ded")},6550:function(e,t,n){},6701:function(e,t,n){"use strict";n("8bb9")},"67e1":function(e,t,n){"use strict";n("5110")},"6bab":function(e,t,n){},"70a6":function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Dark Default Colors","colors":{"editor.background":"#1E1E1E","editor.foreground":"#D4D4D4","editor.inactiveSelectionBackground":"#3A3D41","editorIndentGuide.background":"#404040","editorIndentGuide.activeBackground":"#707070","editor.selectionHighlightBackground":"#ADD6FF26","list.dropBackground":"#383B3D","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#BBBBBB"}}')},"70a7":function(e,t,n){"use strict";n("2174")},"70c0":function(e,t,n){"use strict";n("96d6")},"72a6":function(e,t,n){},"75fb":function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Light Default Colors","colors":{"editor.background":"#FFFFFF","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background":"#D3D3D3","editorIndentGuide.activeBackground":"#939393","editor.selectionHighlightBackground":"#ADD6FF4D","editorSuggestWidget.background":"#F3F3F3","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#6F6F6F","list.hoverBackground":"#E8E8E8","input.placeholderForeground":"#ADADAD"}}')},"79b9":function(e,t){e.exports={SHOP:"https://godspen.ymm56.com/shop/",VIEW_PATH:"view",ADMIN_PATH:"admin",EDITOR_PATH:"editor",API_PATH:"api",EDITOR_TITLE:"编辑器",ADMIN_TITLE:"管理后台",BAIDU_TONGJI:""}},"7ef4":function(e,t,n){"use strict";n("c0f1")},"7f1a":function(e,t,n){},"7f61":function(e){e.exports=JSON.parse('{"type":"dark","colors":{"dropdown.background":"#414339","list.activeSelectionBackground":"#75715E","list.focusBackground":"#414339","list.inactiveSelectionBackground":"#414339","list.hoverBackground":"#272822","list.dropBackground":"#414339","list.highlightForeground":"#f8f8f2","button.background":"#75715E","editor.background":"#272822","editor.foreground":"#f8f8f2","selection.background":"#ccccc7","editor.selectionHighlightBackground":"#575b6180","editor.selectionBackground":"#878b9180","editor.wordHighlightBackground":"#4a4a7680","editor.wordHighlightStrongBackground":"#6a6a9680","editor.lineHighlightBackground":"#3e3d32","editorCursor.foreground":"#f8f8f0","editorWhitespace.foreground":"#464741","editorIndentGuide.background":"#464741","editorGroupHeader.tabsBackground":"#1e1f1c","editorGroup.dropBackground":"#41433980","tab.inactiveBackground":"#414339","tab.border":"#1e1f1c","tab.inactiveForeground":"#ccccc7","widget.shadow":"#000000","progressBar.background":"#75715E","badge.background":"#75715E","badge.foreground":"#f8f8f2","editorLineNumber.foreground":"#90908a","panelTitle.activeForeground":"#f8f8f2","panelTitle.activeBorder":"#75715E","panelTitle.inactiveForeground":"#75715E","panel.border":"#414339","titleBar.activeBackground":"#1e1f1c","statusBar.background":"#414339","statusBar.noFolderBackground":"#414339","statusBar.debuggingBackground":"#75715E","activityBar.background":"#272822","activityBar.foreground":"#f8f8f2","activityBar.dropBackground":"#414339","sideBar.background":"#1e1f1c","sideBarSectionHeader.background":"#272822","pickerGroup.foreground":"#75715E","input.background":"#414339","inputOption.activeBorder":"#75715E","focusBorder":"#75715E","editorWidget.background":"#1e1f1c","debugToolBar.background":"#1e1f1c","diffEditor.insertedTextBackground":"#66852880","diffEditor.removedTextBackground":"#90274A80","inputValidation.errorBackground":"#90274A","inputValidation.errorBorder":"#f92672","inputValidation.warningBackground":"#848528","inputValidation.warningBorder":"#e2e22e","inputValidation.infoBackground":"#546190","inputValidation.infoBorder":"#819aff","editorHoverWidget.background":"#414339","editorHoverWidget.border":"#75715E","editorSuggestWidget.background":"#272822","editorSuggestWidget.border":"#75715E","editorGroup.border":"#414339","peekView.border":"#75715E","peekViewEditor.background":"#272822","peekViewResult.background":"#1e1f1c","peekViewTitle.background":"#1e1f1c","peekViewResult.selectionBackground":"#414339","peekViewResult.matchHighlightBackground":"#75715E","peekViewEditor.matchHighlightBackground":"#75715E","terminal.ansiBlack":"#333333","terminal.ansiRed":"#C4265E","terminal.ansiGreen":"#86B42B","terminal.ansiYellow":"#B3B42B","terminal.ansiBlue":"#6A7EC8","terminal.ansiMagenta":"#8C6BC8","terminal.ansiCyan":"#56ADBC","terminal.ansiWhite":"#e3e3dd","terminal.ansiBrightBlack":"#666666","terminal.ansiBrightRed":"#f92672","terminal.ansiBrightGreen":"#A6E22E","terminal.ansiBrightYellow":"#e2e22e","terminal.ansiBrightBlue":"#819aff","terminal.ansiBrightMagenta":"#AE81FF","terminal.ansiBrightCyan":"#66D9EF","terminal.ansiBrightWhite":"#f8f8f2"},"tokenColors":[{"settings":{"background":"#272822","foreground":"#F8F8F2"}},{"scope":["meta.embedded","source.groovy.embedded"],"settings":{"background":"#272822","foreground":"#F8F8F2"}},{"name":"Comment","scope":"comment","settings":{"foreground":"#75715E"}},{"name":"String","scope":"string","settings":{"foreground":"#E6DB74"}},{"name":"Template Definition","scope":["punctuation.definition.template-expression","punctuation.section.embedded"],"settings":{"foreground":"#F92672"}},{"name":"Reset JavaScript string interpolation expression","scope":["meta.template.expression"],"settings":{"foreground":"#F8F8F2"}},{"name":"Built-in constant","scope":"constant.language","settings":{"foreground":"#AE81FF"}},{"name":"User-defined constant","scope":"constant.character, constant.other","settings":{"foreground":"#AE81FF"}},{"name":"Numeric suffix","scope":"numeric-suffix","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"Number","scope":"constant.numeric","settings":{"foreground":"#AE81FF"}},{"name":"Variable","scope":"variable","settings":{"fontStyle":"","foreground":"#F8F8F2"}},{"name":"Punctuation tilde ~","scope":"punctuation.tilde","settings":{"fontStyle":"","foreground":"#A6E22E"}},{"name":"Punctuation brackets attribute","scope":"punctuation.squarebracket-attribute","settings":{"fontStyle":"","foreground":"#F92672"}},{"name":"Keyword type","scope":"keyword.type","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"Keyword","scope":"keyword","settings":{"fontStyle":"","foreground":"#F92672"}},{"name":"Keyword other class","scope":"keyword.other.class","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"Storage","scope":"storage","settings":{"fontStyle":"","foreground":"#F92672"}},{"name":"Function call","scope":"meta.function-call","settings":{"fontStyle":"","foreground":"#66D9EF"}},{"name":"Meta function call and type-parameter","scope":"storage.type, entity.name.type.type-parameter","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"La f del 10.0f","scope":"storage.type.numeric","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"Class name","scope":"entity.name.type, entity.name.class","settings":{"foreground":"#A6E22E"}},{"name":"Parameters and this","scope":"entity.name.variable.parameter, keyword.other.this, keyword.other.base","settings":{"fontStyle":"italic","foreground":"#FD971F"}},{"name":"Class name","scope":"entity.name.type.namespace","settings":{"foreground":"#FFFFFF"}},{"name":"Inherited class","scope":"entity.other.inherited-class","settings":{"fontStyle":"italic underline","foreground":"#A6E22E"}},{"name":"Function name","scope":"entity.name.function","settings":{"fontStyle":"","foreground":"#A6E22E"}},{"name":"Inheritance","scope":"inherit-class","settings":{"fontStyle":"","foreground":"#A6E22E"}},{"name":"Function argument","scope":"variable.parameter","settings":{"fontStyle":"italic","foreground":"#FD971F"}},{"name":"Tag name","scope":"entity.name.tag","settings":{"fontStyle":"","foreground":"#F92672"}},{"name":"Tag attribute","scope":"entity.other.attribute-name","settings":{"fontStyle":"","foreground":"#A6E22E"}},{"name":"Library function","scope":"support.function","settings":{"fontStyle":"","foreground":"#66D9EF"}},{"name":"Library constant","scope":"support.constant","settings":{"fontStyle":"","foreground":"#66D9EF"}},{"name":"Library class/type","scope":"support.type, support.class","settings":{"fontStyle":"italic","foreground":"#66D9EF"}},{"name":"Library variable","scope":"support.other.variable","settings":{"fontStyle":""}},{"name":"Invalid","scope":"invalid","settings":{"background":"#F92672","fontStyle":"","foreground":"#F8F8F0"}},{"name":"Invalid deprecated","scope":"invalid.deprecated","settings":{"background":"#AE81FF","foreground":"#F8F8F0"}},{"name":"JSON String","scope":"meta.structure.dictionary.json string.quoted.double.json","settings":{"foreground":"#CFCFC2"}},{"name":"diff.header","scope":"meta.diff, meta.diff.header","settings":{"foreground":"#75715E"}},{"name":"diff.deleted","scope":"markup.deleted","settings":{"foreground":"#F92672"}},{"name":"diff.inserted","scope":"markup.inserted","settings":{"foreground":"#A6E22E"}},{"name":"diff.changed","scope":"markup.changed","settings":{"foreground":"#E6DB74"}},{"scope":"constant.numeric.line-number.find-in-files - match","settings":{"foreground":"#AE81FFA0"}},{"scope":"entity.name.filename.find-in-files","settings":{"foreground":"#E6DB74"}},{"name":"Markup Quote","scope":"markup.quote","settings":{"foreground":"#F92672"}},{"name":"Markup Lists","scope":"markup.list","settings":{"foreground":"#E6DB74"}},{"name":"Markup Styling","scope":"markup.bold, markup.italic","settings":{"foreground":"#66D9EF"}},{"name":"Markup Inline","scope":"markup.inline.raw","settings":{"fontStyle":"","foreground":"#FD971F"}},{"name":"Markup Headings","scope":"markup.heading","settings":{"foreground":"#A6E22E"}},{"name":"Markup Setext Header","scope":"markup.heading.setext","settings":{"fontStyle":"","foreground":"#A6E22E"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#FD971F"}}]}')},8796:function(e,t,n){"use strict";n("3ab3")},8885:function(e,t,n){"use strict";n("4a86")},"8a43":function(e,t,n){},"8ab0":function(e,t,n){},"8bb9":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},"8ce7":function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Dark (Visual Studio)","include":"./dark_defaults.json","tokenColors":[{"scope":["meta.embedded","source.groovy.embedded"],"settings":{"foreground":"#D4D4D4"}},{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#608b4e"}},{"scope":"constant.language","settings":{"foreground":"#569cd6"}},{"scope":["constant.numeric"],"settings":{"foreground":"#b5cea8"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#569cd6"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#9cdcfe"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"fontStyle":"bold","foreground":"#569cd6"}},{"scope":"markup.heading","settings":{"fontStyle":"bold","foreground":"#569cd6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#569cd6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#808080"}},{"scope":"meta.preprocessor","settings":{"foreground":"#569cd6"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9cdcfe"}},{"scope":"meta.diff.header","settings":{"foreground":"#569cd6"}},{"scope":"storage","settings":{"foreground":"#569cd6"}},{"scope":"storage.type","settings":{"foreground":"#569cd6"}},{"scope":"storage.modifier","settings":{"foreground":"#569cd6"}},{"scope":"string","settings":{"foreground":"#ce9178"}},{"scope":"string.tag","settings":{"foreground":"#ce9178"}},{"scope":"string.value","settings":{"foreground":"#ce9178"}},{"scope":"string.regexp","settings":{"foreground":"#d16969"}},{"name":"String interpolation","scope":["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],"settings":{"foreground":"#569cd6"}},{"name":"Reset JavaScript string interpolation expression","scope":["meta.template.expression"],"settings":{"foreground":"#d4d4d4"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],"settings":{"foreground":"#9cdcfe"}},{"scope":"keyword","settings":{"foreground":"#569cd6"}},{"scope":"keyword.control","settings":{"foreground":"#569cd6"}},{"scope":"keyword.operator","settings":{"foreground":"#d4d4d4"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.instanceof","keyword.operator.logical.python"],"settings":{"foreground":"#569cd6"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],"settings":{"foreground":"#569cd6"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9cdcfe"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#569cd6"}},{"scope":"storage.modifier.static","settings":{"fontStyle":"italic"}},{"scope":"storage.modifier.abstract","settings":{"foreground":"#d4d4d4"}},{"scope":"invalid.deprecated","settings":{"fontStyle":"italic underline"}},{"scope":"keyword.other.var","settings":{"foreground":"#569cd6"}},{"scope":"variable.other.autoboxing.java","settings":{"foreground":"#9f3918"}}]}')},"8d29":function(e){e.exports=JSON.parse('{"layout":{"children":[{"children":[{"children":[{"name":"组件列表","component":"widgetComponent","close":true,"pop":true},{"name":"组合组件","component":"widgetCombinedComponents","close":true,"pop":true}],"type":"panel","flex":0.5},{"children":[{"name":"组件树","component":"widgetComponentTree","close":true,"pop":true},{"name":"页面模板","component":"widgetPageTemplate"}],"type":"panel","flex":0.5}],"type":"column","flex":0.20626959247648904},{"children":[{"children":[{"name":"场景","component":"widgetScene","close":false,"pop":false},{"name":"组件详情","component":"widgetComponentInfo","close":true,"pop":true},{"name":"页面设置","component":"widgetPageInfo","close":true,"pop":true},{"name":"商城","component":"widgetShop","close":true,"pop":true}],"type":"panel","flex":0.9},{"children":[{"name":"动画","component":"widgetAnimate","close":true,"pop":true}],"type":"panel","flex":0.1}],"type":"column","flex":0.5512481056767048},{"children":[{"children":[{"name":"属性","component":"widgetAttribute","close":false,"pop":true},{"name":"样式","component":"widgetStyleEditor","close":false,"pop":true}],"type":"panel","flex":0.7888643880926131},{"children":[{"name":"脚本","component":"widgetScriptEditor","close":true,"style":{"width":"300px","height":"400px","left":"300px","top":"300px"},"pop":true}],"type":"panel","flex":0.211135611907387}],"type":"column","flex":0.2424823018468062}],"type":"row"},"dialogs":[],"version":1.3,"name":"default"}')},"8ef1":function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"initComponentList",(function(){return mt})),n.d(o,"SettingChange",(function(){return ft})),n.d(o,"setConfig",(function(){return ht})),n.d(o,"setUser",(function(){return gt})),n.d(o,"setCurrentPage",(function(){return bt})),n.d(o,"setPageInfo",(function(){return yt})),n.d(o,"dataHubSet",(function(){return vt})),n.d(o,"setCurrentLayout",(function(){return wt})),n.d(o,"setPageType",(function(){return kt}));var a={};n.r(a),n.d(a,"getMetadata",(function(){return xt}));var i={};n.r(i),n.d(i,"initComponentList",(function(){return _t})),n.d(i,"SettingChange",(function(){return $t})),n.d(i,"SET_CONFIG",(function(){return Ct})),n.d(i,"SET_USER",(function(){return St})),n.d(i,"SET_PAGE_INFO",(function(){return jt})),n.d(i,"DATA_HUB_SET",(function(){return Et})),n.d(i,"SET_CURRENT_LAYOUT",(function(){return It})),n.d(i,"SET_PAGE_TYPE",(function(){return Ot}));var r=n("8bbf"),s=n.n(r),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editorWarp",on:{contextmenu:function(e){e.preventDefault(),e.stopPropagation()}}},[n("myheader",{attrs:{"layout-data":e.layoutData}}),e.nodeInfo&&e.layoutData?n("ui-dock",{attrs:{info:e.layoutData}}):e._e(),n("div",{staticClass:"footer"},[n("tips")],1),n("context-menu"),n("c-dialogs"),n("div",{ref:"clipboard",staticStyle:{width:"0",height:"0"},attrs:{"data-clipboard-text":e.clipboardContent}}),null!=e.screenshotKey?n("upload-image",{key:e.screenshotKey,ref:"screenshot",attrs:{h2c:{scale:1},"skip-size-check":""}}):e._e(),n("bughd")],1)},l=[],d=n("a34a"),u=n.n(d),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"tool",style:e.style},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){return e.itemClick("copy")}}},[n("i",{staticClass:"iconfont icon-copy"}),e._v("\n      复制\n    ")]),n("a",{staticClass:"item-sub",on:{click:function(t){return e.itemClick("deleteNode")}}},[n("i",{staticClass:"iconfont icon-delete"}),e._v("\n      删除\n    ")])]),n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("copyStyle")}}},[n("i",{staticClass:"iconfont icon-copy"}),e._v("\n    复制样式\n  ")]),n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("pasteStyle")}}},[n("i",{staticClass:"iconfont icon-paste"}),e._v("\n    粘贴样式\n  ")]),n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("exportJson")}}},[n("i",{staticClass:"iconfont icon-export"}),e._v("\n    导出节点\n  ")]),n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("importJson")}}},[n("i",{staticClass:"iconfont icon-import"}),e._v("\n    导入节点\n  ")]),e.node&&!e.isRootNode?[n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("combinedNode")}}},[n("i",{staticClass:"iconfont icon-import"}),e._v("\n    另存为组合组件\n  ")]),e.node.packed?n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("unpackNode")}}},[n("i",{staticClass:"iconfont icon-import"}),e._v("\n      解除封装\n    ")]):n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("packNode")}}},[n("i",{staticClass:"iconfont icon-pack"}),e._v("\n      封装\n    ")])]:e._e(),n("a",{staticClass:"item",on:{click:function(t){return e.itemClick("reloadNode")}}},[n("i",{staticClass:"iconfont icon-refresh"}),e._v("\n    重载节点\n  ")]),!e.isRootNode&&e.stacked?[n("div",{staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){return e.moveLayer(1)}}},[e._v("\n        上移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){return e.moveLayer(-1)}}},[e._v("\n        下移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){return e.moveLayer(Number.MAX_VALUE)}}},[e._v("\n        置顶\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){return e.moveLayer(Number.MIN_VALUE)}}},[e._v("\n        置底\n      ")])])]:e._e(),e.isRootNode||e.stacked||e.fixed?e._e():[n("div",{staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){return e.moveLayer(1)}}},[e._v("\n        下移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){return e.moveLayer(-1)}}},[e._v("\n        上移\n      ")])])]],2):e._e()},m=[],f=n("ed03"),h=n("0644"),g=n.n(h),b={mixins:[f["a"]],components:{},name:"ContextMenu",props:{},data:function(){return{visible:!1,node:null,style:{left:0,top:0}}},computed:{isRootNode:function(){var e=this.node;return!!e&&this.node.isRootNode},stacked:function(){return!!this.node&&this.node.stacked},fixed:function(){return!!this.node&&(this.node.nodeInfo.style&&"fixed"===this.node.nodeInfo.style.position)}},mounted:function(){var e=this,t=document.documentElement.clientHeight;this.ema.bind("show.contextMenu",(function(n,o){var a=o.pageY;e.node=n,e.visible=!0,n.actived("contextMenu"),e.$nextTick((function(){var n=parseInt(getComputedStyle(e.$el).height)||320;e.style.left=2+o.pageX+"px",e.style.top=2+a-Math.max(n+10-(t-a),0)+"px"}))})),this.ema.bind("hide.contextMenu",(function(){e.visible=!1}))},methods:{itemClick:function(e){this.visible=!1,"function"==typeof this[e]&&this[e](this.node)},deleteNode:function(e){e&&this.ema.fire("move.node",this.node.nodeInfo.id,null)},moveLayer:function(e){this.visible=!1,this.node&&this.node.parentNodeVm&&this.node.parentNodeVm.moveLayer(this.node.nodeInfo,e)},copy:function(){this.node&&this.node.parentNodeVm&&this.node.parentNodeVm.copyChild(this.node.nodeInfo,{})},copyStyle:function(){this.node.copyStyle()},pasteStyle:function(){this.node.pasteStyle()},reloadNode:function(){this.node&&this.ema.fire("component.reload",this.node&&this.node.nodeInfo.id)},importJson:function(){var e=this,t=JSON.stringify(this.node.nodeInfo,null,2),n=/(?:"id"\s?\:\s?")(\w+)"/,o=(t.match(new RegExp(n,"g"))||[]).map((function(e){return e.replace(n,(function(e,t){return t}))}));this.openDialog({name:"d-nodejson",data:{idCache:o,content:t,type:"import"},methods:{saveContent:function(t){Object.assign(e.node.nodeInfo,t)}}})},exportJson:function(){this.openDialog({name:"d-nodejson",data:{content:JSON.stringify(this.node.nodeInfo,null,2),type:"export"},methods:{}})},combinedNode:function(){if(this.demoMode)return this.$alert("您处在 demo 模式下，不能保存数据哦");var e=this.node.$el,t="el_".concat(Date.now());e.setAttribute("el",t);var n=g()(this.node.nodeInfo);n.packed=!0,this.openDialog({name:"d-saveCombinedComponent",data:{elID:t,content:JSON.stringify(n)}})},packNode:function(){"function"===typeof(this.node&&this.node.doPack)&&this.node.doPack({scene:"context_menu"})},unpackNode:function(){"function"===typeof(this.node&&this.node.openPacked)&&this.node.openPacked({scene:"context_menu"})}}},y=b,v=(n("fd48"),n("2877")),w=Object(v["a"])(y,p,m,!1,null,"166ab4ba",null),k=w.exports,x={EditorHistory:[],index:-1,maxLength:50,getPrev:function(){var e=this.index-1,t=this.EditorHistory[e];if(t){this.index=e;try{t=JSON.parse(t)}catch(n){t=null}}return t},getNext:function(){var e=this.index+1,t=this.EditorHistory[e];if(t){this.index=e;try{t=JSON.parse(t)}catch(n){t=null}}return t},add:function(e){if(e){var t=this.index,n=0,o=this.EditorHistory.length;t==o-1&&o<this.maxLength||(n=Math.max(t+2-this.maxLength,0),this.EditorHistory=this.EditorHistory.slice(n,t+1)),this.EditorHistory.push(JSON.stringify(e)),this.index=this.EditorHistory.length-1}}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dialogs"},e._l(e.dialogs,(function(e){return n(e.name,{key:e.name,tag:"component"})})),1)},$=[],C={mixins:[f["a"]],name:"Dialogs",data:function(){return{dialogs:[],currentDialog:""}},mounted:function(){var e=this;this.bindEvent("push",(function(t){e.loadDialog({name:t.name,data:JSON.parse(JSON.stringify(t.data)),methods:t.methods},(function(){e.pushDialog(t.name)}))})),this.bindEvent("close",(function(t){for(var n=e.dialogs.length-1,o=n;o>=0;o--){var a=e.dialogs[o];if(a.name==t)break}e.dialogs.splice(o,1)}))},methods:{pushDialog:function(e){this.dialogs.push({name:e})},loadDialog:function(e,t){var o=e.name;n("bfb3")("./"+o).then((function(n){var a=s.a.extend(n.default);a=a.extend({data:function(){return e.data},methods:e.methods}),s.a.component(o,a),t()})).catch((function(){console.log("Chunk loading failed",o)}))}}},S=C,j=(n("39ef"),Object(v["a"])(S,_,$,!1,null,"4fff3466",null)),E=j.exports,I=n("a7fe"),O=n("15d4"),A=n("c455"),T=n("db69"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-main",on:{mouseup:function(t){return e.mouseup(t)},mousemove:function(t){return e.mousemove(t)}}},[n("main-dock",{attrs:{info:e.info.layout,level:10}}),e._l(e.info.dialogs,(function(t,o){return n("dialogone",{key:(t.component||"main")+o,attrs:{info:t}},[t&&t.children?n("main-dock",{attrs:{info:t,level:11}}):e._e()],1)})),e._l(e.onedialogs,(function(e,t){return n("dialogone",{key:e.component+t,attrs:{info:e}})})),e.showMask?n("div",{staticClass:"dock-mask dock",style:e.maskStyle}):e._e()],2)},P=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock",class:[e.info.type,e.showMask?"showMask":""],style:{flex:e.info.flex||1,"z-index":e.level}},[e._l(e.info.children,(function(t,o){return["panel"==t.type?n("panel",{key:"panel"+o,attrs:{info:t,level:e.level+1}}):n("dock-main",{key:"main"+o,attrs:{info:t,level:e.level+1}}),o!=e.info.children.length-1?n("resizer",{key:"resize"+o,class:[e.info.type],attrs:{type:e.info.type,level:e.level+1}}):e._e()]})),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask top",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask left",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask right",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask bottom",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e()],2)},M=[],L={name:"node",data:function(e){return{showMask:!1,dragPanel:null}},watch:{},mounted:function(){var e=this;this.ema.bind("dock.panelTitleDragStart",(function(t,n){e.showMask=!0,e.dragPanel=t,e.dragInfo=n})),this.ema.bind("dock.panelTitleDragEnd",(function(t){e.showMask=!1}))},methods:{dragover:function(e){e.stopPropagation(),e.preventDefault()},dragleave:function(e){e.stopPropagation(),e.preventDefault(),this.ema.fire("dock.maskDragleave")},dragenter:function(e){e.stopPropagation(),this.ema.fire("dock.maskDragenter",e,this)},drop:function(e){e.stopPropagation(),e.preventDefault(),this.ema.fire("dock.panelTitleDrop",e),this.showMask=!1}}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-panel",class:{showMask:e.showMask},style:{flex:e.info.flex||1,"z-index":e.level},attrs:{tabindex:"0"},on:{keydown:function(t){return e.keydown(t)},keyup:function(t){return e.keydown(t)},"!click":function(t){return e.panelSelect(t)}}},[n("el-tabs",{staticClass:"border-card",class:{active:e.active},attrs:{type:"border-card"},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.info.children,(function(t){return n("el-tab-pane",{key:t.component,staticClass:"tab-panel",attrs:{name:t.component}},[n("span",{staticClass:"tab-label",attrs:{slot:"label",draggable:"true"},on:{dragstart:function(n){return e.dragstart(n,t)},dragend:function(n){return e.dragend(n,t)}},slot:"label"},[n("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(t.name))]),t.component?n(t.component,{tag:"component",attrs:{active:e.editableTabsValue==t.component}}):e._e()],1)})),1),n("div",{staticClass:"control"},[e.selectPanel?n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.dropClick}},[n("i",{staticClass:"el-icon-menu btn"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:!e.selectPanel.close,command:"close"}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectPanel.close,expression:"!selectPanel.close"}],staticClass:"iconfont icon-disablenotallowed"}),e._v(" 关闭")]),n("el-dropdown-item",{attrs:{disabled:!e.selectPanel.pop,command:"jump"}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectPanel.pop,expression:"!selectPanel.pop"}],staticClass:"iconfont icon-disablenotallowed"}),e._v(" 弹出")])],1)],1):e._e()],1),e.showMask&&e.canDragIn?n("div",{staticClass:"mask top",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask left",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask right",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask bottom",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e(),e.showMask?n("div",{staticClass:"mask header",style:{"z-index":e.level},on:{dragover:function(t){return e.dragover(t)},drop:function(t){return e.dropHeader(t)},dragleave:function(t){return e.dragleave(t)},dragenter:function(t){return e.dragenter(t)}}}):e._e()],1)},B=[],R={mixins:[f["a"],L],name:"dockPanel",components:{},props:{info:{required:!0,type:Object},level:{type:Number}},data:function(){return{active:!1,isDraging:!1,editableTabsValue:"",selectPanel:null}},watch:{editableTabsValue:function(e){var t=this.info.children.filter((function(t){return t.component==e}));this.selectPanel=t&&t[0]},currentLayout:function(e){setTimeout(this.activeFirst,100)},activeIsValid:function(e){e||this.activeFirst()}},computed:{canDragIn:function(e){return this.isDraging&&1==this.info.children.length},currentLayout:function(){return this.$store.state.viewOption.currentLayout},childrenComponent:function(){return this.info.children.map((function(e){return e&&e.component}))},activeIsValid:function(){return this.childrenComponent.includes(this.editableTabsValue)}},mounted:function(){var e=this;this.activeFirst(),this.ema.bind("dock.panelUnActive",(function(t){e.active=!1})),this.ema.bind("dock.panelActive",(function(t){e.info.children.forEach((function(n){t==n.component&&(e.editableTabsValue=t)}))}))},methods:{activeFirst:function(){var e=this.info.children&&this.info.children[0];this.editableTabsValue=e.component},keydown:function(e){this.active&&(e.panelName=this.selectPanel.component)},panelSelect:function(e){this.active=!0},dragend:function(e){this.isDraging=!1,this.ema.fire("dock.panelTitleDragEnd",e)},dragstart:function(e,t){this.isDraging=!0,e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),this.ema.fire("dock.panelTitleDragStart",this,t)},dropClick:function(e){this[e]()},removeOne:function(e){var t=this,n=e||this.info.children.find((function(e,n){if(e.component==t.editableTabsValue)return!0}));return this.info.children.splice(this.info.children.indexOf(n),1),this.info.children.length>0?this.editableTabsValue=this.info.children[0].component:this.$parent&&this.$parent.removePanel&&this.$parent.removePanel(this.info),n},jump:function(e){var t=g()(this.removeOne());if(t){var n=this.$el.getBoundingClientRect(),o={width:n.width+"px",height:n.height+"px",left:"100px",top:"100px"};t.style=Object.assign(o,t.style||{}),this.ema.fire("dock.dialogPush",t)}},close:function(){this.removeOne()},dropHeader:function(e){var t=this,n=this.info.children.find((function(e,n){if(e.component==t.dragInfo.component)return!0}));n||(this.info.children.push(g()(this.dragInfo)),this.dragPanel.removeOne(this.dragInfo),this.editableTabsValue=this.dragInfo.component),this.ema.fire("dock.panelTitleHeaderDrop",e),this.showMask=!1}}},z=R,H=(n("6438"),n("b4bc"),Object(v["a"])(z,F,B,!1,null,"7f5baad4",null)),U=H.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-resizer",class:{active:e.active},style:{"z-index":e.level},on:{mousedown:function(t){return e.mousedown(t)}}},[n("div",{staticClass:"bar"})])},G=[],W={mixins:[f["a"]],name:"dockResizer",components:{},props:{type:{type:String},info:{type:Object},level:{type:Number}},data:function(){return{move:{start:{x:0,y:0},end:{x:0,y:0}},active:!1}},watch:{},computed:{},mounted:function(){var e=this;this.ema.bind("dock-mouseup",(function(){e.active&&e.$parent.mouseup(),e.active=!1})),this.ema.bind("dock-mousemove",(function(t){e.active&&(e.move.end={x:t.pageX,y:t.pageY},e.$parent.doMove(e,{x:e.move.start.x-e.move.end.x,y:e.move.start.y-e.move.end.y}))}))},methods:{mousedown:function(e){this.move.start={x:e.pageX,y:e.pageY},this.active=!0,this.active&&this.$parent.mousedown(this)}}},q=W,K=(n("5adb"),Object(v["a"])(q,V,G,!1,null,"7d69becd",null)),J=K.exports,Y={mixins:[f["a"],L],name:"dockMain",components:{Panel:U,Resizer:J},props:{info:{required:!0,type:Object},level:{type:Number}},data:function(){return{boxSize:{width:0,iwidth:0,height:0,iheight:0},resizerSize:3}},watch:{},mounted:function(){this.initBounding()},methods:{removePanel:function(e){this.info.children.splice(this.info.children.indexOf(e),1),this.info.children.length>0?this.info.children[0].flex+=e.flex:this.$parent&&this.$parent.removePanel&&this.$parent.removePanel(this.info)},getBrother:function(e){var t=0,n=this.$children;n.find((function(n,o){if(n==e)return t=o,!0})),t&&(this.preBrother=n[t-1],this.nextBrother=n[t+1])},initBounding:function(){var e=this.$el.getBoundingClientRect(),t=this.$children.length;this.boxSize.width=e.width,this.boxSize.iwidth=e.width-Math.floor(t/2)*this.resizerSize,this.boxSize.height=e.height,this.boxSize.iheight=e.height-Math.floor(t/2)*this.resizerSize},doMove:function(e,t){var n="row"==this.info.type?"x":"y",o=parseFloat(this.preFlex-t[n]),a=parseFloat(this.nextFlex+t[n]);this.preBrother&&this.nextBrother&&(this.preBrother.info.flex=o+"px",this.nextBrother.info.flex=a+"px")},mouseup:function(){var e=this;this.initBounding();var t="row"==this.info.type?"width":"height",n=this.boxSize["i"+t];this.info.children.forEach((function(t){e.$set(t,"flex",parseFloat(t.flex)/n)}))},dealPx:function(){var e=this,t="row"==this.info.type?"width":"height",n=this.boxSize["i"+t],o=this.info.children.find((function(e){if(-1!=(e.flex+"").indexOf("px"))return!0}));o&&this.info.children.forEach((function(t){t.flex=1/e.info.children.length})),this.info.children.forEach((function(t){e.$set(t,"flex",t.flex*n+"px")}))},dealPrecent:function(){var e=this,t="row"==this.info.type?"width":"height",n=0;this.info.children.forEach((function(e){n+=e[t]})),this.info.children.forEach((function(o){e.$set(o,"flex",o[t]/n)}))},mousedown:function(e){this.getBrother(e),this.initBounding(),this.dealPx(),this.preBrother&&this.nextBrother&&(this.preFlex=parseFloat(this.preBrother.info.flex),this.nextFlex=parseFloat(this.nextBrother.info.flex))}}},X=Y,Z=(n("46ec"),Object(v["a"])(X,D,M,!1,null,"f7c64146",null)),Q=Z.exports,ee=function(){var e,t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"ui-dock-dialog comp-panel-frame animation-panel",class:(e={moving:t.active,"for-main-dock":t.isForMainDock},e[t.dockedPos]=!0,e),style:t.info.style,on:{"!mousedown":function(e){return t.captureMousedown(e)}}},[t.isForMainDock?t._e():o("header",{staticClass:"panel-header dragger dark",on:{mousedown:function(e){return t.mousedown(e)}}},[o("div",{staticClass:"panel-header-title"},[o("div",{staticClass:"panel-header-title-content"},[o("span",{staticClass:"panel-header-label",attrs:{draggable:"true"},on:{dragstart:function(e){return t.dragstart(e,t.info)},dragend:function(e){return t.dragend(e,t.info)}}},[o("i",{staticClass:"iconfont icon-dragvertical"}),t._v(" "+t._s(t.info.name))])])])]),o("div",{staticClass:"tools",class:[t.labelRight?"label-right":"label-left"],on:{mousedown:function(e){return t.mousedown(e)}}},[o("div",{staticClass:"tools-inner"},[o("div",{staticClass:"btnWarp"},[o("i",{staticClass:"el-icon-close btn",staticStyle:{"font-weight":"bolder"},on:{mousedown:function(e){e.stopPropagation()},click:function(e){return e.stopPropagation(),t.close(e)}}})]),"right-stick"===t.dockedPos||"right-normal"===t.dockedPos||"left-end"===t.dockedPos?o("div",{staticClass:"btnWarp"},[o("i",{staticClass:"iconfont icon-double-right-filled btn",on:{mousedown:function(e){e.stopPropagation()},click:function(e){return e.stopPropagation(),t.autoFold()}}})]):t._e(),"left-stick"===t.dockedPos||"left-normal"===t.dockedPos||"right-end"===t.dockedPos?o("div",{staticClass:"btnWarp"},[o("i",{staticClass:"iconfont icon-double-left-filled btn",on:{mousedown:function(e){e.stopPropagation()},click:function(e){return e.stopPropagation(),t.autoFold()}}})]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:t.dockedPos.includes("end"),expression:"dockedPos.includes('end')"}],staticClass:"panel-names"},t._l(t.pannelNames,(function(e,n){return o("div",{key:n,staticClass:"panel-names-item"},[t._v(t._s(e))])})),0)])]),o("div",{staticClass:"content"},[t._t("default",[t.info.component?o(t.info.component,t._b({tag:"component",staticClass:"width100"},"component",t.info.props,!1)):t._e()])],2),o("div",{staticClass:"resize",on:{mousedown:function(e){return t.resizerMousedown(e)}}})])},te=[],ne=n("0f32"),oe=n.n(ne),ae=n("b047"),ie=n.n(ae),re={mixins:[f["a"]],name:"dockDialog",components:{},props:{info:{required:!0,type:Object}},data:function(){return{startPos:{left:0,top:0},move:{start:{x:0,y:0},end:{x:0,y:0}},active:!1,dockedPos:""}},watch:{"info.children.length":{handler:function(e){0===e&&this.close()},immediate:!0}},computed:{isForMainDock:function(){return this.info&&this.info.children instanceof Array},labelRight:function(){return this.dockedPos.includes("left")},pannelNames:function(){return(JSON.stringify(this.info).match(/"name":[^,}]+/g)||[]).map((function(e){return e.replace(/[":]|name/g,"")}))}},mounted:function(){var e=this;this.$nextTick((function(){return e.calcPos()})),this.debouncedCalcPos=ie()(this.calcPos,200),this.$watch("info.style.left",this.debouncedCalcPos),window.addEventListener("resize",this.debouncedCalcPos),this.ema.bind("dock-mouseup",(function(){e.active=!1,e.resizerActive=!1})),this.ema.bind("dock-mousemove",(function(t){(e.active||e.resizerActive)&&(e.move.end={x:t.pageX,y:t.pageY},e.doMove({x:e.move.start.x-e.move.end.x,y:e.move.start.y-e.move.end.y}))}))},beforeDestroy:function(){window.removeEventListener("resize",this.debouncedCalcPos)},methods:{captureMousedown:function(e){e.target&&e.target.classList.contains("el-tabs__nav-scroll")&&(this.mousedown(e),e.stopPropagation())},calcPos:function(){console.log("calcPos",this.info.name);var e,t=this.getRect(),n=(getComputedStyle(this.$el).transform.match(/\((.+)\)/)||["",""])[1].split(/[,\s]+/),o=n&&+n[4]||0,a=t.left;e=a>=window.innerWidth-.5*t.width?"right-end":a>=window.innerWidth-t.width?"right-stick":a>=.5*window.innerWidth-.5*t.width?"right-normal":a>0?"left-normal":a>-.5*t.width?"left-stick":"left-end","left-stick"===e&&Math.abs(o-t.width)<=.001&&(e="left-end"),"right-stick"===e&&Math.abs(o+t.width)<=.001&&(e="right-end"),e.includes("normal")&&Math.abs(o)>.001&&(this.info.style.left=a+"px"),this.setAutoPos(e,this.dockedPos)},autoFold:function(){var e;switch(this.dockedPos){case"left-end":e="left-stick";break;case"left-stick":e="left-end";break;case"left-normal":e="left-stick";break;case"right-end":e="right-stick";break;case"right-stick":e="right-end";break;case"right-normal":e="right-stick";break}console.log(e),this.dockedPos=e,this.setAutoPos(e)},getRect:function(){return this.$el.getBoundingClientRect()},removeOne:function(e){this.close()},dragend:function(e){this.ema.fire("dock.panelTitleDragEnd",e)},dragstart:function(e,t){e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),this.ema.fire("dock.panelTitleDragStart",this,this.info)},close:function(e){this.ema&&this.ema.fire("dock.dialogClose",this.info)},setAutoPos:function(e,t){console.log("setAutoPos",e,t),this.dockedPos=e;var n=this.calcLeft(e);null!==n?(this.updateTopsAndIndex(e),this.info.style.left=n+"px"):t&&/normal/.test(e)&&e!==t&&this.updateTopsAndIndex(t),this.info.style.width=Math.max(300,Math.min(window.innerWidth-100,parseFloat(this.info.style.width))||350)+"px",this.info.style.height=Math.max(400,Math.min(window.innerHeight-100,parseFloat(this.info.style.height))||500)+"px"},updateTopsAndIndex:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t=(t.split("-")||[])[0],["left","right"].includes(t)){var n,o=new RegExp("".concat(t,"-(end|stick)")),a=this.$parent.$children.filter((function(t){return t.$options.name===e.$options.name&&o.test(t.dockedPos)}));a.map((function(e,t){var o=135,a=t*o+75;a>window.innerHeight-1*o&&(a=n+34);var i=window.parseFloat(e.info.style.top)-window.parseFloat(a);Math.abs(i)>.1&&(e.$el.addEventListener("transitionend",(function t(){e.$el.removeEventListener("transitionend",t),e.$delete(e.info.style,"transition")})),e.info.style.transition="top ".concat(50*Math.pow(Math.abs(i),.3),"ms linear")),n=a,e.info.style.top=a+"px"}))}},calcLeft:function(e){var t=this.getRect(),n=null;switch(e){case"right-end":n=window.innerWidth;break;case"right-stick":n=window.innerWidth-t.width;break;case"left-end":n=-t.width;break;case"left-stick":n=0;break}return n},doMove:oe()((function(e){var t={};this.active&&(t={left:this.startPos.left-e.x,top:this.startPos.top-e.y},this.info.style.left=t.left+"px",this.info.style.top=t.top+"px"),this.resizerActive&&(t={width:Math.max(this.startPos.width-e.x,300),height:Math.max(this.startPos.height-e.y,400)},this.info.style.width=t.width+"px",this.info.style.height=t.height+"px")}),17),mousedown:function(e){this.startPos={left:parseFloat(this.info.style.left),top:parseFloat(this.info.style.top),width:parseFloat(this.info.style.width),height:parseFloat(this.info.style.height)},this.move.start={x:e.pageX,y:e.pageY},this.active=!0},resizerMousedown:function(e){this.startPos={left:parseFloat(this.info.style.left),top:parseFloat(this.info.style.top),width:parseFloat(this.info.style.width),height:parseFloat(this.info.style.height)},this.move.start={x:e.pageX,y:e.pageY},this.resizerActive=!0}}},se=re,ce=(n("5cc0"),Object(v["a"])(se,ee,te,!1,null,"e64ee9e8",null)),le=ce.exports,de=n("5880"),ue=n.n(de),pe={mixins:[f["a"]],name:"dock",components:{MainDock:Q,dialogone:le},props:{info:{required:!0,type:Object}},data:function(){return{showMask:!1,DragInfo:null,DragDirection:"",boxSize:{},onedialogs:[],maskStyle:{left:0,width:0,top:0,right:0}}},watch:{info:{deep:!0,handler:function(e,t){e!==t||this.saveLayout()}}},computed:Object(de["mapState"])({currentLayout:function(e){return e.viewOption.currentLayout}}),mounted:function(){var e=this;this.ema.bind("dock.dialogClose",(function(t){e.info.dialogs.splice(e.info.dialogs.indexOf(t),1)})),this.ema.bind("dock.dialogPush",(function(t){e.info.dialogs.push(t)})),this.ema.bind("dock.onceDialogClose",(function(t){e.onedialogs.splice(e.onedialogs.indexOf(t),1)})),this.ema.bind("dock.onceDialogPush",(function(t){e.onedialogs.push(t)})),this.ema.bind("dock.maskDragenter",(function(t,n){e.dealMask(t,n)})),this.ema.bind("dock.panelTitleDragStart",(function(t,n){e.DragInfo={target:t,data:n}})),this.ema.bind("dock.maskDragleave",(function(e,t){})),this.ema.bind("dock.panelTitleDragEnd",(function(t,n){e.showMask=!1,e.targetPanel=null})),this.ema.bind("dock.panelTitleHeaderDrop",(function(t,n){e.showMask=!1,e.targetPanel=null})),this.ema.bind("dock.panelTitleDrop",(function(t,n){e.showMask&&e.movePanel(),e.showMask=!1,e.targetPanel=null})),this.boxSize=this.$el.getBoundingClientRect()},methods:{movePanel:function(){var e=this;if(this.targetPanel){var t=this.targetPanel.$parent.info,n=t.children,o=this.DragInfo;o.target.removeOne(o.data);var a=g()(o.data),i="row";if(n){i="top"==this.DragDirection||"bottom"==this.DragDirection?"column":"row";var r=n.indexOf(this.targetPanel.info);if("top"==this.DragDirection||"left"==this.DragDirection?(r-=1,r<0&&(r=0)):r+=1,1==n.length&&(t.type=i),"panel"==this.targetPanel.info.type){var s=[g()(this.targetPanel.info)];s.splice(r,0,{children:[{children:[a],type:"panel"}],flex:.5,type:"column"}),s.forEach((function(e){e.flex=1/s.length})),this.targetPanel.info.children=s,this.targetPanel.info.type=i,this.targetPanel.$parent.info.children.forEach((function(t){t.flex=1/e.targetPanel.$parent.info.children.length}))}else n.splice(r,0,{children:[{children:[a],type:"panel"}],flex:.5,type:"column"}),n.forEach((function(e){e.flex=1/n.length}))}}},dealMask:function(e,t){var n=this.boxSize,o=e.target.className.replace("mask ",""),a=t.$el.getBoundingClientRect();this.targetPanel=t;var i=t.$parent.info.type;i&&(this.showMask=!0,"left"==o?this.maskStyle={left:a.left-n.left+"px",top:a.top-n.top+"px",width:a.width/2+"px",height:a.height+"px"}:"right"==o?this.maskStyle={left:a.left+a.width/2-n.left+"px",top:a.top-n.top+"px",width:a.width/2+"px",height:a.height+"px"}:"top"==o?this.maskStyle={top:a.top-n.top+"px",left:a.left-n.left+"px",width:a.width+"px",height:a.height/2+"px"}:"bottom"==o?this.maskStyle={top:a.top+a.height/2-n.top+"px",left:a.left-n.left+"px",width:a.width+"px",height:a.height/2+"px"}:"header"==o&&(a=e.target.getBoundingClientRect(),this.maskStyle={top:a.top-n.top+"px",left:a.left-n.left+"px",width:a.width+"px",height:a.height+"px"}),this.DragDirection=o)},saveLayout:function(){var e=this,t=this;this.saveTimer&&clearTimeout(this.saveTimer),this.saveTimer=setTimeout((function(){window.localStorage.setItem("dockLayout_save",JSON.stringify(t.info)),e.$store.dispatch("setCurrentLayout","custom")}),1e3)},mouseup:function(e){this.ema.fire("dock-mouseup",e)},mousemove:function(e){this.ema.fire("dock-mousemove",e)}}},me=pe,fe=(n("70c0"),Object(v["a"])(me,N,P,!1,null,"e7e11bbe",null)),he=fe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"bughd"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.error&&e.visible,expression:"error && visible"}],staticClass:"bughd"},[e._v("\n    "+e._s(e.error&&e.error.stack)+"\n    "),n("div",{staticClass:"close-btn",on:{click:function(t){e.visible=!1}}},[n("i",{staticClass:"el-icon-error"})])])])},be=[],ye={name:"bughd",mixins:[f["a"]],data:function(){return{error:null,visible:!0}},mounted:function(){var e=this;this.ema.bind("bughd.open",(function(t){e.error=t,e.visible=!0}))}},ve=ye,we=(n("6701"),Object(v["a"])(ve,ge,be,!1,null,"72fdaf90",null)),ke=we.exports,xe=n("e97e"),_e=n("b311"),$e=n.n(_e),Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"tips",style:{width:e.width}},[e._m(0),n("el-carousel",{staticStyle:{height:"20px",overflow:"hidden"},attrs:{"indicator-position":"none",height:"20",arrow:"never",interval:3e3}},e._l(e.tips,(function(t,o){return n("el-carousel-item",{key:o,staticStyle:{height:"20px"}},[n("div",{staticClass:"el-carousel-item",domProps:{innerHTML:e._s(t)}})])})),1),n("div",{staticClass:"close",on:{click:e.close}},[n("i",{staticClass:"el-icon-close"})])],1)},Se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bell"},[n("i",{staticClass:"el-icon-question"})])}],je=["鼠标拖动位于组件四角的调整点时，同时按住 <em>shift</em> 键可以保持比例缩放哦","组件树中，「fx」图标表示当前节点添加了脚本，「箱子」图标表示当前节点被封装了","双击组件树中某个节点时，可以切换组件的「封装」状态"],Ee={mixins:[f["a"]],components:{},name:"tips",props:{},data:function(){return{tips:je,width:500,visible:!0}},mounted:function(){var e=this.$parent.$el.getBoundingClientRect();this.width=e.width+"px"},methods:{close:function(){this.visible=!1}}},Ie=Ee,Oe=(n("8885"),Object(v["a"])(Ie,Ce,Se,!1,null,"71554b58",null)),Ae=Oe.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bar-wrapper header"},[n("div",{staticClass:"main-top-bar top-bar-lang-en"},[n("div",{staticClass:"top-bar-left-section"},[e._m(0),n("div",{staticClass:"top-menus"},[n("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"},on:{command:e.selectLayout}},[n("el-button",{attrs:{type:"text"}},[e._v("\n              布局"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.layouts,(function(t){return n("el-dropdown-item",{key:t.type,attrs:{command:t.type}},[e._v(e._s(t.name)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.currentLayout==t.type,expression:"currentLayout == view.type"}],staticClass:"el-icon-check",staticStyle:{color:"#faad14"}})])})),1)],1),n("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"},on:{command:e.selectWidget}},[n("el-button",{attrs:{type:"text"}},[e._v("\n              部件"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.computedWidgets,(function(t,o){return n("el-dropdown-item",{key:o,staticClass:"el-dropdown-item",attrs:{disabled:t.enable&&t.required,command:o}},[e._v(e._s(t.desc)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.enable,expression:"view.enable"}],staticClass:"el-icon-check",staticStyle:{color:"#faad14"}})])})),1)],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.revocation}},[n("i",{staticClass:"menu-text iconfont icon-revocation"},[e._v(" 撤销")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.forward}},[n("i",{staticClass:"menu-text iconfont icon-forward"},[e._v(" 恢复")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.preview}},[n("i",{staticClass:"menu-text iconfont el-icon-view"},[e._v(" 预览")])]),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticStyle:{"margin-left":"20px"},attrs:{type:"text"}},[n("i",{staticClass:"menu-text iconfont icon-grid"},[e._v(" 参考线")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.psd}},[n("i",{staticClass:"menu-text el-icon-picture-outline"},[e._v(" psd")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"}},[n("a",{staticStyle:{color:"#faad14"},attrs:{href:"https://godspen.ymm56.com/doc/",target:"_blank"}},[e._v("帮助中心")])])],1)]),n("div",{staticClass:"top-bar-center-section"}),n("div",{staticClass:"top-bar-right-section"},[n("button",{staticClass:"top-bar-btn top-bar-button-preview",on:{click:e.saveToServer}},[e._m(1)]),n("button",{staticClass:"top-bar-btn top-bar-btn-publish top-bar-edit-mode-last-btn",on:{click:e.publish}},[e._m(2)])])]),n("el-popover",{ref:"popover4",attrs:{placement:"right",width:"180",trigger:"click"}},[n("el-form",{attrs:{model:e.Setting,size:"mini","label-width":"90px"}},[n("el-form-item",{attrs:{label:"智能参考线"}},[n("el-switch",{attrs:{value:e.Setting.line},on:{change:function(t){return e.onSettingChange(t,"line")}}})],1),n("el-form-item",{attrs:{label:"参考线颜色"}},[n("el-color-picker",{attrs:{value:e.Setting.color},on:{change:function(t){return e.onSettingChange(t,"color")}}})],1),n("el-form-item",{attrs:{label:"吸附效果"}},[n("el-switch",{attrs:{value:e.Setting.sorb},on:{change:function(t){return e.onSettingChange(t,"sorb")}}})],1)],1)],1)],1)},Ne=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"top-bar-logo"},[o("img",{staticClass:"logo",attrs:{src:n("9d64")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"label"},[e._v("\n            保存\n            "),n("i",{staticClass:"iconfont icon-save"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"label"},[n("i",{staticClass:"iconfont icon-publish"}),e._v("发布")])}],Pe=n("f121"),De=n.n(Pe);function Me(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Fe(e,t){return Ue(e)||He(e,t)||Re(e,t)||Be()}function Be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){if(e){if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function He(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function Ue(e){if(Array.isArray(e))return e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe={mixins:[f["a"]],components:{},name:"header",props:["layout-data"],data:function(){return{setting:{open:!0,line:!0,color:"#409EFF",phoneline:!0,sorb:!0}}},computed:Ge({computedWidgets:function(){var e=Object.entries(this.widgets).reduce((function(e,t){var n=Fe(t,2),o=n[0],a=n[1];return e[o]={name:o,desc:a,enable:!1,required:!1},e}),{});if(this.layoutData&&"object"===Le(this.layoutData)){var t=this.layoutData,n=t.layout,o=t.dialogs;return a(n&&n.children),a(o),e}function a(t){if(t||t.length){var n,o=Me(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.component&&(e[i.component]["enable"]=1,e[i.component]["required"]=!i.close),i.children&&i.children.length&&a(i.children)}}catch(r){o.e(r)}finally{o.f()}}}}},Object(de["mapState"])({widgets:function(e){return e.viewOption.widgets},layouts:function(e){return e.viewOption.layouts},currentLayout:function(e){return e.viewOption.currentLayout}})),mounted:function(){},methods:{onSettingChange:function(e,t){this.$store.dispatch("SettingChange",We({},t,e))},onToolCommand:function(e){switch(e){case"allToPx":this.ema.fire("allToPx");break}},publish:function(){window.Editor.publish()},saveToServer:function(){window.Editor.saveToServer()},selectLayout:function(e){this.$store.dispatch("setCurrentLayout",e)},selectWidget:function(e){var t=this,n=this.computedWidgets[e];function o(t){if(t||t.length)for(var n=0;n<t.length;n++){var a=t[n]||{};if(a.component===e){t.splice(n,1);break}a.children&&a.children.length&&o(a.children)}}n.enable?n.required||this.$confirm("确定要移除【".concat(n.desc,"】部件么")).then((function(e){var n=t.layoutData,a=n.layout,i=n.dialogs;o(a&&a.children),o(i)})).catch((function(e){return console.log("怂了")})):this.$confirm("确定要添加【".concat(n.desc,"】部件么")).then((function(e){t.layoutData.dialogs.push({name:n.desc,component:n.name,style:{width:"300px",height:"400px",left:"0px",top:"50px"},close:!n.required,pop:!0})})).catch((function(e){return console.log("怂了")}))},preview:function(){var e=this,t=I["c"].parseURL(window.location.href),n=t.params&&t.params.key,o=function(){if(/desktop/i.test(e.Setting.phoneSize.name)){var t=window.open("".concat(De.a.VIEW_PATH).concat(e.demoMode?"__demomode":n,"?preview=1"));return window.setTimeout((function(){return e.postData(t)}),1e3)}e.openDialog({name:"d-Preview",data:{key:n}})};this.demoMode?o():this.ema.fire("pageInfo.save",!0,o)},revocation:function(){this.ema.fire("history.back")},forward:function(){this.ema.fire("history.forword")},save:function(){this.ema.fire("pageInfo.save")},psd:function(){this.ema.fire("pageInfo.psd")},postData:function(e){var t=window.localStorage.getItem("EditorautoSave_tmp");e.postMessage({type:"preview",content:t,canvas:this.$store.state.setting.phoneSize},"*")}}},Ke=qe,Je=(n("e463"),Object(v["a"])(Ke,Te,Ne,!1,null,"06acd710",null)),Ye=Je.exports;function Xe(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){Xe(i,o,a,r,s,"next",e)}function s(e){Xe(i,o,a,r,s,"throw",e)}r(void 0)}))}}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("5898");var nt=n("f121"),ot={mixins:[f["a"]],name:"editor",components:{CDialogs:E,UploadImage:T["a"],ContextMenu:k,UiDock:he,Tips:Ae,myheader:Ye,Bughd:ke},data:function(){return{screenshotKey:null,layoutData:null,nodeInfo:null,pageInfo:null,keys:[],clipboardContent:"",imgSrc:"",form:{name:"",desc:""},uploadObject:null}},props:["active"],computed:et({STORAGE_KEY:function(){return this.keys&&this.keys.length?"EditorautoSave_".concat(this.keys[0]||"","_").concat(this.keys[1]||""):"EditorautoSave_tmp"}},Object(de["mapState"])({currentLayout:function(e){return e.viewOption.currentLayout},demoMode:function(e){return e.setting.demoMode}})),watch:{nodeInfo:function(e){this.ema.fire("editor.nodeInfoChange",e)},currentLayout:{handler:function(e,t){this.layout(e)},immediate:!0}},beforeCreate:function(){},created:function(){},mounted:function(){window.Editor=this,this.bindEvent(),this.loadPageInfo()},methods:{layout:function(){var e=Ze(u.a.mark((function e(t){var o,a,i,r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:o="dockLayout_save",a="dockLayout_type",e.t0=t,e.next="custom"===e.t0?7:("develop"===e.t0||e.t0,13);break;case 7:try{i=JSON.parse(window.localStorage.getItem(o)||"{}")}catch(s){}return e.next=10,n("fb4d")("./".concat(i.name||"default",".json"));case 10:return r=e.sent,i.version>=r.version||(i=g()(r)),e.abrupt("break",17);case 13:return e.next=15,n("fb4d")("./".concat(t,".json"));case 15:i=e.sent,i=g()(i.default||i);case 17:this.layoutData=i,"custom"==t&&window.localStorage.setItem(o,JSON.stringify(i)),window.localStorage.setItem(a,t);case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),autoSave:function(){var e=this;setInterval((function(){e.ema.fire("pageInfo.save")}),12e4)},canDrag:function(){},bindEvent:function(){var e,t=this;this.ema.bind("loading.show",(function(){e=t.$loading({lock:!0,text:"处理中，请稍等",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})})),this.ema.bind("loading.hide",(function(){e&&e.close()}));var n=this;this.$watch("nodeInfo",(function(e){t.doSave(e)}),{deep:!0}),this.ema.bind("history.back",(function(){var e=x.getPrev();e?(n.nodeInfo=e,n.ema.fire("nodeInfo.replace",n.nodeInfo),t.lock=!0):t.$message({type:"success",message:"没有历史记录"})})),this.ema.bind("history.forword",(function(){var e=x.getNext();e?(n.nodeInfo=e,n.ema.fire("nodeInfo.replace",n.nodeInfo),t.lock=!0):t.$message({type:"success",message:"没有历史记录"})})),this.ema.bind("selectPageTemplate",(function(e){e&&Object.assign(t.nodeInfo,g()(e))})),this.ema.bind("pageInfo.save",(function(e,n){console.log("save---------",t.nodeInfo),t.doSave(t.nodeInfo,!0),t.savePage(e,n)})),this.ema.bind("commponent.addOne",(function(e){var n=t.nodeInfo;window.$vue&&window.$vue.nodeInfo&&(n=window.$vue.nodeInfo);var o=Object(xe["b"])(e),a=I["c"].componentAddJudge(n,window.$vue||t);if(!a.can)return t.$alert(a.msg);/pageContainer$/i.test(n.type)&&(o.forceStyle={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"}),n.child||t.$set(n,"child",[]),n.child.push(o)})),this.ema.bind("pageInfo.psd",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.asService,o=void 0!==n&&n,a=e.url,i=void 0===a?"":a,r=e.name,s=void 0===r?"":r,c=e.root;console.log("pageInfo.psd",t.nodeInfo),c=c||t.nodeInfo.id,t.openDialog({name:"d-psd",data:{asService:o,psdUrl:i,psdName:s,root:c,title:"psd上传"},methods:{changeNode:function(e,t){console.log("changeNode");var n=null;try{n=JSON.parse(e)}catch(a){console.log("error",a)}if(!n)return console.log("图层解析失败");var o=window.$_nodecomponents[c];o.copyChild(n,{isJson:!1,keepPos:1})}}})})),window.Clipboard=$e.a,new $e.a(this.$refs["clipboard"]),this.ema.bind("clipboard.copy",(function(e,n){t.clipboardContent=String(e),window.setTimeout((function(){t.$refs["clipboard"].click(),t.$message({message:n||"已复制",type:"success"})}))})),this.ema.bind("screenshot",(function(e,n,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.screenshotKey=Math.random().toFixed(10);var i=a&&t.$loading({lock:!0,text:"稍等片刻"});setTimeout((function(){t.$refs["screenshot"].upload(e,n,(function(){i&&i.close(),o.apply(null,arguments),this.screenshotKey=null}))}),100)})),window.document.addEventListener("keydown",(function(e){var n=e.keyCode;switch(n){case 38:t.ema.fire("arrowup.down",e);break;case 40:t.ema.fire("arrowdown.down",e);break;case 37:t.ema.fire("arrowleft.down",e);break;case 39:t.ema.fire("arrowright.down",e);break;case 8:t.ema.fire("delete.down",e);case 46:t.ema.fire("delete.down",e);break;case 18:t.ema.fire("alt.down",e);break;case 16:t.ema.fire("shift.down",e);break}})),window.document.addEventListener("keyup",(function(e){var n=e.keyCode;switch(n){case 8:case 46:t.ema.fire("delete.up",e);break;case 18:t.ema.fire("alt.up",e);break;case 16:t.ema.fire("shift.up",e);break;case 70:e.ctrlKey&&e.shiftKey&&(t.ema.fire("ctrl.shift.f.up",e),e.preventDefault());break}})),this.ema.bind("alert.show",(function(e,n){t.$alert(e,"提示",{confirmButtonText:"确定",callback:function(e){"function"==typeof n&&n()}})})),window.EMA.bind("logout",(function(){t.logout()})),this.ema.bind("resource.use",(function(e){e>0&&Object(A["a"])({url:"editor/resources/addUseCount",method:"post",needLoading:!1,data:{id:e}}).then(console.log).catch(console.error)}))},logout:function(){window.onbeforeunload=null,window.onunload=null,window.sessionStorage.removeItem("session"),window.location.replace("".concat(nt.ADMIN_PATH,"login.html"))},loadPageInfo:function(){var e=this,t=I["c"].parseURL(window.location.href);if(t.params.key){var n=this.keys=t.params.key.split("/");1==n.length&&(n[1]=n[0]),Object(A["a"])({url:"editor/pages/editor-detail",method:"post",needLoading:!1,data:{pageKey:n[1],scene:"edit"}}).then((function(t){var n=t.data;e.pageInfo=n.data;var o=null;try{o=JSON.parse(e.pageInfo.content)||O}catch(a){}e.$store.dispatch("setPageType",e.pageInfo.type),o.canvas&&o.canvas.width&&e.$store.dispatch("SettingChange",{phoneSize:o.canvas}),e.nodeInfo=g()(o),e.$store.dispatch("setUser",{userId:n.data&&n.data.uid})}))}else this.$alert("编辑页面缺少key")},doSave:function(e,t){var n=this,o=this;this.timer&&window.clearTimeout(this.timer),t?window.localStorage.setItem(o.STORAGE_KEY,JSON.stringify(e)):this.timer=window.setTimeout((function(){window.localStorage.setItem(o.STORAGE_KEY,JSON.stringify(e)),console.log("newChage",e),o.lock||x.add(e),n.lock=!1}),500)},saveToServer:function(){this.ema.fire("pageInfo.save")},savePage:function(e,t){var n=this;if(this.demoMode)return this.$alert("您处在demo模式下，不能保存数据哦");var o=Object.assign({},this.pageInfo);o.content=window.localStorage.getItem(this.STORAGE_KEY),console.log(o),Object(A["a"])({url:"editor/pages/save",method:"post",needLoading:!0,data:o}).then((function(o){var a=o.data,i=a.code,r=a.msg;if(500==i)return n.$alert(r);n.$message({type:"success",message:"保存成功"}),t&&t(),e||n.savePagePreviewImage()})).catch((function(e){n.$message({type:"success",message:"保存失败"})}))},savePagePreviewImage:function(){var e=this,t=I["c"].parseURL(window.location.href);this.ema.fire("screenshot",document.querySelector("#stage"),{height:486,fileName:t.params.key+".jpg"},(function(t){console.log("screenshot",t);var n=Object.assign({},e.pageInfo);n.content=window.localStorage.getItem(e.STORAGE_KEY),n.image=t,Object(A["a"])({url:"editor/pages/save",method:"post",needLoading:!1,data:n}).then((function(e){e.data})).catch((function(e){}))}),!1)},publish:function(){var e=Ze(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.demoMode){e.next=2;break}return e.abrupt("return",this.$alert("您处在 demo 模式下，不能保存数据哦"));case 2:return e.next=4,this.$confirm("您确定要发布吗？发布以后用户即可查看最新的页面");case 4:if(t=e.sent,t){e.next=7;break}return e.abrupt("return");case 7:Object(A["a"])({url:"editor/pages/publish",method:"post",needLoading:!0,data:{pageKey:this.keys[1],type:this.pageInfo.type,id:this.pageInfo.id,projectId:this.pageInfo.projectId,content:window.localStorage.getItem(this.STORAGE_KEY)}}).then((function(e){var t=e.data,o=t.code,a=t.msg;if(500==o)return n.$alert(a);n.$message({type:"success",message:"发布成功"})}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserInfo:function(){var e=this;Object(A["a"])({url:"users/info?uid=0",method:"get"}).then((function(t){var n=t.data,o=n&&n.data||{};e.$store.dispatch("setUser",o)}))}}},at=ot,it=(n("0809"),Object(v["a"])(at,c,l,!1,null,null,null)),rt=it.exports,st=n("f7ab"),ct=n.n(st),lt=n("5c96"),dt=n.n(lt),ut=(n("9b21"),{phoneSize:[{name:"Mobile S",width:"320px",height:"500px"},{name:"Mobile M",width:"360px",height:"600px"},{name:"Mobile L",width:"414px",height:"700px"},{name:"Desktop",width:"1366px",height:"768px"}],style:{overflow:[{value:"visible",desc:"默认值。内容不会被修剪，会呈现在元素框之外。,"},{value:"hidden",desc:"内容会被修剪，并且其余内容是不可见的。,"},{value:"scroll",desc:"内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。,"},{value:"auto",desc:"如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。,"},{value:"inherit",desc:"规定应该从父元素继承 overflow 属性的值。,"}],display:[{value:"none",desc:"此元素不会被显示。"},{value:"block",desc:"此元素将显示为块级元素，此元素前后会带有换行符。"},{value:"inline",desc:"默认。此元素会被显示为内联元素，元素前后没有换行符。"},{value:"inline-block",desc:"行内块元素。（CSS2.1 新增的值）"},{value:"list-item",desc:"此元素会作为列表显示。"},{value:"table",desc:"此元素会作为块级表格来显示（类似 <table>），表格前后带有换行符。"},{value:"inline-table",desc:"此元素会作为内联表格来显示（类似 <table>），表格前后没有换行符。"},{value:"table-row-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tbody>）。"},{value:"table-header-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <thead>）。"},{value:"table-footer-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tfoot>）。"},{value:"table-column-group",desc:"此元素会作为一个或多个列的分组来显示（类似 <colgroup>）。"},{value:"table-row",desc:"此元素会作为一个表格行显示（类似 <tr>）。"},{value:"table-column",desc:"此元素会作为一个单元格列显示（类似 <col>）"},{value:"table-cell",desc:"此元素会作为一个表格单元格显示（类似 <td> 和 <th>）"},{value:"table-caption",desc:"此元素会作为一个表格标题显示（类似 <caption>）"},{value:"inherit",desc:"规定应该从父元素继承 display 属性的值。"}],position:[{value:"absolute",label:"父元素",desc:'生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"fixed",label:"屏幕",desc:'生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"relative",label:"相对自己",desc:'生成相对定位的元素，相对于其正常位置进行定位。因此，"left:20" 会向元素的 LEFT 位置添加 20 像素。'}],unit:[{value:"px",desc:"像素 (计算机屏幕上的一个点)"},{value:"%",desc:"百分比"},{value:"em",desc:"等于当前的字体尺寸。"}],borderStyle:[{label:"--无--",value:"none",desc:"定义无边框。"},{label:"实线",value:"solid",desc:"定义实线。"},{label:"虚线",value:"dashed",desc:"定义虚线。在大多数浏览器中呈现为实线。"},{label:"点状线",value:"dotted",desc:"定义点状边框。在大多数浏览器中呈现为实线。"},{label:"双划线",value:"double",desc:"定义双线。双线的宽度等于 border-width 的值。"},{label:"3D凹槽",value:"groove",desc:"定义 3D 凹槽边框。其效果取决于 border-color 的值。"},{label:"3D垄状",value:"ridge",desc:"定义 3D 垄状边框。其效果取决于 border-color 的值。"},{label:"3D内嵌",value:"inset",desc:"定义 3D inset 边框。其效果取决于 border-color 的值。"},{label:"3D外嵌",value:"outset",desc:"定义 3D outset 边框。其效果取决于 border-color 的值。"}],fontWeight:[{value:"normal",desc:"默认值"},{value:"bold",desc:"加粗"}],textAlign:[{value:"left",desc:"把文本排列到左边。默认值：由浏览器决定。"},{value:"right",desc:"把文本排列到右边。"},{value:"center",desc:"把文本排列到中间。"},{value:"justify",desc:"实现两端对齐文本效果。"},{value:"inherit",desc:"规定应该从父元素继承 text-align 属性的值。"}],backgroundFill:[{value:"repeat",label:"平铺",desc:"默认，图像在背景垂直方向和水平方向重复。"},{value:"repeat-x",label:"横向平铺",desc:"图像在背景区域水平方向重复。"},{value:"repeat-y",label:"纵向平铺",desc:"图像在背景区域垂直方向重复。"},{value:"contain",label:"适应",desc:"图像在背景区域保持比例完整显示。"},{value:"center",label:"居中",desc:"图像在背景区域居中显示。"},{value:"cover",label:"填充",desc:"图像尽量填充背景区域，可能被裁切"},{value:"stretch",label:"拉伸",desc:"图像尽量填充背景区域，不保持原比例"}],fontFamily:[]},Animate:[{label:"进入",value:"Bouncing Entrances",options:[{label:"弹跳进入",value:"bounceIn"},{label:"向下弹跳进入",value:"bounceInDown"},{label:"向右弹跳进入",value:"bounceInLeft"},{label:"向左弹跳进入",value:"bounceInRight"},{label:"向上弹跳进入",value:"bounceInUp"},{label:"渐显进入",value:"fadeIn"},{label:"向下渐显进入",value:"fadeInDown"},{label:"由屏幕外向下渐显进入",value:"fadeInDownBig"},{label:"向右显进入",value:"fadeInLeft"},{label:"由屏幕外向右渐显进入",value:"fadeInLeftBig"},{label:"向左渐显进入",value:"fadeInRight"},{label:"由屏幕外向左渐显进入",value:"fadeInRightBig"},{label:"向上渐显进入",value:"fadeInUp"},{label:"由屏幕外向上渐显进入",value:"fadeInUpBig"},{label:"加速进入",value:"lightSpeedIn"},{label:"旋转渐显",value:"rotateIn"},{label:"左下角旋转渐显",value:"rotateInDownLeft"},{label:"旋转渐显",value:"rotateInDownRight"},{label:"左上角旋转渐显",value:"rotateInUpLeft"},{label:"右上角旋转渐显",value:"rotateInUpRight"},{label:"向上平移进入",value:"slideInUp"},{label:"向下平移进入",value:"slideInDown"},{label:"向右平移进入",value:"slideInLeft"},{label:"向左平移进入",value:"slideInRight"},{label:"放大进入",value:"zoomIn"},{label:"向下放大进入",value:"zoomInDown"},{label:"向右放大进入",value:"zoomInLeft"},{label:"向左放大进入",value:"zoomInRight"},{label:"向上放大进入",value:"zoomInUp"},{label:"滚动进入",value:"rollIn"}]},{label:"强调",value:"Attention Seekers",options:[{label:"无",value:""},{label:"旋转",value:"justRotate"},{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"跳动",value:"pulse"},{label:"抖动",value:"shake"},{label:"摇摆",value:"swing"},{label:"橡皮圈",value:"rubberBand"},{label:"果冻",value:"jello"},{label:"",value:"tada"},{label:"",value:"wobble"},{label:"翻动",value:"flip"},{label:"纵向翻动",value:"flipInX"},{label:"横向翻动",value:"flipInY"},{label:"立体纵向翻动",value:"flipOutX"},{label:"立体横向翻动",value:"flipOutY"},{label:"悬挂",value:"hinge"}]},{label:"退出",value:"Bouncing Exits",options:[{label:"弹跳退出",value:"bounceOut"},{label:"向下弹跳退出",value:"bounceOutDown"},{label:"向左弹跳退出",value:"bounceOutLeft"},{label:"向右弹跳退出",value:"bounceOutRight"},{label:"向上弹跳退出",value:"bounceOutUp"},{label:"渐隐退出",value:"fadeOut"},{label:"向下渐隐退出",value:"fadeOutDown"},{label:"向下渐隐退出屏幕外",value:"fadeOutDownBig"},{label:"向左渐隐退出",value:"fadeOutLeft"},{label:"向左渐隐退出屏幕外",value:"fadeOutLeftBig"},{label:"向右渐隐退出",value:"fadeOutRight"},{label:"向右渐隐退出屏幕外",value:"fadeOutRightBig"},{label:"向上渐隐退出",value:"fadeOutUp"},{label:"向上渐隐退出屏幕外",value:"fadeOutUpBig"},{label:"加速退出",value:"lightSpeedOut"},{label:"旋转渐隐",value:"rotateOut"},{label:"左下角旋转渐隐",value:"rotateOutDownLeft"},{label:"左下角旋转渐隐",value:"rotateOutDownRight"},{label:"左上角旋转渐隐",value:"rotateOutUpLeft"},{label:"右上角旋转渐隐",value:"rotateOutUpRight"},{label:"向上平移退出",value:"slideOutUp"},{label:"向下平移退出",value:"slideOutDown"},{label:"向左平移退出",value:"slideOutLeft"},{label:"向右平移退出",value:"slideOutRight"},{label:"缩小退出",value:"zoomOut"},{label:"向下缩小退出",value:"zoomOutDown"},{label:"向左缩小退出",value:"zoomOutLeft"},{label:"向右缩小退出",value:"zoomOutRight"},{label:"向上缩小退出",value:"zoomOutUp"},{label:"滚动退出",value:"rollOut"}]}],AnimationTimingFunction:[{value:"linear",desc:"动画从头到尾的速度是相同的",label:""},{value:"ease",desc:"默认。动画以低速开始，然后加快，在结束前变慢",label:""},{value:"ease-in",desc:"动画以低速开始",label:""},{value:"ease-out",desc:"动画以低速结束",label:""},{value:"ease-in-out",desc:"动画以低速开始和结束",label:""}]}),pt=ut,mt=function(e,t){var n=e.commit;n("initComponentList",t)},ft=function(e,t){var n=e.commit;n("SettingChange",t)},ht=function(e,t){var n=e.commit;n("SET_CONFIG",t)},gt=function(e,t){var n=e.commit;n("SET_USER",t)},bt=function(e,t){var n=e.commit,o=e.state,a=Object.assign({},o.pageInfo,{lastPage:o.pageInfo.currentPage,currentPage:t});n("SET_PAGE_INFO",a)},yt=function(e,t){var n=e.commit,o=e.state,a=Object.assign({},o.pageInfo,t);n("SET_PAGE_INFO",a)},vt=function(e,t){var n=e.commit,o=e.state,a=t.path,i=t.val,r=g()(o.DataHub);I["c"].objectSetByPath(r,a,i),n("DATA_HUB_SET",r)},wt=function(e,t){var n=e.commit;n("SET_CURRENT_LAYOUT",t)},kt=function(e,t){var n=e.commit;n("SET_PAGE_TYPE",t)},xt=function(e){return e.Metadata},_t=function(e,t){e.componentList=t||{};var n={};for(var o in t){var a=t[o];a.child.forEach((function(e){n[e.name]?console.error("存在组件名字相同的组件",e.name):n[e.name]=e}))}e.componentMap=n},$t=function(e,t){Object.assign(e.setting,t),window.localStorage.setItem("EditorSetting",JSON.stringify(e.setting))},Ct=function(e,t){e.Config=t},St=function(e,t){e.app.userInfo=t},jt=function(e,t){e.pageInfo=t},Et=function(e,t){e.DataHub=t},It=function(e,t){e.viewOption.currentLayout=t},Ot=function(e,t){e.viewOption.pageType=t},At=n("f121"),Tt=!1;Tt&&s.a.use(ue.a);var Nt,Pt={},Dt={app:{userInfo:{}},setting:Object.assign({demoMode:!1,phoneSize:{name:"Mobile S",width:"320px",height:"500px"},open:!0,line:!0,color:"#409EFF",phoneline:!0,sorb:!0},function(){var e={};try{e=JSON.parse(window.localStorage.getItem("EditorSetting"))||{}}catch(t){}return delete e.phoneSize,delete e.demoMode,e}()),RootNodeInfo:Pt,componentList:{},componentMap:{},pageInfo:{lastPage:"",currentPage:""},DataHub:{},Config:At,Metadata:pt,viewOption:{currentLayout:function(){return window.localStorage.getItem("dockLayout_type")||"default"}(),pageType:0,layouts:[{type:"default",name:"默认布局"},{type:"desktop",name:"PC 布局"},{type:"flutter",name:"flutter布局"},{type:"develop",name:"开发者布局"},{type:"custom",name:"自定义"}],widgets:{widgetComponent:"组件列表",widgetCombinedComponents:"组合组件",widgetComponentTree:"组件树",widgetPageTemplate:"页面模板",widgetScene:"场景",widgetComponentInfo:"组件详情",widgetPageInfo:"页面设置",widgetAttribute:"属性",widgetStyleEditor:"样式",widgetScriptEditor:"脚本",widgetAnimate:"动画",widgetCodePanel:"脚本编辑",widgetShop:"商城"}}},Mt=new ue.a.Store({strict:Tt,state:Dt,actions:o,getters:a,mutations:i}),Lt=n("c2c6"),Ft=[{label:"silent"},{label:"optionMergeStrategies"},{label:"devtools"},{label:"errorHandler"},{label:"warnHandler"},{label:"ignoredElements"},{label:"keyCodes"},{label:"performance"},{label:"productionTip"},{label:"extend"},{label:"nextTick"},{label:"set"},{label:"delete"},{label:"directive"},{label:"filter"},{label:"component"},{label:"use"},{label:"mixin"},{label:"compile"},{label:"version"},{label:"data"},{label:"props"},{label:"propsData"},{label:"computed"},{label:"methods"},{label:"watch"},{label:"el"},{label:"template"},{label:"render"},{label:"renderError"},{label:"beforeCreate"},{label:"created"},{label:"beforeMount"},{label:"mounted"},{label:"beforeUpdate"},{label:"updated"},{label:"activated"},{label:"deactivated"},{label:"beforeDestroy"},{label:"destroyed"},{label:"directives"},{label:"filters"},{label:"components"},{label:"parent"},{label:"mixins"},{label:"extends"},{label:"provide"},{label:"inject"},{label:"name"},{label:"delimiters"},{label:"functional"},{label:"model"},{label:"inheritAttrs"},{label:"comments"},{label:"$data"},{label:"$props"},{label:"$el"},{label:"$options"},{label:"$parent"},{label:"$root"},{label:"$children"},{label:"$slots"},{label:"$scopedSlots"},{label:"$refs"},{label:"$isServer"},{label:"$attrs"},{label:"$listeners"},{label:"$watch"},{label:"$set"},{label:"$delete"},{label:"$on"},{label:"$once"},{label:"$off"},{label:"$emit"},{label:"$mount"},{label:"$forceUpdate"},{label:"$nextTick"},{label:"$destroy"},{label:"v-text"},{label:"v-html"},{label:"v-show"},{label:"v-if"},{label:"v-else"},{label:"v-else-if"},{label:"v-for"},{label:"v-on"},{label:"v-bind"},{label:"v-model"},{label:"v-pre"},{label:"v-cloak"},{label:"v-once"},{label:"key"},{label:"ref"},{label:"slot"},{label:"is"},{label:"component"},{label:"transition"},{label:"transition-group"},{label:"keep-alive"},{label:"slot"},{label:"immediate"},{label:"handler"},{label:"editorMethods"},{label:"params"},{label:"desc"}],Bt=Ft,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dataEditor"},[n("code-editor",{attrs:{ctype:"json",contents:e.inContent},on:{"update:contents":function(t){e.inContent=t}}})],1)},zt=[],Ht=n("fb4e"),Ut={mixins:[f["a"]],name:"DataEditor",components:{CodeEditor:Ht["a"]},props:{content:{type:[String,Array,Object]},type:{type:String}},watch:{inContent:function(e){var t=this;if(this.isEditorChange=!0,this.type)try{e=JSON.parse(e)}catch(n){}this.$emit("update:content",e),this.$emit("change",e),null!==Nt&&void 0!==Nt||(Nt=setTimeout((function(e){clearTimeout(Nt),Nt=null,t.isEditorChange=!1}),100))},content:{handler:function(e){if(!this.isEditorChange&&this.type)try{this.inContent=JSON.stringify(this.content,null,2)}catch(t){}},deep:!0,immediate:!0}},data:function(){return{inContent:"",isEditorChange:!1}},mounted:function(){this.type&&(this.inContent=JSON.stringify(this.content,null,2))},methods:{}},Vt=Ut,Gt=(n("0015"),Object(v["a"])(Vt,Rt,zt,!1,null,"bd800888",null)),Wt=Gt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"eventEditor"},[n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.inContent,(function(t,o){return n("el-collapse-item",{key:t.event,attrs:{title:t.event,name:o}},[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(t.event)+"\n        "),n("i",{staticClass:"header-icon el-icon-delete",on:{click:function(n){return e.delectFunc(t.event)}}})]),n("attr-function",{attrs:{targetmethods:[],content:t.callList},on:{"update:content":function(n){return e.$set(t,"callList",n)}}})],1)})),1),n("div",{staticClass:"addScriptWarp"},[n("el-select",{staticClass:"scriptselect",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.selectEventKey,callback:function(t){e.selectEventKey=t},expression:"selectEventKey"}},e._l(e.eventList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.value+"->"+(e.label||e.desc),value:e.value}})})),1),n("el-button",{attrs:{type:"primary",size:"mini",disabled:e.canAdd},on:{click:e.addEvent}},[e._v("添加事件")])],1)],1)},Kt=[],Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"functionEditor"},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"目标对象"}},[n("el-cascader",{attrs:{size:"mini",placeholder:"当前节点","expand-trigger":"click",props:{value:"id",children:"child"},options:e.options,"change-on-select":""},on:{change:e.handleChange,focus:e.loadNodeAndFunction},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e.targetmethods.length>0?n("div",[n("div",[e._v("可选方法")]),n("div",e._l(e.targetmethods,(function(t,o){return n("el-tag",{key:t.name,staticClass:"tags",attrs:{size:"small",type:e.getTagType(t.name)},nativeOn:{click:function(n){return e.methodSelect(t)}}},[e._v(" "+e._s(t.label)+" ")])})),1)]):e._e()],1),n("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.methodNames&&e.methodNames.length,expression:"methodNames && methodNames.length"}],staticClass:"collapse",attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.methodNames,(function(t){return n("el-collapse-item",{key:t,staticClass:"panel",attrs:{name:t}},[n("template",{slot:"title"},e._l([e.fnExist(t)],(function(o){return n("div",{key:t+o,style:{color:o?"inherit":"red"}},[n("i",{staticClass:"iconfont icon-function"}),e._v("\n          "+e._s(o?t:"不存在该方法 "+t)+"\n          "),n("i",{staticClass:"header-icon el-icon-delete",on:{click:function(n){return e.delectFunc(t)}}})])})),0),e.hasParams(t)?n("div",{staticClass:"params"},[n("span",{staticClass:"tip"},[e._v("参数")]),n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"}},e._l(e.params(t),(function(o,a){return n("el-form-item",{key:a,staticClass:"form-item"},[n("span",{staticClass:"form-item-label",attrs:{slot:"label"},slot:"label"},[o.desc?n("el-tooltip",{attrs:{content:o.desc,placement:"top"}},[n("i",{staticClass:"el-icon-info"})]):e._e(),e._v("\n              "+e._s(o.label)+"\n            ")],1),"string"==o.type?n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:o.default,callback:function(t){e.$set(o,"default",t)},expression:"item.default"}}):"number"==o.type?n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:o.default,callback:function(t){e.$set(o,"default",e._n(t))},expression:"item.default"}}):"boolean"==o.type?n("el-switch",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:o.default,callback:function(t){e.$set(o,"default",t)},expression:"item.default"}}):"array"==o.type?[e.isOpen(t)?n("attr-data",{attrs:{type:"array",content:o.default},on:{change:e.paramsChange,"update:content":function(t){return e.$set(o,"default",t)}}}):e._e()]:"object"==o.type?[e.isOpen(t)?n("attr-data",{attrs:{type:"object",content:o.default},on:{change:e.paramsChange,"update:content":function(t){return e.$set(o,"default",t)}}}):e._e()]:n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:o.default,callback:function(t){e.$set(o,"default",t)},expression:"item.default"}})],2)})),1)],1):e._e(),t?n("div",{staticClass:"desc"},[e._v("\n        调用方式："+e._s(e.callString(t))+"\n      ")]):e._e()],2)})),1)],1)},Yt=[],Xt={mixins:[f["a"]],name:"FunctionEditor",components:{AttrData:Wt},props:{content:{type:Array,default:function(){return[]}},ignoreCheck:{type:Boolean,default:!1}},data:function(){return{activeNames:[],methodNames:[],selectedOptions:[],allTargetmethods:{},targetmethods:[],target:null,options:[]}},watch:{content:{immediate:!0,handler:function(e){"function"!=typeof this.content&&(0==this.selectedOptions.length&&this.dealMethods(window.$vue),this.changeContent(e))}}},computed:{},mounted:function(){var e=this;this.ema.bind("select.one",(function(){e.selectedOptions=[],e.dealMethods(window.$vue)})),this.dealMethods(window.$vue)},methods:{isOpen:function(e){return this.activeNames.includes(e)},methodSelect:function(e){var t=this.methodNames.indexOf(e.name);-1==t?this.methodNames.push(e.name):this.methodNames.splice(t,1),this.methodChange()},delectFunc:function(e){var t=this.methodNames.indexOf(e);this.methodNames.splice(t,1);var n=-1;this.content.forEach((function(t,o){t.method==e&&(n=o)})),this.content.splice(n,1)},handleChange:function(e){console.log(e);var t=window.$_nodecomponents[this.selectedOptions[this.selectedOptions.length-1]]||window.$vue;this.dealMethods(t)},dealMethods:function(e){return this.targetmethods=[],e&&(this.targetmethods=this.getTargetMethod(e),this.target=e),this.targetmethods},getTargetMethod:function(e){if(!e)return[];var t=[];if(e){var n=e.$refs[e.nodeInfo.id];if(!n)return t;var o=Object.assign({},n.$options.editorMethods,n.$options.editerMethods);for(var a in o){var i={name:e.nodeInfo.id+"."+a,label:a,arguments:[]},r=o[a];r&&(r.label&&(i.label=r.label),r.params&&(i.arguments=r.params)),t.push(i)}}return this.allTargetmethods[e.nodeInfo.id]?this.dealTargetMethodsChange(t,this.allTargetmethods[e.nodeInfo.id]):this.allTargetmethods[e.nodeInfo.id]=g()(t),this.allTargetmethods[e.nodeInfo.id]},dealTargetMethodsChange:function(e,t){var n=this,o={},a={};for(var i in e.forEach((function(e){o[e.name]=e})),t.forEach((function(e){a[e.name]=e})),o)a[i]||t.push(o[i]);var r=function(e){if(!o[e]){t.splice(t.indexOf(a[e]),1),n.methodNames.splice(n.methodNames.indexOf(e),1);var i=-1;n.content.filter((function(e){return e&&e.method})).forEach((function(t,n){-1==t.method.indexOf(".")&&(t.method=window.$vue.nodeInfo.id+"."+t.method),e==t.method&&(i=n)})),n.content.splice(n.content.indexOf(i),1)}};for(var s in a)r(s)},params:function(e){var t=[];if(e){var n=e.split(".")[0],o=window.$_nodecomponents[n];if(!o)return t;t=this.getTargetMethod(o);for(var a=0;a<t.length;a++){var i=t[a];if(i.name==e)return i.arguments}}return[]},initParamsDefault:function(e,t){this.content.filter((function(e){return e&&e.method})).forEach((function(n){if(-1==n.method.indexOf(".")&&(n.method=window.$vue.nodeInfo.id+"."+n.method),t==n.method)for(var o=0;o<e.length;o++)e[o].default=n.params[o]}))},changeContent:function(e){var t=this;if(e){var n=[];e.filter((function(e){return e&&e.method})).forEach((function(e){-1==e.method.indexOf(".")&&(e.method=window.$vue.nodeInfo.id+"."+e.method),n.push(e.method);for(var o=t.params(e.method),a=0;a<o.length;a++)o[a].default=e.params[a]})),this.methodNames=n}},joinContent:function(){var e=this,t=[];return this.methodNames.forEach((function(n){for(var o={method:n,params:[]},a=e.params(n),i=0;i<a.length;i++){var r=a[i];o.params.push(r.default)}t.push(o)})),t},methodChange:function(){this.paramsChange()},paramsChange:function(){var e=this.joinContent();console.log("update:content",JSON.stringify(e,null,2)),this.$emit("update:content",e)},hasParams:function(e){return this.params(e).length>0},getTagType:function(e){var t=this.methodNames.indexOf(e);return-1==t?"info":"warning"},fnExist:function(e){if(this.ignoreCheck)return!0;var t=e.split(".")[0],n=window.$_nodecomponents[t];if(!n)return!1;var o=this.getTargetMethod(n)||[];return o.some((function(t){return t&&t.name===e}))},callString:function(e){var t=[];return this.params(e).forEach((function(e,n){var o=e.default;t.push("'".concat(o,"'"))})),"this.".concat(e,"(").concat(t.join(","),")")},loadNodeAndFunction:function(){this.options=window.Editor.nodeInfo.child}}},Zt=Xt,Qt=(n("8796"),Object(v["a"])(Zt,Jt,Yt,!1,null,"0e31da3f",null)),en=Qt.exports,tn={mixins:[f["a"]],name:"DataEditor",components:{attrFunction:en},props:{content:{type:Array},type:{type:String}},watch:{content:{immediate:!0,handler:function(e){this.inContent=e}},inContent:function(e){this.$emit("update:content",e)}},data:function(){return{eventList:[{value:"click",label:"点击",desc:"某个元素被用户点击"},{value:"focus",label:"获得焦点",desc:"元素获得焦点。"},{value:"blur",label:"失去焦点",desc:"元素失去焦点。"},{value:"change",label:"内容被改变",desc:"域的内容被改变。"},{value:"input",label:"输入",desc:"域的内容被改变。"},{value:"select",label:"选项改变",desc:"选项文本被选中。"},{value:"keypress",label:"键盘按键",desc:"某个键盘按键被按下并松开。"}],activeNames:[0],selectEventKey:"",inContent:[]}},computed:{selectEvent:function(){var e=this;return(this.eventList||[]).filter((function(t){return e.selectEventKey==t.value}))[0]},canAdd:function(e){var t=this,n=this.inContent.find((function(e){if(e.event==t.selectEventKey)return!0}));return!!n}},mounted:function(){this.selectEventKey="click"},methods:{handleChange:function(e){},delectFunc:function(e){var t=-1;this.inContent.forEach((function(n,o){n.event==e&&(t=o)})),this.inContent.splice(t,1)},addEvent:function(e){this.selectEvent?this.inContent.push({event:this.selectEvent.value,callList:[]}):this.inContent.push({event:"click",callList:[]})}}},nn=tn,on=(n("f875"),Object(v["a"])(nn,qt,Kt,!1,null,"780c3226",null)),an=on.exports,rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resourceEditor"},[n("el-input",{attrs:{placeholder:"选择资源",size:"mini"},model:{value:e.inUrl,callback:function(t){e.inUrl=t},expression:"inUrl"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-upload"},on:{click:e.selectImage},slot:"append"},[e._v("选择")]),n("el-button",{attrs:{slot:"append",size:"mini",icon:"el-icon-picture"},on:{click:e.cropper},slot:"append"},[e._v("裁剪")])],1),n("div",{staticClass:"preview"},[n("div",{staticClass:"in",style:e.previewBg})])],1)},sn=[],cn={mixins:[f["a"]],name:"ResourceEditor",components:{},props:{url:{type:String},type:{type:String,default:"image"}},watch:{url:function(e,t){this.inUrl=e},inUrl:function(e){this.$emit("update:url",e)}},data:function(){return{inUrl:this.url}},computed:{previewBg:function(){return{"background-image":"url(".concat(this.inUrl,")")}}},mounted:function(){},methods:{selectImage:function(){var e=this;this.openDialog({name:"d-resourceSelect",data:{type:e.type},methods:{onSelectImage:function(t){e.inUrl=t}}})},cropper:function(){var e=this;this.openDialog({name:"d-crop",data:{name:"图片裁剪",url:e.url.split("?")[0]},methods:{done:function(t,n){console.log("pos",t);var o=e.url.split("?")[0];e.inUrl="circle"!=n?o+"?x-oss-process=image/rotate,".concat(t.rotate,"/crop,x_").concat(parseInt(t.x),",y_").concat(parseInt(t.y),",w_").concat(parseInt(t.width),",h_").concat(parseInt(t.height)):o+"?x-oss-process=image/rotate,".concat(t.rotate,"/crop,x_").concat(parseInt(t.x),",y_").concat(parseInt(t.y),",w_").concat(parseInt(t.width),",h_").concat(parseInt(t.height),"/circle,r_").concat(parseInt(t.width/2))}}})}}},ln=cn,dn=(n("eb67"),Object(v["a"])(ln,rn,sn,!1,null,"80e6d922",null)),un=dn.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:e.fullscreen}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),n("el-input",{ref:"fileInput",staticClass:"file-input",staticStyle:{"font-size":"12px"},attrs:{size:"small",type:"file",accept:".doc,.docx"},model:{value:e.filepath,callback:function(t){e.filepath=t},expression:"filepath"}},[n("template",{slot:"prepend"},[n("span",{staticStyle:{"margin-left":"-12px","margin-right":"-12px"}},[e._v("word文档解析")])]),n("template",{slot:"append"},[n("div",{on:{click:e.word2html}},[e._v("开始解析")])])],2)],1)},mn=[],fn={mixins:[f["a"]],name:"richText",components:{},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!0,hasInit:!1,tinymceId:"vue-tinymce-"+ +new Date,fullscreen:!1,filepath:""}},watch:{id:function(){var e=this;this.filepath="",this.hasInit&&this.$nextTick((function(){return e.setContent(e.value||"")}))},filepath:function(e){if(""!==e){var t=this.$refs.fileInput.$el.querySelector("input"),n=t&&t.files&&t.files[0];n&&(this.file=n)}else this.file=null}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{word2html:function(){var e=this;if(!this.file)return this.$message("请先选择 word 文档");var t=new FormData;t.set("file",this.file);var n=this.$loading({lock:!0,text:"拼命解析中。。。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(A["a"])({url:"transform/word2html",method:"post",data:t}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.data;n.close(),e.filepath="";var a=o.data&&o.data.html,i=document.createElement("div");i.innerHTML=a.replace(/<\/?script[^>]>/i,"").replace(/on(load|error)\s*=\s*["']/i,'$1="'),e.setContent(i.innerHTML)})).catch((function(e){n.close(),console.log(e)}))},getTinymce:function(){return window.tinymce.get(this.tinymceId)},selectImage:function(){var e=this;this.openDialog({name:"d-resourceSelect",data:{type:"image"},methods:{onSelectImage:function(t){e.getTinymce().insertContent('<img class="wscnph" src="'.concat(t,'" >'))}}})},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),content_style:"figure.align-left{float:left}figure.align-right{float:right}figure.image{display:inline-block;border:1px solid gray;margin:0 2px 0 1px;background:#f5f2f0}figure.image img{margin:8px 8px 0 8px}figure.image figcaption{margin:6px 8px 6px 8px;text-align:center}img.align-left{float:left}img.align-right{float:right}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}p{margin:.5em 0}",language:"zh_CN",height:this.height,body_class:"panel-body",object_resizing:!0,branding:!0,image_advtab:!0,toolbar:["formatselect bold italic underline strikethrough alignleft aligncenter alignright outdent indent","fontsizeselect undo redo removeformat bullist numlist link  charmap preview ","insertdatetime media table forecolor backcolor hr image myupload"],menubar:!1,plugins:["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:320,code_dialog_width:1e3,fontsize_formats:"8px 10px 12px 14px 16px 18px 20px 22px 24px 26px 28px 30px 32px 34px 36px",advlist_bullet_styles:"default,circle,disc,square",advlist_number_styles:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman",imagetools_cors_hosts:["www.tinymce.com","codepen.io","ymm56.com"],default_link_target:"_blank",link_title:!1,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("KeyUp ExecCommand SetContent",(function(){e.hasChange=!0;var t=n.getContent();e.$emit("input",t)}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state})),e.addButton("myupload",{text:"上传图片",icon:!1,onclick:function(){t.selectImage()}})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()}},destroyed:function(){this.destroyTinymce()}},hn=fn,gn=(n("012e"),Object(v["a"])(hn,pn,mn,!1,null,"5bc7b776",null)),bn=gn.exports;function yn(){s.a.component("attr-data",Wt),s.a.component("attr-resource",un),s.a.component("attr-function",en),s.a.component("attr-richtext",bn),s.a.component("attr-event",an)}var vn={install:yn},wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"appWarp",staticClass:"appWarp dont-override",attrs:{id:"appWarp"},on:{scroll:e.scrollChange,mousemove:e.mousemove,mouseup:e.mouseup,mouseleave:e.mouseup,click:e.bgClick}},[e.selectNode?n("div",{staticClass:"headertool"},[n("align",{attrs:{stacked:e.selectNodeStacked,info:e.selectNode.style}})],1):e._e(),n("div",{staticClass:"editType"},[n("el-radio-group",{attrs:{size:"mini"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.editType,callback:function(t){e.editType=t},expression:"editType"}},[n("el-radio-button",{attrs:{label:"editor"}},[e._v("编辑模式")]),n("el-radio-button",{attrs:{label:"preview"}},[e._v("预览模式")])],1)],1),n("div",{staticClass:"phoneSize"},e._l(e.PHONE_SIZES,(function(t,o){return n("div",{key:o,staticClass:"phoneItem",class:{active:e.phoneSize.name==t.name},style:{width:t.width,zIndex:20-o},on:{click:function(n){return e.changePhoneSize(t)}}},[n("div",{staticClass:"desc"},[e._v(e._s(t.name)+" - "+e._s(t.width))])])})),0),n("div",{staticClass:"app",class:[e.phoneSize.name.toLowerCase().replace(/\s+/,"-")],style:{width:e.phoneSize.width,minHeight:e.phoneSize.height},attrs:{id:"stage"}},[e.info&&"editor"==e.editType?n("node",{key:e.info&&e.info.id,ref:"node",attrs:{info:e.info}}):e._e(),e.previewInfo&&"preview"==e.editType?n("perview-node",{attrs:{info:e.previewInfo}}):e._e()],1),n("assist-lines")],1)},kn=[],xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"node",class:{active:e.isActive,dragentered:e.dragentered},style:e.computedStyle,on:{dragenter:function(t){return e.dragenter(t)},dragover:function(t){return e.dragover(t)},drop:function(t){return e.drop(t)},dragleave:function(t){return e.dragleave(t)},click:function(t){return t.stopPropagation(),e.actived(t)},contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.showContextMenu(e.nodeInfo,t)}}},[n(e.currPage,e._b({ref:e.nodeInfo.id,tag:"component",style:e.componentStyle},"component",e.nodeInfo.props,!1),[e.nodeInfo.child&&!1!==e.slots?e._l(e.nodeInfo.child,(function(t,o){return n("node",{key:t.id,attrs:{slot:e.slots(o)&&e.slots(o).name,"slot-style":e.slots(o)&&e.slots(o).style,"node-index":o,stacked:e.nodeInfo.stack,info:t},slot:e.slots(o)&&e.slots(o).name})})):e._e()],2),n("selecter",{ref:"selector",attrs:{packed:e.packed,"is-root":e.isRootNode&&!e.nodeInfo.packed,visible:e.isActive,warpStyle:e.nodeInfo.style}}),e.nodeInfo.child&&!1===e.slots?e._l(e.nodeInfo.child,(function(t,o){return n("node",{key:t.id,attrs:{"node-index":o,stacked:e.nodeInfo.stack,info:t}})})):e._e(),e.stacked||e.fixed?e._e():n("div",{staticClass:"node-divider",class:{hover:e.dragenteredDivider},style:{width:e.phoneSize.width},on:{dragleave:e.dragleaveDivider,dragover:e.dragoverDivider,dragenter:e.dragenterDivider,drop:e.dropDivider}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.stacked&&!e.fixed,expression:"!stacked && !fixed"}],staticClass:"type-icon iconfont icon-stack"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.fixed,expression:"fixed"}],staticClass:"type-icon iconfont icon-nail-fixed"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.nodeInfo.leaf,expression:"nodeInfo.leaf"}],staticClass:"type-icon iconfont icon-leaf",style:{"margin-right":!e.stacked||e.fixed?"14px":"0"}})],2)},_n=[];function $n(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){$n(i,o,a,r,s,"next",e)}function s(e){$n(i,o,a,r,s,"throw",e)}r(void 0)}))}}var Sn={getComponent:function(e){var t=e.type,n=e.version,o="".concat(t,"@").concat(n);return this.componentCache[o]},componentCache:{},requestCache:{},load:function(){var e=Cn(u.a.mark((function e(t){var n,o,a,i,r,s,c,l=this;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.type,o=t.path,a=t.version,a=a||"0.1.0",i="".concat(n,"@").concat(a),r=this.getComponent({type:n,version:a}),!r){e.next=6;break}return e.abrupt("return",r);case 6:return this.requestCache[i]?s=this.requestCache[i]:(c=o,this.requestCache[i]=s=Object(xe["d"])("https:"===location.protocol?c.replace(/^http:/,"https:"):c)),e.next=9,s.then((function(e){return r=window[i+"index"]||window[i]||window[i.replace("@","")],l.componentCache[i]=r=r.default||r,r})).catch((function(e){console.log("加载脚本失败",c),console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadEditor:function(){var e=Cn(u.a.mark((function e(t){var n,o,a,i,r,s,c,l=this;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.type,o=t.path,a=t.version,o){e.next=3;break}return e.abrupt("return");case 3:if(a=a||"0.1.0",i="".concat(n,"@").concat(a,"editor"),r=this.componentCache[i],!r){e.next=8;break}return e.abrupt("return",r);case 8:return this.requestCache[i]?s=this.requestCache[i]:(c=o.replace("index.js","editor.js"),this.requestCache[i]=s=Object(xe["d"])("https:"===location.protocol?c.replace(/^http:/,"https:"):c)),e.next=11,s.then((function(e){return r=window[i],l.componentCache[i]=r=r.default||r,r})).catch((function(e){console.log("该组件不存在对应编辑器",n)}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()};function jn(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function En(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){jn(i,o,a,r,s,"next",e)}function s(e){jn(i,o,a,r,s,"throw",e)}r(void 0)}))}}function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Nn.$div=Nn.$div||document.createElement("div");var t=Object.keys(e).sort((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.length>t.length?1:-1})).reduce((function(t,n){return t+="".concat(n,": ").concat(e[n],";"),t}),"");return Nn.$div.style=t,Nn.$div.style.cssText.split(/;\s*/).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.match(/^\s*([^:]+):\s*(.+)\s*$/),o=n?Tn({},n[1],n[2]):{};return Object.assign(e,o)}),{})}var Pn={name:"node",props:{info:{required:!0,type:Object}},data:function(){return{currPage:""}},watch:{},computed:An(An({},Object(de["mapState"])({Config:function(e){return e.Config},Metadata:function(e){return e.Metadata},DataHub:function(e){return e.DataHub}})),{},{fixed:function(){return this.nodeInfo&&"fixed"==this.nodeInfo.style.position},isRootNode:function(){return"root"===this.nodeInfo.id||"node"===this.nodeInfo.type||"widgetScene"===this.$parent.$options.name},computedStyle:function(){var e=Nn(this.nodeInfo.style),t="object"===In(this.slotStyle)&&this.slotStyle?this.slotStyle:{};return Object.assign({"pointer-events":this.packedChild?"none":"auto"},e,t)},parentNodeVm:function(){var e=this;while(e=e.$parent,e&&"node"!==e.$options.name);return e}}),mounted:function(){},methods:{runAnimate:function(){var e=En(u.a.mark((function e(){var t,n,o,a,i,r,s,c=arguments;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=function(){var e=r.styleChangeStr(r.oldStyle),t=r.nodeInfo.animate[a];if(a<o){var n=t.infinite?"infinite":t.countNum,s="\n          -webkit-animation-name:".concat(t.type,";\n          -webkit-animation-duration:").concat(t.duration,"s;\n          -webkit-animation-iteration-count:").concat(n,";\n          -webkit-animation-delay:").concat(t.delay,"s;\n          -webkit-animation-fill-mode:both;\n          -webkit-animation-timing-function:").concat(t.timingFunction||"ease",";\n          ");s+=e+(r.visible?"":"display:none;"),i.style.cssText=s,++a}},t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.clearFirst,!n||!this.oldStyle){e.next=6;break}return this.$el.style.cssText=this.styleChangeStr(this.oldStyle),e.next=6,this.$nextTick();case 6:if(this.oldStyle=Object.assign({},this.computedStyle),this.nodeInfo.animate=this.nodeInfo.animate||[],o=this.nodeInfo.animate.length,0!==o){e.next=11;break}return e.abrupt("return",!1);case 11:a=0,i=this.$el,r=this,s(),i.addEventListener("animationend",s,!1);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),styleChangeStr:function(e){var t="";for(var n in e)t+="".concat(n.replace(/[A-Z]+/g,(function(e){return"-".concat(e.toLowerCase())})),":").concat(e[n],";");return t},registerNode:function(e){var t=this.mixinsScript(),n=s.a.extend(Sn.getComponent(e));t.push({Truck:window.Truck,$lib:window.Truck,methods:{dataHubSet:this.dataHubSet,dataHubGet:this.dataHubGet}});var o=t.reduce((function(e,t){return e.extend(t)}),n);s.a.component(this.nodeInfo.id,o)},mixinsScript:function(){if(window._script=window._script||{},this.nodeInfo.id){var e=[];e=this.nodeInfo.script instanceof Array?this.nodeInfo.script.map((function(e){return"string"===typeof e?{content:e}:e})):[this.nodeInfo.script&&"string"===typeof this.nodeInfo.script?{content:this.nodeInfo.script}:{content:"return {}"}];var t="window._script['".concat(this.nodeInfo.id,"'] = function(vm){\n          return [").concat(e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content;return"string"===typeof t&&t.trim().length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.runtimeOnly,o=void 0!==n&&n;return a(t,o)})).join(","),"].map(function(fn) {\n            return fn(vm)\n          })\n        }"),n=[];if("EDITOR"===Object({NODE_ENV:"production",BASE_URL:"/editor/dist/editor/",CODE_ENV:"production"}).PAGE)try{var o=window.Babel.transform(t,{presets:["es2015","es2017","stage-0"]}).code;window.eval(o),n=window._script[this.nodeInfo.id](this)}catch(i){this.ema.fire("bughd.open",i),console.error("代码解析报错",i)}else window.eval(t),n=window._script[this.nodeInfo.id](this);return n}return[];function a(e,t){var n='\n        if (window.EDIT_TYPE == \'EDITOR\') {\n          ;["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "activated", "deactivated", "beforeDestroy", "destroyed"].map(v => {\n            delete options[v]\n          })\n        }';return"function(vm){\n          var options = function (vm) {\n          ".concat(e,"\n          }(vm)\n          ").concat(t?n:"","\n          return options\n        }")}},dataHubSet:function(e,t){void 0!==t&&null!==t||(t=e.val,e=e.path),this.$store.dispatch("dataHubSet",{path:e,val:t})},dataHubGet:function(e){return I["c"].objectGetByPath(this.DataHub,e)},isVisible:function(e){var t=e,n=!0;while(t&&t.nodeInfo){if(0==t.nodeInfo.visible){n=!1;break}t=t.$parent}return n},calcSlots:function(e,t){if(!e)return!1;var n=e.slots;return"function"===typeof n&&(n=n(t)||!1),"boolean"===typeof n&&n?(this.$set(this.nodeInfo,"hasSlot",!0),function(e){return{name:"slot".concat(e),style:null}}):n instanceof Array&&n.length>0?(this.nodeInfo.childLimit=n.length,n=n.map((function(e,t){return{name:"string"===typeof e?e:e&&e.name||"slot".concat(t),style:"string"===typeof e?null:e&&e.style}})),this.$set(this.nodeInfo,"hasSlot",!0),function(e){return n[e]}):n&&"object"===In(n)&&("name"in n||"style"in n)?(this.$set(this.nodeInfo,"hasSlot",!0),function(e){return{name:n.name||"slot".concat(e),style:n.style}}):(this.$delete(this.nodeInfo,"hasSlot"),!1)}}},Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"eqc-select ng-isolate-scope",class:{"root-node":e.isRoot},attrs:{ignorehtml2canvas:""},on:{mousedown:function(t){return e.mousedown(t,"m")}}},[e.isRoot?[n("div",{staticClass:"line-s line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.s,expression:"show.s"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"s")}}})])]:[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.r&&!e.accessResizeRotate,expression:"show.r && !accessResizeRotate"}],staticClass:"rotate-circle",on:{mousedown:function(t){return e.mousedown(t,"r")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.r&&!e.accessResizeRotate,expression:"show.r && !accessResizeRotate"}],staticClass:"rotate-line"}),n("div",{staticClass:"bar bar-m-line"}),n("div",{staticClass:"line-n line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.packed&&e.show.n,expression:"!packed && show.n"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"n")}}})]),n("div",{staticClass:"line-e line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.packed&&e.show.e,expression:"!packed && show.e"}],staticClass:"circle",staticStyle:{cursor:"ew-resize"},on:{mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"e")}}})]),n("div",{staticClass:"line-s line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.packed&&e.show.s,expression:"!packed && show.s"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"s")}}})]),n("div",{staticClass:"line-w line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.packed&&e.show.w,expression:"!packed && show.w"}],staticClass:"circle",staticStyle:{cursor:"ew-resize"},on:{mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"w")}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.nw,expression:"show.nw"}],staticClass:"circle-nw circle resizable",staticStyle:{cursor:"nwse-resize"},on:{mousedown:function(t){return e.mousedown(t,"nw")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.ne,expression:"show.ne"}],staticClass:"circle-ne circle resizable",staticStyle:{cursor:"nesw-resize"},on:{mousedown:function(t){return e.mousedown(t,"ne")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.se,expression:"show.se"}],staticClass:"circle-se circle resizable",staticStyle:{cursor:"nwse-resize"},on:{mousedown:function(t){return e.mousedown(t,"se")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.sw,expression:"show.sw"}],staticClass:"circle-sw circle resizable",staticStyle:{cursor:"nesw-resize"},on:{mousedown:function(t){return e.mousedown(t,"sw")}}}),e.movable?n("div",{staticClass:"circle-center resizable",class:{canDraged:e.canDraged},on:{mousedown:function(t){return e.mousedown(t,"m")}}}):e._e()]],2):e._e()},Mn=[];function Ln(e,t){return Rn(e)||Bn(e,t)||Hn(e,t)||Fn()}function Fn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function Rn(e){if(Array.isArray(e))return e}function zn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function Hn(e,t){if(e){if("string"===typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Un(e,t):void 0}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e,t,n){var o=e/n,a=t*n;return[a>e?e:a,o>t?t:o]}function Wn(e){var t=e.nodeInfo.id,n=e.$el.getBoundingClientRect();console.log("1");var o=e.$children.filter((function(e){return"node"==e.$options.name})),a=[Vn({},t,n)].concat(o.map((function(e){return Wn(e)})));return Object.assign.apply(null,a)}var qn={},Kn={mixins:[f["a"]],name:"Selecter",props:{warpStyle:{type:Object},visible:{type:Boolean,default:!1},canDraged:{type:Boolean,default:!1},movable:{type:Boolean,default:!0},isRoot:{type:Boolean,default:!1},packed:{type:Boolean,default:!1}},data:function(){return{allRectProps:["top","left","bottom","right","width","height"],isSetArray:[],isUnSetArray:[],rectangles:null,columns:[],sorbRectangles:{},isMoved:!1,keyShifted:!1,startPos:{x:0,y:0,initx:0,inity:0},doType:"",show:{n:!0,e:!0,s:!0,w:!0,nw:!0,ne:!0,se:!0,sw:!0,r:!0},accessResizeRotate:!1}},computed:{noMoving:function(){return this.warpStyle&&"relative"===this.warpStyle.position}},watch:{"warpStyle.position":function(e){this.changeStatus(e)},visible:function(e){!e&&this.EditorValue&&this.ema.fire("dock.onceDialogClose",this.EditorValue),e&&(this.columns=this.getColumns())}},mounted:function(){var e=this;this.ema.bind("shift.down",(function(t){e.keyShifted=!0})),this.ema.bind("shift.up",(function(t){e.keyShifted=!1})),this.ema.bind("ui.mouseup",(function(t){if(e.visible&&e.doType){var n=e.doType;e.rectangles=null,e.doType="",e.isRoot||e.setRectInfo(e.isSetArray,e.isUnSetArray),e.ema.fire("AssistLines.hide"),e.packed&&e.resizeChildren(n)}})),this.ema.bind("ui.mousemove",(function(t){e.visible&&(e.isMoved=!0,e.doType&&((e.Setting.line||e.Setting.sorb)&&e.initAllSorbLine(),e.Setting.line&&e.updateLine(),e.dealMove(t)))})),this.bindArrowMove(),this.changeStatus(this.warpStyle?this.warpStyle.position:"")},methods:{initAllSorbLine:function(){if(!this.rectangles){var e=[];for(var t in window.$_nodecomponents)if(window.$_nodecomponents.hasOwnProperty(t)){if(t==this.$parent.nodeInfo.id)continue;var n=window.$_nodecomponents[t],o=n.$el.getBoundingClientRect();e.push(o)}this.rectangles=e}return e},updateLine:function(e){var t=15,n=this.$el.getBoundingClientRect(),o={x1:[],x2:[],x3:[],y1:[],y2:[],y3:[]};function a(e,n,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Math.abs(n.left-e.left)<t&&o.x1.push(parseInt(e.left)),a&&Math.abs(n.left-(e.left+e.width/2))<t&&o.x1.push(parseInt(e.left+e.width/2)),Math.abs(n.left-e.right)<t&&o.x1.push(parseInt(e.right)),a&&Math.abs(n.left+n.width/2-e.left)<t&&o.x2.push(parseInt(e.left)),a&&Math.abs(n.left+n.width/2-(e.left+e.width/2))<t&&o.x2.push(parseInt(e.left+e.width/2)),a&&Math.abs(n.left+n.width/2-e.right)<t&&o.x2.push(parseInt(e.right)),Math.abs(n.right-e.left)<t&&o.x3.push(parseInt(e.left)),a&&Math.abs(n.right-(e.left+e.width/2))<t&&o.x1.push(parseInt(e.left+e.width/2)),Math.abs(n.right-e.right)<t&&o.x3.push(parseInt(e.right)),Math.abs(n.top-e.top)<t&&o.y1.push(parseInt(e.top)),a&&Math.abs(n.top-(e.top+e.height/2))<t&&o.y1.push(parseInt(e.top+e.height/2)),Math.abs(n.top-e.bottom)<t&&o.y1.push(parseInt(e.bottom)),a&&Math.abs(n.top+n.height/2-e.top)<t&&o.y2.push(parseInt(e.top)),a&&Math.abs(n.top+n.height/2-(e.top+e.height/2))<t&&o.y2.push(parseInt(e.top+e.height/2)),a&&Math.abs(n.top+n.height/2-e.bottom)<t&&o.y2.push(parseInt(e.bottom)),Math.abs(n.bottom-e.top)<t&&o.y3.push(parseInt(e.top)),a&&Math.abs(n.bottom-(e.top+e.height/2))<t&&o.y3.push(parseInt(e.top+e.height/2)),Math.abs(n.bottom-e.bottom)<t&&o.y3.push(parseInt(e.bottom))}for(var i in this.rectangles)if(this.rectangles.hasOwnProperty(i)){var r=this.rectangles[i];a(r,n,o)}var s,c=zn(this.columns);try{for(c.s();!(s=c.n()).done;){var l=s.value;a(l,n,o,!1)}}catch(u){c.e(u)}finally{c.f()}for(var d in o)o[d].sort();this.ema.fire("AssistLines.update",o),this.sorbRectangles=o},getSorbPos:function(e){var t=8,n=this.startPos.bottomControl?this.startPos.parentSize.height-this.startPos.bottom-this.startPos.h:this.startPos.top,o=this.startPos.rightControl?this.startPos.parentSize.width-this.startPos.right-this.startPos.w:this.startPos.left,a={top:n+(e.pageY-this.startPos.y),left:o+(e.pageX-this.startPos.x)},i={width:this.startPos.w,height:this.startPos.h,top:this.startPos.size.top+(e.pageY-this.startPos.y),left:this.startPos.size.left+(e.pageX-this.startPos.x)};if(this.Setting.sorb){var r={x1:i.left,x2:i.left+this.startPos.w/2,x3:i.left+this.startPos.w},s={y1:i.top,y2:i.top+this.startPos.h/2,y3:i.top+this.startPos.h},c=[];for(var l in r)this.sorbRectangles[l]&&c.push(r[l]-this.sorbRectangles[l][0]);var d=this.getMiniNumberIndex(c);d>=0&&this.sorbRectangles["x".concat(d+1)].length>0&&Math.abs(c[d])<t&&(a.left=a.left-c[d]);var u=[];for(var p in s)this.sorbRectangles[p]&&u.push(s[p]-this.sorbRectangles[p][0]);var m=this.getMiniNumberIndex(u);m>=0&&this.sorbRectangles["y".concat(m+1)].length>0&&Math.abs(u[m])<t&&(a.top=a.top-u[m])}return a},getMiniNumberIndex:function(e){var t=1e9,n=-1;return e.forEach((function(e,o){e=Math.abs(e),e&&(Math.min(t,e)==e&&(n=o),t=Math.min(t,e))})),n},dealMove:function(e){var t,n,o,a,i,r,s=this.$parent.nodeInfo.style,c=this.doType,l=this.startPos.rightControl,d=this.startPos.bottomControl;switch(c.includes("s")&&(t=e.pageY-this.startPos.y+this.startPos.h,d&&(r=this.startPos.bottom-(e.pageY-this.startPos.y))),c.includes("e")&&(n=e.pageX-this.startPos.x+this.startPos.w,l&&(i=this.startPos.right-(e.pageX-this.startPos.x))),c.includes("w")&&(n=this.startPos.x-e.pageX+this.startPos.w,l||(o=this.startPos.left+(e.pageX-this.startPos.x))),c.includes("n")&&(t=this.startPos.y-e.pageY+this.startPos.h,d||(a=this.startPos.top+(e.pageY-this.startPos.y))),c){case"se":if(this.keyShifted||this.packed){var u=S(n,t,this.startPos.aspect),p=Ln(u,2);n=p[0],t=p[1],d&&(r=this.startPos.bottom+(this.startPos.h-t)),l&&(i=this.startPos.right+(this.startPos.w-n))}break;case"sw":if(this.keyShifted||this.packed){var m=S(n,t,this.startPos.aspect),f=Ln(m,2);n=f[0],t=f[1],l||(o=this.startPos.left+(this.startPos.w-n)),d&&(r=this.startPos.bottom+(this.startPos.h-t))}break;case"nw":if(this.keyShifted||this.packed){var h=S(n,t,this.startPos.aspect),g=Ln(h,2);n=g[0],t=g[1],d||(a=this.startPos.top+(this.startPos.h-t)),l||(o=this.startPos.left+(this.startPos.w-n))}break;case"ne":if(this.keyShifted||this.packed){var b=S(n,t,this.startPos.aspect),y=Ln(b,2);n=y[0],t=y[1],d||(a=this.startPos.top+(this.startPos.h-t)),l&&(i=this.startPos.right+(this.startPos.w-n))}break;case"m":var v=this.getSorbPos(e);l?i=this.startPos.parentSize.width-this.startPos.w-v.left:o=v.left,d?r=this.startPos.parentSize.height-this.startPos.h-v.top:a=v.top;break;case"r":var w=10,k={left:this.startPos.size.left+this.startPos.size.width/2,top:this.startPos.size.top+this.startPos.size.height/2},x={x:e.pageX-k.left,y:e.pageY-k.top},_=30;w=180/Math.PI*Math.atan(x.y/x.x)+90;var $=w%_,C=Math.round(w/_);$<6&&(w=C*_),x.x<0&&(w-=180),w=w.toFixed(2),this.$set(s,"transform","rotateZ(".concat(w,"deg)"));break}function S(e,t,n){var o=e/n,a=t*n;return[a>e?e:a,o>t?t:o]}Object(I["g"])(a)||this.$set(s,"top",a+"px"),Object(I["g"])(o)||this.$set(s,"left",o+"px"),Object(I["g"])(r)||this.$set(s,"bottom",r+"px"),Object(I["g"])(i)||this.$set(s,"right",i+"px"),Object(I["g"])(n)||this.$set(s,"width",n+"px"),Object(I["g"])(t)||this.$set(s,"height",t+"px")},setRectInfo:function(e,t){var n=this,o=this.$parent.nodeInfo.style;if("relative"!=o.position){var a=Object(I["e"])(window.$vue.$el),i=null;"fixed"==o.position||window.$vue.isRootNode?i=Object(I["e"])(document.querySelector("#stage")):window.$vue.parentNodeVm.nodeInfo&&(i=Object(I["e"])(window.$vue.parentNodeVm.$el)),e.forEach((function(e){if("height"==e||"width"==e)/%$/.test(o[e])||n.$set(o,e,"".concat(Math.abs(a[e]).toFixed(2),"px"));else{var t=0;t=a[e]-i[e],n.$set(o,e,"".concat(t.toFixed(2),"px"))}})),t.forEach((function(e){n.$delete(o,e)}))}},changeDraged:function(){},keydown:function(e){console.log("keydown",e,e.keyCode)},changeStatus:function(e){"absolute"==e||"fixed"==e?(this.show.n=!0,this.show.w=!0,this.show.nw=!0,this.show.ne=!0,this.show.sw=!0,this.show.r=!0):(this.show.n=!1,this.show.w=!1,this.show.nw=!1,this.show.ne=!1,this.show.sw=!1,this.show.r=!1)},mousedown:function(e,t){var n=this;this.isMoved=!1,this.isRoot||(this.isSetArray=[],this.isUnSetArray=[],this.allRectProps.forEach((function(e){var t=n.$parent.nodeInfo.style;Object(I["g"])(t[e])?n.isUnSetArray.push(e):n.isSetArray.push(e)}))),this.doType=t;var o=this.$parent,a=o.isRootNode?{$el:document.querySelector("#stage")}:this.$parent.parentNodeVm||{},i=Object(I["d"])(o.$el,a.$el);this.startPos={size:i.rect,parentSize:i.parentRect,x:e.pageX,y:e.pageY,w:i.width,h:i.height,aspect:i.width/i.height,left:i.left,top:i.top,bottom:i.bottom,right:i.right,initx:e.offsetX,inity:e.offsetY,rightControl:i.rightControl,bottomControl:i.bottomControl},this.allRectProps.map((function(e){var t=i[e];"left"==e&&i.rightControl?n.$set(o.nodeInfo.style,"left",null):"top"==e&&i.bottomControl?n.$set(o.nodeInfo.style,"top",null):Object(I["g"])(t)||/%$/.test(o.nodeInfo.style[e])||n.$set(o.nodeInfo.style,e,t+"px")})),qn=Wn(o),e.stopPropagation()},bindArrowMove:function(){var e=this;function t(t,n){var o=window.$vue;if("widgetScene"==n.panelName&&e.visible){if(!o.stacked&&"down"==t)return e.moveLayer(1);if(!o.stacked&&"up"==t)return e.moveLayer(-1);e.mousedown({stopPropagation:function(){}},"");var a=e.$parent.nodeInfo.style,i=e.startPos.top,r=e.startPos.left,s=e.startPos.right,c=e.startPos.bottom,l=e.startPos.rightControl,d=e.startPos.bottomControl;switch(t){case"down":d?c-=1:i+=1;break;case"up":d?c+=1:i-=1;break;case"left":l?s+=1:r-=1,r-=1;break;case"right":l?s-=1:r+=1;break}l?a.right=s+"px":a.left=r+"px",d?a.bottom=c+"px":a.top=i+"px"}}this.ema.bind("arrowdown.down",(function(e){return t("down",e)})),this.ema.bind("arrowup.down",(function(e){return t("up",e)})),this.ema.bind("arrowleft.down",(function(e){return t("left",e)})),this.ema.bind("arrowright.down",(function(e){return t("right",e)}))},moveLayer:function(e){var t=window.$vue,n=t&&t.parentNodeVm;n&&"function"===typeof n.moveLayer&&n.moveLayer(t.nodeInfo,e)},getColumns:function(){if(!/desktop/i.test(this.Setting.phoneSize.name))return[];var e=document.querySelector("#stage"),t=e&&e.getBoundingClientRect(),n=95,o=(t.width-1140)/2;return t?Array.apply(null,{length:13}).map((function(e,a){return{left:t.left+o+n*a,right:t.right-o-n*a,top:0,bottom:0,width:0,height:0}})):[]},resizeChildren:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(/^[ewsn]{1,2}$/.test(e)){console.log("resizeChildren",e);var t=this.$parent,n=t.nodeInfo.id,o=qn,a=o[n],i=t.$el.getBoundingClientRect(),r=Gn(i.width,i.height,this.startPos.aspect),s=r[0]/a.width,c=Object.keys(o).filter((function(e){return e!==n})),l=c.reduce((function(e,t){var n=o[t];return e[t]=["left","right","bottom","top"].reduce((function(e,t){return e[t]=(n[t]-a[t])*(["right","bottom"].includes(t)?-1:1),e}),{width:n.width,height:n.height}),e}),{}),d=c.reduce((function(e,t){var n=l[t];return e[t]=["left","right","bottom","top","height","width"].reduce((function(e,t){return e[t]=(s-1)*n[t],e}),{}),e}),{});console.log("deltas",r,s,o,l,d),function e(t){var n=t.nodeInfo,o=t.parentId,a=t.isRoot,i=t.ratio,r=n.id;if(!a){var s=n.style;["left","right","top","bottom","width","height"].map((function(e){var t,n=s[e];/px$/.test(n)&&(t="relative"===s["position"]?["height","width"].includes(e)?d[r][e]:parseFloat(n)*(i-1):d[r][e]-(o in d&&!["height","width"].includes(e)?d[o][e]:0),s[e]=parseFloat(n)+t+"px")}))}var c=n.child||[];c.length&&c.map((function(t){return e({nodeInfo:t,parentId:r,ratio:i})}))}({nodeInfo:t.nodeInfo,isRoot:!0,ratio:s})}}}},Jn=Kn,Yn=(n("0f93"),Object(v["a"])(Jn,Dn,Mn,!1,null,"3dc7698c",null)),Xn=Yn.exports;function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=no(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function no(e,t){if(e){if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ao(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function io(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){ao(i,o,a,r,s,"next",e)}function s(e){ao(i,o,a,r,s,"throw",e)}r(void 0)}))}}var ro={mixins:[Pn,f["a"]],name:"node",components:{Selecter:Xn},props:{info:{required:!0,type:Object},stacked:{type:Boolean,default:!0},nodeIndex:{type:Number},slotStyle:{type:Object,default:null}},data:function(){return{dragenteredDivider:!1,componentEvents:"auto",canDraged:!1,oldId:"",isActive:!1,dragentered:!1,mouseovered:!1,currPage:"",slots:!1}},watch:{isActive:function(e){this.componentEvents=e?"auto":"none"},"nodeInfo.type":function(e,t){this.nodeInfo.props={},"node"!==this.nodeInfo.type?("truckPageContainer"==this.nodeInfo.type&&(this.nodeInfo.style.width="100%",this.nodeInfo.style.height="100%",this.nodeInfo.style.left="0",this.nodeInfo.style.top="0",this.nodeInfo.style.position="absolute"),this.doLoad()):this.currPage=""},"nodeInfo.version":function(e,t){this.doLoad()},stacked:{handler:function(e){var t=this.nodeInfo.style,n=this.nodeInfo.bakedStyle;if("fixed"!==t.position)if(["fixed","relative","absolute"].includes(t.position)){if(1!=arguments.length||!e){var o=e?["absolute","relative"]:["relative","absolute"];t.position!=o[0]&&t.position==o[1]&&(this.nodeInfo.style=Object.assign({},this.nodeInfo.style,n&&n.position==o[0]?n:{position:o[0],left:"0px",top:"0px",bottom:null,right:null}),this.nodeInfo.bakedStyle={left:t.left,top:t.top,bottom:t.bottom,right:t.right,position:t.position})}}else this.nodeInfo.style=Object.assign({},this.nodeInfo.style||{},{position:"relative",left:"0px",top:"0px",bottom:null,right:null})},immediate:!1}},computed:{nodeInfo:function(){return this.$set(this.info,"version",this.info.version||"0.1.0"),this.info},phoneSize:function(){return this.$store.state.setting.phoneSize},componentStyle:function(){return{"pointer-events":this.packedChild?"none":this.componentEvents}},visible:{get:function(){return!!this.nodeInfo&&this.nodeInfo.visible},set:function(e){this.nodeInfo.visible=e}},packedChild:function(){return!this.isRootNode&&(this.parentNodeVm.packed||this.parentNodeVm.packedChild)},packed:function(){return!this.isRootNode&&this.nodeInfo.packed}},beforeDestroy:function(){delete window.$_nodecomponents[this.oldId]},mounted:function(){this.oldId=this.nodeInfo.id,this.initBaseCss(),this.bindSelectOne(),this.bindCopy(),this.bindDrag(),this.bindPageContainerSelect(),this.bindRunAnimation(),this.bindReload(),this.registerNodeToGlobal(),this.doLoad(),console.log("mounted",this.nodeInfo.id)},methods:{registerNodeToGlobal:function(){window.$_nodecomponents=window.$_nodecomponents||{},window.$_nodecomponents[this.nodeInfo.id]=this},initBaseCss:function(){},showContextMenu:function(e,t){this.ema.fire("show.contextMenu",this,t)},getComponent:function(e,t){var n=window.$_nodecomponents[e];return t&&n?n.$refs[e]:n},bindRunAnimation:function(){var e=this;this.ema.bind("animate.timeline.move",(function(t,n){e.nodeInfo.animate.length>0&&e.isVisible(e)&&e.setAnimationFrame(t,n)})),this.ema.bind("animate.timeline.move.end",(function(t){e.nodeInfo.animate.length>0&&(e.$el.style.animation="")}))},setAnimationFrame:function(e,t){for(var n=this.nodeInfo.animate,o=null,a=0,i=0,r=0;r<n.length;r++){var s=n[r];if(s.infinite){i=a,a=t,o=s;break}if(a+=s.duration*s.countNum+s.delay,a>=e){o=s;break}}if(o){var c=o.duration,l=o.timingFunction||"ease",d=(a-e-o.duration*o.countNum)%o.duration,u=1;o.infinite&&(d=-(e-i-o.delay)%o.duration);var p=o.type,m="".concat(c,"s ").concat(l," ").concat(d,"s ").concat(u," normal none paused ").concat(p);this.$el.style.animation=p?m:""}},bindDrag:function(){var e=this;this.ema.bind("dragenter.one",(function(t){t&&t==e.nodeInfo.id?e.dragentered=!0:e.dragentered=!1}))},bindSelectOne:function(){var e=this;this.ema.bind("select.one",(function(t,n){if(!e.nodeInfo.locked)if(t!=e.nodeInfo.id)e.isActive=!1;else{console.log("select.one 1",e.nodeInfo),(!n||n instanceof window.Event)&&e.ema.fire("hide.contextMenu"),e.isActive=!0,e.mergeProps(),window.$vue=e,setTimeout((function(){e.ema.fire("select.oneInfo",{vm:e})}),200);var o=e.parentNodeVm;o&&o.nodeInfo&&-1!=o.nodeInfo.type.indexOf("PageContainer")&&e.ema.fire("select.truckPageContainer",t)}})),this.ema.bind("select.noOne",(function(){e.isActive=!1,window.$vue=null})),this.ema.bind("delete.down",(function(t){e.isActive&&"widgetScene"===t.panelName&&e.$confirm("确认删除该组件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.ema.fire("move.node",e.nodeInfo.id,null),e.ema.fire("select.noOne")})).catch((function(){e.$message({type:"info",message:"已取消"})}))}))},bindCopy:function(){var e=this;this.ema.bind("node.copy",(function(t){t&&t.id&&t.id==e.nodeInfo.id&&e.parentNodeVm.copyChild(e.nodeInfo,{})}))},bindPageContainerSelect:function(){var e=this,t=this.parentNodeVm;t&&t.nodeInfo&&-1!=t.nodeInfo.type.indexOf("PageContainer")&&this.ema.bind("select.truckPageContainer",(function(t){t!=e.nodeInfo.id?e.nodeInfo.visible=!1:e.nodeInfo.visible=!0}))},doLoad:function(){var e=io(u.a.mark((function e(){var t,n,o,a,i,r,s=this;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,"node"!==this.nodeInfo.type||window.$vue){e.next=5;break}return t.$set(t.info,"stack",!1!==t.info.stack),this.ema.fire("select.one",this.nodeInfo.id),e.abrupt("return");case 5:return e.next=7,Sn.load(this.nodeInfo);case 7:return n=e.sent,this.slots=this.calcSlots(n,this.nodeInfo.props),o=this.nodeInfo.type,t.$set(t.info,"label",t.info.label?t.info.label:t.info.id.replace(o,n&&n.label||o)),t.$set(t.info,"stack",function(){return"boolean"===typeof t.info.stack?t.info.stack:s.slots?!0===n.stack:!1!==n.stack}()),t.$set(t.info,"childLimit","number"===typeof t.info.childLimit?t.info.childLimit:Object(I["j"])(n.childLimit,9999)),t.$set(t.info,"leaf","boolean"===typeof t.info.leaf?t.info.leaf:!!n.leaf||"0"===String(n.childLimit)),t.$set(t.info,"packed",!0===t.info.packed),t.info.style&&"{}"!=JSON.stringify(t.info.style)?a=t.info.style:(a=Object.assign({position:"absolute",width:"80px",height:"80px",left:"0px",top:"0px"},n.style||{},t.info.forceStyle||{},this.stacked||n.style&&"fixed"===n.style.position?{}:{position:"relative",left:null,top:null,bottom:null,right:null}),t.info.forceStyle&&delete t.info.forceStyle),t.$set(t.info,"style",a),t.currPage="",this.isNodeRegisted(this.nodeInfo.id)||this.registerNode(this.nodeInfo),this.currPage=this.nodeInfo.id,e.next=22,t.$nextTick();case 22:i=this.nodeInfo.id,r=this.$refs[i]&&this.$refs[i].$props,r&&(Object.keys(t.nodeInfo.props)||[]).forEach((function(e){void 0===r[e]&&delete t.nodeInfo.props[e]})),"root"!==i||window.$vue||this.ema.fire("select.one",this.nodeInfo.id),this.bindCalcSlot();case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bindReload:function(){var e=this;this.ema.bind("component.reload",(function(t){t==e.nodeInfo.id&&"node"!==e.nodeInfo.type&&(e.currPage="",e.registerNode(e.nodeInfo),e.currPage=e.nodeInfo.id,e.$nextTick(e.actived))}))},mergeProps:function(){var e=this.nodeInfo.id;if(this.$refs[e]&&this.$refs[e].$props)for(var t in this.$refs[e].$props)if(this.$refs[e].$props.hasOwnProperty(t)){var n=this.$refs[e].$props[t];this.$set(this.nodeInfo.props,t,n)}},mouseover:function(){},mouseenter:function(e){this.packedChild||(this.mouseovered=!0,this.componentEvents="none")},mouseout:function(e){this.packedChild||(this.mouseovered=!1,this.componentEvents="auto")},actived:function(e){this.packedChild||(console.log("actived....",e,this.nodeInfo),this.nodeInfo.lock?this.$message({type:"warning",message:"已被锁定，请先解锁"}):this.ema.fire("select.one",this.nodeInfo.id,e))},dragenter:function(e){e.stopPropagation(),this.ema.fire("dragenter.one",this.nodeInfo.id)},dragleave:function(e){e.stopPropagation()},dragover:function(e){e.stopPropagation(),e.preventDefault()},dragenterDivider:function(e){e.stopPropagation(),this.dragenteredDivider=!0,this.ema.fire("dragenter.one",null)},dragleaveDivider:function(e){e.stopPropagation(),this.dragenteredDivider=!1},dragoverDivider:function(e){e.stopPropagation(),e.preventDefault()},dropDivider:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=this.parentNodeVm.nodeInfo;console.log("drop",e),this.dragenteredDivider=!1,this.dragentered=!1;var o=JSON.parse(e.dataTransfer.getData("componentInfo"));if(o.name){var a=xe["a"].getBaseNode(o);n.child.splice(this.nodeIndex,0,a),this.$nextTick((function(){t.ema.fire("select.one",a.id)}))}},dragstart:function(e,t){e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("moveid",this.nodeInfo.id),e.dataTransfer.setData("dragPos",JSON.stringify({x:e.offsetX,y:e.offsetY})),e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY)},dragend:function(e,t){e.stopPropagation()},drop:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.dragentered=!1;var n=Object(I["a"])(this.nodeInfo,this);if(!n.can)return this.$alert(n.msg);this.nodeInfo.child||this.$set(this.nodeInfo,"child",[]);var o=this.$el.getBoundingClientRect(),a={top:e.pageY,left:e.pageX},i=e.dataTransfer.getData("dragPos");try{i=JSON.parse(i)}catch(d){i={x:0,y:0}}var r={top:a.top-o.top-i.y+"px",left:a.left-o.left-i.x+"px"},s=e.dataTransfer.getData("moveid");if(s)s!=this.nodeInfo.id&&this.ema.fire("move.node",s,this.nodeInfo,r);else{var c=JSON.parse(e.dataTransfer.getData("componentInfo"));if(c.name){var l=xe["a"].getBaseNode(c);l.forceStyle={left:r.left,top:r.top},/pageContainer$/i.test(this.nodeInfo.type)&&(l.forceStyle={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"}),this.nodeInfo.child.push(l),this.$nextTick((function(){t.ema.fire("select.one",l.id)}))}}},moveLayer:function(e,t){var n=this.nodeInfo.child,o=n.indexOf(e);if(-1!=o){t==Number.MAX_VALUE?t=n.length-1-o:t==Number.MIN_VALUE&&(t=-o);var a=o+t;if(a<0||a>n.length-1)return;var i=n.splice(o,1)[0];n.splice(a,0,Object.assign({},i))}},copyChild:function(e,t){var n=this,o=t.isJson,a=t.keepPos,i=Object(I["a"])(this.nodeInfo,this);if(!i.can)return this.$alert(i.msg);this.nodeInfo.child||this.$set(this.nodeInfo,"child",[]);var r=o?JSON.parse(e):g()(e);r instanceof Array||(r=[r]);var s,c=to(r);try{for(c.s();!(s=c.n()).done;){var l,d,u,p=s.value,m=this.nodeInfo.child,f="absolute"===p.style.position;!a&&p.style.left&&(l=parseInt(p.style.left),u=String(p.style.left).replace(/^[-\d.]+/,""),p.style.left=l+(f?"%"==u?2:20:"")+u),!a&&p.style.top&&(d=parseInt(p.style.top),u=String(p.style.top).replace(/^[-\d.]+/,""),p.style.top=d+(f?"%"==u?2:20:"")+u),p=Object(I["h"])(p,Object.keys(window.$_nodecomponents||{})),m.push(p)}}catch(h){c.e(h)}finally{c.f()}this.$nextTick((function(){return n.ema.fire("tree.filter")})),console.log("childs",m)},copyStyle:function(){var e=Qn({},this.nodeInfo.style);window.$copyedStyle=e},pasteStyle:function(){if(window.$copyedStyle){var e=window.$copyedStyle;this.nodeInfo.style=Object.assign(this.nodeInfo.style,e)}},isNodeRegisted:function(e){return Boolean(s.a.component(e))},openPacked:function(){var e=io(u.a.mark((function e(t){var n,o,a,i,r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.notice,o=void 0===n||n,a=t.scene,i=void 0===a?"db_click_node":a,!o){e.next=7;break}return e.next=4,Object(I["b"])("确定要对当前节点「解除封装」吗？","openPacked_".concat(i)).catch((function(e){return!1}));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=!0;case 8:if(r=e.t0,r){e.next=11;break}return e.abrupt("return",console.log("取消解除节点封装"));case 11:this.nodeInfo.packed=!1,this.ema.fire("tree.filter");case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),doPack:function(){var e=io(u.a.mark((function e(t){var n,o,a,i,r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.notice,o=void 0===n||n,a=t.scene,i=void 0===a?"db_click_node":a,!o){e.next=7;break}return e.next=4,Object(I["b"])("确定要对当前节点执行「封装」操作吗？","doPack_".concat(i)).catch((function(e){return!1}));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=!0;case 8:if(r=e.t0,r){e.next=11;break}return e.abrupt("return",console.log("取消执行节点封装"));case 11:this.nodeInfo.packed=!0,this.ema.fire("tree.filter");case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),bindCalcSlot:function(){var e=s.a.component(this.nodeInfo.id);if(e){var t=e&&e.options||{},n=t.slots;if("function"===typeof n){var o=this;this.$watch("nodeInfo.props",(function(e){o.slots=o.calcSlots(t,e)}),{deep:!0})}}}}},so=ro,co=(n("c217"),Object(v["a"])(so,xn,_n,!1,null,"3aa94e28",null)),lo=co.exports,uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"AssistLines"},[e._l(e.pos,(function(t,o){return[t?n("div",{key:o,staticClass:"line",class:{v:-1!=o.indexOf("x")},style:e.getStyle(o,t)}):e._e()]}))],2):e._e()},po=[],mo={mixins:[f["a"]],name:"AssistLines",props:{},data:function(){return{appWarpOffset:{top:0,left:0},visible:!1,pos:{x1:0,x2:0,x3:0,y1:0,y2:0,y3:0}}},watch:{},mounted:function(){var e=this;this.ema.bind("AssistLines.update",(function(t){for(var n in e.parentBox||(e.parentBox=e.$parent.$el.getBoundingClientRect()),e.visible=!0,t){var o=t[n];e.pos[n]=o[0]}})),this.ema.bind("AssistLines.hide",(function(t){e.visible=!1,e.parentBox=null})),this.ema.bind("appWarpOffsetChange",(function(t){e.appWarpOffset=t}))},methods:{getStyle:function(e,t){var n=this;this.parentBox||(this.parentBox=this.$parent.$el.getBoundingClientRect()),this.uptime&&clearTimeout(this.uptime),this.uptime=setTimeout((function(e){n.parentBox=null}),1e3);var o={};return o=-1!=e.indexOf("x")?{top:this.appWarpOffset.top+"px",left:t-this.parentBox.left+"px"}:{top:t-this.parentBox.top+this.appWarpOffset.top+"px",left:0},o["background-color"]=this.Setting.color,o}}},fo=mo,ho=(n("f2d4"),Object(v["a"])(fo,uo,po,!1,null,"7c0ecc66",null)),go=ho.exports,bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"node",class:{active:e.isActive},style:e.computedStyle},[n(e.currPage,e._b({ref:e.nodeInfo.id,tag:"component",scopedSlots:e._u([{key:"ListContainer",fn:function(t){return e.isListContainer?[n("prenode",{attrs:{info:e.nodeChild[0],scope:t}})]:void 0}}],null,!0)},"component",e.nodeInfo.props,!1),[e.isPageContainer?e._l(e.nodeChild,(function(t){return n("prenode",{key:t.id,attrs:{slot:"PageContainer",scope:e.scope,info:t},slot:"PageContainer"})})):e._e(),e.nodeInfo.child&&e.slots?e._l(e.nodeInfo.child,(function(t,o){return n("prenode",{key:t.id,attrs:{slot:e.slots(o)&&e.slots(o).name,"slot-style":e.slots(o)&&e.slots(o).style,stacked:e.nodeInfo.stack,scope:e.scope,info:t},slot:e.slots(o)&&e.slots(o).name})})):e._e()],2),!e.hasChild||e.isListContainer||e.isPageContainer||e.slots?e._e():e._l(e.nodeInfo.child,(function(t){return n("prenode",{key:t.id,attrs:{stacked:e.nodeInfo.stack,scope:e.scope,info:t}})}))],2)},yo=[];function vo(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function wo(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){vo(i,o,a,r,s,"next",e)}function s(e){vo(i,o,a,r,s,"throw",e)}r(void 0)}))}}var ko={mixins:[Pn,f["a"]],name:"prenode",props:{scope:{type:Object},stacked:{type:Boolean,default:!0},info:{required:!0,type:Object},slotStyle:{type:Object,default:null}},data:function(){var e=this;return{oldId:"",isActive:!1,currPage:"",oldStyle:{},nodeInfo:function(){return e.scope?g()(e.info):e.info}(),slots:!!this.info.hasSlot&&function(e){return"slot".concat(e)}}},watch:{"nodeInfo.visible":function(e,t){!1===t&&e&&this.doAfterMounted()},info:{deep:!0,handler:function(e){var t={};t=this.scope?g()(e):e,this.nodeInfo=t}},scope:{handler:function(e){e&&this.$nextTick(this.passScopeToComponentInstance)},deep:!0}},computed:{visible:{get:function(){return!!this.nodeInfo&&this.nodeInfo.visible},set:function(e){this.nodeInfo.visible=e}},nodeChild:function(){return this.nodeInfo.child||[]},hasChild:function(){return this.nodeChild&&this.nodeChild.length>0},isListContainer:function(){return this.nodeInfo&&this.nodeInfo.type.indexOf("ListContainer")>-1},isPageContainer:function(){return this.nodeInfo&&this.nodeInfo.type.indexOf("PageContainer")>-1}},beforeDestroy:function(){delete window.$_nodePrecomponents[this.oldId]},mounted:function(){this.oldId=this.nodeInfo.id,this.registerNodeToGlobal(),this.doLoad()},methods:{cloneDeep:g.a,initNodeEvent:function(){var e=this;this.initEvented||(this.initEvented=!0,this.nodeInfo.events&&this.nodeInfo.events.forEach((function(t){e.getComponent(e.nodeInfo.id,!0).$el.addEventListener(t.event,(function(n){e.getComponent(e.nodeInfo.id,!0).oncallExecute(t.callList,[n])}))})))},getComponent:function(e,t){var n=window.$_nodePrecomponents[e];return t&&n?n.$refs[e]:n},registerNodeToGlobal:function(){window.$_nodePrecomponents=window.$_nodePrecomponents||{},window.$_nodePrecomponents[this.nodeInfo.id]=this},passScopeToComponentInstance:function(){var e=this.scope,t=this.$refs[this.nodeInfo.id];e&&t&&t.$set(t.$data,"inscope",e.data||e)},doLoad:function(){var e=wo(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("node"!==this.nodeInfo.type){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sn.load(this.nodeInfo);case 4:t=e.sent,this.slots=this.calcSlots(t,this.nodeInfo.props),this.isNodeRegisted(this.nodeInfo.id)||this.registerNode(this.nodeInfo),this.currPage=this.nodeInfo.id,this.doAfterMounted();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doAfterMounted:function(){var e=this;this.$nextTick((function(){e.passScopeToComponentInstance(),e.runAnimate(),e.initNodeEvent()}))},isNodeRegisted:function(e){return Boolean(s.a.component(e))},isNodeStartRegiste:function(e){return e in(window.$_nodePrecomponents||{})}}},xo=ko,_o=(n("01ad"),Object(v["a"])(xo,bo,yo,!1,null,"4f350258",null)),$o=_o.exports,Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp",class:{enable:!!e.info}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},e._l(e.aligns,(function(t,o){return n("div",{key:o,staticClass:"align-item",on:{click:function(n){return n.stopPropagation(),e.handleClick(t)}}},[n("a",{staticClass:"iconfont",class:[t.icon],attrs:{title:t.desc}})])})),0)],1)},So=[];function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oo={mixins:[f["a"]],name:"StyleSize",components:{},props:{info:{required:!0,type:Object},stacked:{type:Boolean,default:!0}},computed:{aligns:function(){return this.stacked?[{name:"align-top",desc:"上对齐",icon:"icon-align-top"},{name:"align-bottom",desc:"下对齐",icon:"icon-align-bottom"},{name:"align-left",desc:"左对齐",icon:"icon-align-left"},{name:"align-right",desc:"右对齐",icon:"icon-align-right"},{name:"align-center",desc:"垂直居中",icon:"icon-align-center"},{name:"align-middle",desc:"水平居中",icon:"icon-align-middle"},{name:"one-bottom",desc:"下移一层",icon:"icon-one-bottom"},{name:"one-top",desc:"上移一层",icon:"icon-one-top"},{name:"all-bottom",desc:"置底",icon:"icon-all-bottom"},{name:"all-top",desc:"置顶",icon:"icon-all-top"},{name:"fill-width",desc:"横向填充",icon:"icon-full-width"},{name:"fill-half-width",desc:"横向1/2填充",icon:"icon-half-width"},{name:"fill-height",desc:"纵向填充",icon:"icon-full-height"},{name:"fill-half-height",desc:"纵向1/2填充",icon:"icon-half-height"}]:[{name:"align-left",desc:"左对齐",icon:"icon-align-left"},{name:"align-right",desc:"右对齐",icon:"icon-align-right"},{name:"align-top",desc:"上对齐",icon:"icon-align-top"},{name:"align-middle",desc:"水平居中",icon:"icon-align-middle"},{name:"fill-width",desc:"横向填充",icon:"icon-full-width"},{name:"fill-half-width",desc:"横向1/2填充",icon:"icon-half-width"}]}},mounted:function(){},methods:{handleClick:function(e){var t=window.$vue&&window.$vue.$el,n=window.$vue&&window.$vue.parentNodeVm.$el,o=this.getRect(t,n),a=o.width,i=o.height,r=Eo({},this.info);switch(this.isPositionEl(t)||(r.position="relative"),r.right="",r.bottom="",e.name){case"align-top":r.top=0;break;case"align-right":r.left=a-t.clientWidth+"px";break;case"align-middle":r.left=(a-t.clientWidth)/2+"px";break;case"align-left":r.left=0;break;case"align-center":r.top=(i-t.clientHeight)/2+"px";break;case"align-bottom":r.top=i-t.clientHeight+"px";break;case"one-bottom":this.moveLayer(-1);break;case"one-top":this.moveLayer(1);break;case"all-bottom":this.moveLayer(Number.MIN_VALUE);break;case"all-top":this.moveLayer(Number.MAX_VALUE);break;case"fill-width":r.width=a+"px";break;case"fill-half-width":r.width=(a/2|0)+"px";break;case"fill-height":r.height=i+"px";break;case"fill-half-height":r.height=(i/2|0)+"px";break}this.$reactiveSet(this.info,r)},isPositionEl:function(e){return!!e&&["relative","absolute","fixed"].indexOf(window.getComputedStyle(e).position)>-1},getRect:function(e,t){return e&&t?t.classList.contains("appWarp")?e.getBoundingClientRect():t.getBoundingClientRect():{width:0,height:0}},moveLayer:function(e){var t=window.$vue;t&&t.parentNodeVm&&t.parentNodeVm.moveLayer(t.nodeInfo,e)}}},Ao=Oo,To=(n("a84b"),Object(v["a"])(Ao,Co,So,!1,null,"32b3ef49",null)),No=To.exports;function Po(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Do(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function Do(e,t){if(e){if("string"===typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(e,t):void 0}}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Lo(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function Fo(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){Lo(i,o,a,r,s,"next",e)}function s(e){Lo(i,o,a,r,s,"throw",e)}r(void 0)}))}}function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho={mixins:[f["a"]],name:"widgetScene",components:{Node:lo,PerviewNode:$o,AssistLines:go,Align:No},computed:Ro(Ro({},Object(de["mapState"])({Config:function(e){return e.Config},RootNodeInfo:function(e){return e.RootNodeInfo},phoneSize:function(e){return e.setting.phoneSize},PHONE_SIZES:function(e){return e.Metadata.phoneSize}})),{},{isMainScene:function(){return 0==this.packedNodeStack.length}}),watch:{active:function(e){this.active&&(this.selectNode=window.$vue&&window.$vue.nodeInfo,this.selectNodeStacked=window.$vue&&window.$vue.stacked)},phoneSize:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.name;this.info.canvas=e,/desktop/i.test(e&&e.name)&&o!==e.name&&this.info.stack&&this.$confirm("您正处于 [桌面画布] 下，需要将布局模式切换为 [楼层模式] 吗？楼层模式下，组件如楼层般依次向下扩展，更适合您当前所选的画布。").then((function(){t.info.stack=!1})).catch((function(e){return console.log("取消")}))},editType:{handler:function(e,t){var n=this;window.EDIT_TYPE=String(e).toUpperCase(),this.previewInfo=g()(this.info),this.ema&&this.ema.fire("edit-type.change",window.EDIT_TYPE),"EDITOR"==window.EDIT_TYPE&&this.ema&&this.selectNode&&this.$nextTick((function(){n.ema.fire("select.one",n.selectNode.id)}))},immediate:!0}},data:function(){return{info:window.Editor.nodeInfo,packedNodeStack:[],previewInfo:null,selectNode:null,selectNodeStacked:!0,editType:"editor",pageInfo:{id:1,name:"目名",categoryId:2,content:"",desc:"项目描述"}}},beforeCreate:function(){},created:function(){},mounted:function(){var e=this;this.selectNode=window.$vue&&window.$vue.nodeInfo,this.selectNodeStacked=window.$vue&&window.$vue.stacked,this.ema.bind("select.oneInfo",(function(t){var n=t.vm;console.log("scene",n.nodeInfo),e.selectNode=n.nodeInfo,e.selectNodeStacked=n.stacked})),this.ema.bind("select.noOne",(function(){e.selectNode=null,e.selectNodeStacked=!0})),this.ema.bind("nodeInfo.replace",(function(t){e.info=t})),this.ema.bind("allToPx",Fo(u.a.mark((function t(){var n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将组件位置和大小属性的相对单位转化为绝对单位，可能造成在更换画布之后出现不符合预期的显示，请谨慎操作！");case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:e.allToPx();case 6:case"end":return t.stop()}}),t)})))),this.ema.bind("nodeInfo.change",(function(){e.info=window.Editor.nodeInfo})),this.ema.bind("packedNode.push",(function(t){e.packedNodeStack.push(t),e.info=t})),this.ema.bind("packedNode.pop",(function(){e.packedNodeStack.pop();var t=e.packedNodeStack.length;e.info=0==t?window.Editor.nodeInfo:e.packedNodeStack[t-1]})),this.bindMove(),this.bindLock(),window.$app=this},methods:{changePhoneSize:function(e){var t=this;this.$confirm("确定要将画布切换为 ".concat(parseInt(e.width)," x ").concat(parseInt(e.height)," 吗？")).then((function(){t.$store.dispatch("SettingChange",{phoneSize:e}),t.$store.dispatch("setCurrentLayout",/desktop/i.test(e.name)?"desktop":"default")})).catch((function(e){return console.log(e)}))},scrollChange:function(e){var t=this.$refs["appWarp"];this.ema.fire("appWarpOffsetChange",{top:t.scrollTop,left:t.scrollLeft})},allToPx:function(){var e=Fo(u.a.mark((function e(){var t,n,o,a,i,r,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=function(){return s=Fo(u.a.mark((function e(t){var n,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"===typeof t.actived){e.next=2;break}return e.abrupt("return");case 2:return t.actived(),e.next=5,o.$nextTick();case 5:return e.next=7,Object(I["i"])(100);case 7:return console.log(t.nodeInfo.id,"actived"),n=t.$refs.selector,n.mousedown({stopPropagation:function(){}},""),e.next=12,o.$nextTick();case 12:return e.next=14,Object(I["i"])(100);case 14:if(console.log(t.nodeInfo.id,"selector"),i=t.$children.filter((function(e){return"node"===e.$options.name})),console.log("$children",i.length),!i||!i.length){e.next=20;break}return e.next=20,a(i);case 20:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)},r=function(e){return s.apply(this,arguments)},i=function(){return i=Fo(u.a.mark((function e(t){var n,o,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Po(t),e.prev=1,n.s();case 3:if((o=n.n()).done){e.next=9;break}return a=o.value,e.next=7,r(a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),i.apply(this,arguments)},a=function(e){return i.apply(this,arguments)},t=this.$loading({lock:!0,text:"处理中，请稍等",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=this.$refs.node.$children.filter((function(e){return"node"===e.$options.name})),o=this,e.next=9,a(n);case 9:t.close(),console.log("完成");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bgClick:function(){this.ema.fire("hide.contextMenu"),this.ema.fire("select.noOne")},mouseup:function(e){this.ema.fire("ui.mouseup",e)},mousemove:function(e){this.ema.fire("ui.mousemove",e)},dragenter:function(e){e.stopPropagation()},dragover:function(e){e.preventDefault()},deleteNode:function(e){var t=null,n=null,o=0,a=function a(i){i=i||[];for(var r=0;r<i.length;r++){var s=i[r];if(s.id===e)return t=s,o=r,void(n=i);s.child&&a(s.child)}};if(a([this.info]),console.log(n,o),n)return this.$delete(n,o),t},bindMove:function(){var e=this;this.ema.bind("move.node",(function(t,n,o){console.log("move.node is coming",e.info);var a=g()(e.deleteNode(t));o&&(a.style.left=o.left,a.style.top=o.top),n&&n.child.push(a)}))},lockNode:function(e,t){var n=this,o=null,a=null,i=0,r=function e(o){for(var a=0;a<o.length;a++)n.$set(o[a],"lock",t),o[a].child&&e(o[a].child)},s=function s(c){c=c||[];for(var l=0;l<c.length;l++){var d=c[l];if(console.log(e,d.id),d.id===e)return n.$set(d,"lock",t),o=d,i=l,a=c,d.child&&r(d.child),o;d.child&&(console.log("going"),s(d.child))}};s([this.info]),console.log(i,a)},bindLock:function(){var e=this;this.ema.bind("lock.node",(function(t,n){console.log("lock.node is coming",e.info),e.lockNode(t,n)}))}}},Uo=Ho,Vo=(n("9b64"),Object(v["a"])(Uo,wn,kn,!1,null,null,null)),Go=Vo.exports,Wo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pageTemplate widget"},[o("div",{staticClass:"box-search"},[o("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[o("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),o("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),o("div",{staticClass:"components"},e._l(e.list,(function(t,a){return o("el-card",{key:a,staticClass:"itemWarp",attrs:{shadow:"hover"}},[o("div",{staticClass:"n1"},[o("div",{staticClass:"img"},[t.image?o("img",{attrs:{src:t.image+"?x-oss-process=image/resize,w_120/crop,w_120,h_170"}}):o("img",{attrs:{src:n("9d64")}})]),o("h3",{staticClass:"label"},[e._v("\n          "+e._s(t.name)+"\n        ")])]),o("div",{staticClass:"n2"},[t.image?o("img",{staticClass:"img",attrs:{src:t.image+"?x-oss-process=image/resize,w_120/crop,w_120,h_170"}}):e._e(),o("div",{staticClass:"mask"}),o("div",{staticClass:"desc"},[e._v(e._s(t.desc||"该作者很懒，没有写详细描述。"))]),o("el-button",{staticClass:"btn",attrs:{type:"primary",round:"",size:"mini"},on:{click:function(n){return e.selectOne(t)}}},[e._v("使用")])],1)])})),1)])},qo=[],Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sortedTags&&e.sortedTags.length?n("div",{staticClass:"assets-tags",class:{opend:e.opend}},[e._l(e.sortedTags,(function(t){return n("el-tag",{key:t.id,staticStyle:{"margin-right":"2px","margin-top":"6px",cursor:"pointer"},attrs:{size:"mini",type:t.selected?"warning":"info","disable-transitions":!0},nativeOn:{click:function(n){return e.onclick(t)}}},[n("i",{staticClass:"iconfont icon-tag"}),e._v(e._s(t.name)+"\n  ")])})),n("div",{staticClass:"show-more",on:{click:function(t){e.opend=!e.opend}}},[e._v(e._s(e.opend?"收起▲":"查看更多标签▼"))])],2):e._e()},Jo=[];function Yo(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){Yo(i,o,a,r,s,"next",e)}function s(e){Yo(i,o,a,r,s,"throw",e)}r(void 0)}))}}var Zo={mixins:[f["a"]],components:{},name:"assets-tags",props:{assetsId:{type:[Number,String]}},data:function(){return{opend:!1,assetsTags:[],historyTagsId:[]}},computed:{sortedTags:function(){var e=this.historyTagsId,t=this.assetsTags.map((function(t,n){var o=e.indexOf(String(t.id));return t.weight=o>-1?o-e.length:n,t})).sort((function(e,t){return e.weight>t.weight?1:-1}));return t},ASSETS_TAG_KEY:function(){return"ASSETS_TAG_".concat(this.assetsId)}},mounted:function(){this.initHistoryTags(),this.getAssetsTags()},methods:{onclick:function(e){this.$set(e,"selected",!e.selected),this.$emit("selectchange",this.sortedTags.filter((function(e){return e.selected}))),e.selected&&this.addTagToHistory(e.id)},getAssetsTags:function(){var e=Xo(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(A["a"])({url:"editor/tags/list",method:"post",data:{categoryId:this.assetsId,name:""}}).then((function(e){var t=e.data;return t.data||[]})).catch((function(e){return console.log(e),[]}));case 2:this.assetsTags=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initHistoryTags:function(){var e=(window.localStorage.getItem(this.ASSETS_TAG_KEY)||"").split(",").filter((function(e){return e&&e.length}));this.historyTagsId=e},addTagToHistory:function(e){e=String(e);var t=this.historyTagsId.indexOf(e);t>-1&&this.historyTagsId.splice(t,1),this.historyTagsId.unshift(e),window.localStorage.setItem(this.ASSETS_TAG_KEY,String(this.historyTagsId))}}},Qo=Zo,ea=(n("d8b2"),Object(v["a"])(Qo,Ko,Jo,!1,null,"1002b192",null)),ta=ea.exports,na={mixins:[f["a"]],name:"pageTemplate",components:{AssetsTags:ta},data:function(){return{categoryId:1,searchKey:"",selectedTags:[],list:[]}},computed:Object(de["mapState"])({}),mounted:function(){this.loadData()},methods:{loadData:function(){var e=this,t=this.selectedTags.map((function(e){return{id:e.id,name:e.name}}));Object(A["a"])({url:"editor/pages/publiclist",method:"post",needLoading:!1,data:{name:this.searchKey,tags:t||[]}}).then((function(t){var n=t.data;e.list=n.data}))},changePage:function(e){var t=this;Object(A["a"])({url:"editor/pages/info",method:"post",needLoading:!1,data:{id:e.id+""}}).then((function(e){var n=e.data.data,o=null;if(n.content)try{o=JSON.parse(n.content)}catch(a){window.alert("模板解析失败")}t.ema.fire("selectPageTemplate",o)}))},onTagSelect:function(e){console.log(e),this.selectedTags=e,this.loadData(1,!0)},selectOne:function(e){var t=this;this.$confirm("确认使用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.changePage(e)})).catch((function(){t.$message({type:"warning",message:"已取消"})}))}}},oa=na,aa=(n("3884"),n("70a7"),Object(v["a"])(oa,Wo,qo,!1,null,"ee0f3eb0",null)),ia=aa.exports,ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mycomponents"},[n("div",{staticClass:"box-search"},[n("el-input",{staticStyle:{width:"98%"},attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("el-select",{staticClass:"type-select",staticStyle:{width:"74px"},attrs:{slot:"prepend",size:"mini",placeholder:"请选择"},slot:"prepend",model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[n("el-option",{attrs:{label:"全部",value:1}}),n("el-option",{attrs:{label:"自建",value:2}})],1),n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.search()}},slot:"append"})],1),n("el-dropdown",{staticClass:"component-menu",on:{command:e.handlePointMenu}},[n("i",{staticClass:"iconfont icon-point-menu",staticStyle:{"font-size":"20px"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"list"}},[e._v("列表")]),n("el-dropdown-item",{attrs:{command:"card"}},[e._v("卡片")])],1)],1),n("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),n("div",{staticClass:"components",class:[e.comListsStyle]},[e._l(e.comLists,(function(t){return n("div",{key:t.id,staticClass:"com-item",attrs:{draggable:"true"},on:{dragstart:function(n){return e.dragstart(n,t)},click:function(n){return e.addOne(t)}}},[n("div",{staticClass:"com-item-avatar"},[n("img",{staticClass:"icon-img",attrs:{src:e._f("componentIcon")(t.path)},on:{error:function(t){return e.imgError(t)}}})]),n("div",{staticClass:"com-item-content"},[n("p",{staticClass:"com-item-name"},[e._v(e._s(t.name))]),n("p",{staticClass:"com-item-desc",on:{click:function(n){return n.stopPropagation(),e.readme(t)}}},[e._v(e._s(t.desc))]),n("p",{staticClass:"com-item-count"},[n("i",{staticClass:"iconfont icon-download"}),e._v("\n          "+e._s(t.useNumber||0)+"\n        ")])])])})),n("a",{staticClass:"addComponent",on:{click:e.goShop}},[e._v("添加组件")])],2)])},sa=[],ca={mixins:[f["a"]],name:"Components",components:{AssetsTags:ta},props:{},filters:{componentIcon:function(e){return e?e.replace(/index.js$/,"cover.png"):"https://imagecdn.ymm56.com/ymmfile/explore-biz/ymm_1527843621175.png"}},data:function(){return{categoryId:3,searchKey:"",selectedTags:[],searchType:1,activeNames:["base","container","struct"],structPanel:["struct"],comLists:[],comListsStyle:"card"}},computed:Object(de["mapState"])({componentList:function(e){var t=[];for(var n in e.componentList)if(e.componentList.hasOwnProperty(n)){var o=e.componentList[n];t.push({name:n,label:o.label,child:o.child})}return t},pageType:function(){return this.$store.state.viewOption.pageType||0}}),watch:{},mounted:function(){this.search(),this.ema.bind("components.refresh",this.search)},methods:{imgError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target||{},n=t.src;/cover.png$/.test(n)&&(t.src=n.replace(/cover.png$/,"icon.png"))},onTagSelect:function(e){this.selectedTags=e,this.search()},dragstart:function(e,t){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("componentInfo",JSON.stringify(t)),e.dataTransfer.setData("dragPos",JSON.stringify({x:e.offsetX,y:e.offsetY})),e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),!0},addOne:function(e){this.ema.fire("commponent.addOne",e),this.ema.fire("dock.panelActive","widgetScene")},search:function(){var e=this,t=(this.searchKey||"").trim();t=t.replace(/^#+/,""),Object(A["a"])({url:"component/searchByName",method:"post",needLoading:!1,data:{tags:this.selectedTags,type:this.pageType,name:t,onlyMine:2==this.searchType}}).then((function(t){var n=t.data;e.comLists=n.data&&n.data.list||[]}))},readme:function(e){this.ema.fire("widgetComponentInfo.selectOne",e)},goShop:function(){this.ema.fire("dock.panelActive","widgetShop")},handlePointMenu:function(e){this.comListsStyle=e}}},la=ca,da=(n("fca1"),n("be43"),Object(v["a"])(la,ra,sa,!1,null,"756c066e",null)),ua=da.exports,pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"componentInfo"},[e.info?n("div",[n("div",{staticClass:"title"},[n("div",{staticClass:"icon"},[n("img",{attrs:{src:e.getIcon(e.info),alt:""},on:{error:function(t){return e.imgError(t)}}})]),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[e._v(e._s(e.info.name))]),n("div",{staticClass:"laberWarp"},[n("span",{staticClass:"version"},[n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("版本:"+e._s(e.info.version))])],1),n("span",{staticClass:"down"},[n("el-tag",{attrs:{size:"mini",type:"warning"}},[n("i",{staticClass:"iconfont icon-download"}),e._v(" "+e._s(e.info.ComponentUse?e.info.ComponentUse.useNumber:0)+"\n            ")])],1),n("span",{staticClass:"status"},[n("el-tag",{attrs:{size:"mini"}},[e._v(e._s(1==e.info.status?"公开":"私有")+" ")])],1),n("span",{staticClass:"uptime"},[e._v(e._s(e._f("datetime")(e.info.updateTime)))])]),n("div",{staticClass:"desc"},[e._v(e._s(e.info.desc))])])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"markdown"},[n("div",{domProps:{innerHTML:e._s(e.md)}})])]):n("i",{staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},ma=[],fa=n("0e54"),ha=n.n(fa),ga=n("bc3a"),ba=n.n(ga),ya={mixins:[f["a"]],name:"widgetComponentInfo",components:{},props:{},data:function(){return{loading:!0,forbidEdit:!1,info:null,md:""}},computed:Object(de["mapState"])({}),watch:{},created:function(){var e=this;this.ema.bind("widgetComponentInfo.selectOne",(function(t){e.ema.fire("dock.panelActive","widgetComponentInfo"),e.info=t,e.loadMd(t)})),this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t}))},methods:{getIcon:function(e){var t=e.path.replace(/index.js$/,"cover.png");return t},imgError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target||{},n=t.src;/cover.png$/.test(n)&&(t.src=n.replace(/cover.png$/,"icon.png"))},loadMd:function(e){var t=this,n=e.path.replace(/index.js$/,"README.md");this.loading=!0;var o=ba.a.create({timeout:36e5,headers:{},trimNull:!1,withCredentials:!1});o({url:n,method:"get",needLoading:!1}).then((function(e){var n=e.data;t.loading=!1;var o=n||"hello world";t.md=ha()(o)})).catch((function(){t.loading=!1}))}}},va=ya,wa=(n("0e61"),Object(v["a"])(va,pa,ma,!1,null,"b39d39fa",null)),ka=wa.exports,xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget attribute"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.selectNode,expression:"selectNode"}]},[e.newVersion?n("el-alert",{staticClass:"alerttip",attrs:{title:"组件有更新,点击查看详情",type:"warning",closable:!1},nativeOn:{click:function(t){e.showUpdate=!e.showUpdate}}}):e._e(),e.newVersion&&e.showUpdate?n("div",{staticClass:"update"},[n("div",{staticClass:"desc"},[n("div",[e._v("\n          新版本："+e._s(this.newNodeInfo.version)+",当前版本："+e._s(e.selectNode.version)+"\n        ")])]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateComponent}},[e._v("更新组件")])],1):e._e(),n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"基础信息",name:"base"}},[e.selectNode?n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"100px",model:e.selectNode}},[n("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"唯一id"}},[n("el-input",{staticStyle:{"padding-right":"25px"},attrs:{size:"mini",disabled:!e.canEditId},on:{change:e.idChange},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}},[n("template",{slot:"append"},[n("el-tooltip",{attrs:{content:"复制id",placement:"top"}},[n("a",{staticClass:"iconfont icon-copy",on:{click:function(t){return e.copyId(e.id)}}})])],1)],2),"root"!==e.id&&"node"!=e.selectNode.type?[n("a",{directives:[{name:"show",rawName:"v-show",value:e.canEditId,expression:"canEditId"}],staticClass:"id-lock iconfont icon-unlock",attrs:{title:"启用"},on:{click:function(t){e.canEditId=!1}}}),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.canEditId,expression:"!canEditId"}],staticClass:"id-lock iconfont icon-lock",attrs:{title:"禁用"},on:{click:function(t){e.canEditId=!0}}})]:e._e()],2),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{staticStyle:{"padding-right":"25px"},attrs:{size:"mini"},model:{value:e.selectNode.label,callback:function(t){e.$set(e.selectNode,"label",t)},expression:"selectNode.label"}},[n("template",{slot:"append"},[n("el-tooltip",{attrs:{content:"组件当前版本",placement:"top"}},[n("a",{},[e._v("v"+e._s(e.selectNode.version)+" ")])])],1)],2)],1),n("el-form-item",{attrs:{label:"显示"}},[n("el-switch",{key:"1",attrs:{size:"mini"},model:{value:e.selectNode.visible,callback:function(t){e.$set(e.selectNode,"visible",t)},expression:"selectNode.visible"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.vm||!1===e.vm.slots,expression:"!vm || vm.slots === false"}]},[n("el-tooltip",{attrs:{slot:"label",content:"控制子组件的位置排布方式",placement:"top"},slot:"label"},[n("span",[e._v("布局模式 "),n("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px"}})])]),n("div",[n("el-tooltip",{staticClass:"item",attrs:{content:"子组件如楼层般依次向下扩展",placement:"top"}},[n("span",{style:{color:e.selectNode.stack?"inherit":"#faad14"}},[n("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px"}}),e._v("楼层模式 ")])]),n("el-switch",{key:"1",attrs:{size:"mini","active-color":"#faad14","inactive-color":"#faad14"},model:{value:e.selectNode.stack,callback:function(t){e.$set(e.selectNode,"stack",t)},expression:"selectNode.stack"}}),n("el-tooltip",{staticClass:"item",attrs:{content:"子组件上下堆叠，位置可自由挪动",placement:"top"}},[n("span",{style:{color:e.selectNode.stack?"#faad14":"inherit"}},[e._v(" 自由模式"),n("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"12px"}})])])],1)],1)],1):e._e()],1),n("el-collapse-item",{attrs:{title:"属性设置",name:"attr"}},[e.selectNode?n("div",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.selectNode}},[e.currEditor?n(e.currEditor,{key:e.currEditor,tag:"component",attrs:{"component-info":e.currEditorData}}):e._e(),e._l(e.propsInfo,(function(t){return[t.work&&!t.work()||t.meta.ignore?e._e():n("div",{key:t.key,staticClass:"form-item"},[[n("span",{staticClass:"label"},[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.desc||"无"))]),n("span",[e._v(e._s(t.label||t.key))])])],1),t?n("span",{staticClass:"value"},["string"==t.type?n("el-input",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"number"==t.type?n("el-input",{attrs:{type:"number",size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,e._n(n))},expression:"selectNode.props[item.key]"}}):"input"==t.type?n("el-input",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"text"==t.type?n("el-input",{attrs:{autosize:{minRows:2,maxRows:5},type:"textarea",size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"richtext"==t.type?n("rich-text",{attrs:{id:e.id},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"color"==t.type?n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):e.isCollapsed("attr")&&"object"==t.type?n("attr-data",{attrs:{type:"object",content:e.selectNode.props[t.key]},on:{"update:content":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):e.isCollapsed("attr")&&"array"==t.type?n("attr-data",{attrs:{type:"array",content:e.selectNode.props[t.key]},on:{"update:content":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):e.isCollapsed("attr")&&"data"==t.type?n("attr-data",{attrs:{content:e.selectNode.props[t.key]},on:{"update:content":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):"boolean"==t.type?n("el-switch",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"image"==t.type?[n("resource",{attrs:{type:"image",url:e.selectNode.props[t.key]},on:{"update:url":function(n){return e.$set(e.selectNode.props,t.key,n)}}})]:"audio"==t.type?n("resource",{attrs:{type:"audio",url:e.selectNode.props[t.key]},on:{"update:url":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):"video"==t.type?n("resource",{attrs:{type:"video",url:e.selectNode.props[t.key]},on:{"update:url":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):"file"==t.type?n("resource",{attrs:{type:"file",url:e.selectNode.props[t.key]},on:{"update:url":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):"function"==t.type?n("attr-function",{attrs:{content:e.selectNode.props[t.key]},on:{"update:content":function(n){return e.$set(e.selectNode.props,t.key,n)}}}):"date"==t.type?n("el-date-picker",{attrs:{"value-format":"yyyy/MM/dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"enum"==t.type?n("el-select",{attrs:{multiple:t.meta&&t.meta.multiple,size:"mini",placeholder:"请选择"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1):"checkbox"==t.type?[t.meta.defaultList?n("el-checkbox-group",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),(function(t,o){return n("el-checkbox",{key:o,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1):n("el-checkbox",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}})]:"radio"==t.type?n("el-radio-group",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),(function(t,o){return n("el-radio",{key:o,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1):e._e()],2):e._e()]],2)]}))],2):e._e()]),n("el-collapse-item",{attrs:{title:"事件管理",name:"event"}},[e.selectNode?n("attr-event",{attrs:{content:e.selectNode.events},on:{"update:content":function(t){return e.$set(e.selectNode,"events",t)}}}):e._e()],1)],1)],1),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectNode,expression:"!selectNode"}],staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},_a=[],$a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"color-picker-wrapper"},[n("el-input",{attrs:{size:"mini"},model:{value:e.rawColor,callback:function(t){e.rawColor=t},expression:"rawColor"}},[n("el-color-picker",{attrs:{slot:"prefix",size:"mini","show-alpha":""},on:{"active-change":e.changeColor},slot:"prefix",model:{value:e.rawColor,callback:function(t){e.rawColor=t},expression:"rawColor"}})],1)],1)},Ca=[],Sa={mixins:[f["a"]],name:"ColorPicker",components:{},props:{value:String,showAlpha:Boolean},data:function(){return{rawColor:""}},mounted:function(){this.rawColor=this.value},watch:{rawColor:function(e){var t;if(""===e||Object(I["f"])(e))return this.$emit("input","");(this.isHex(e)||this.isRgb(e))&&(t=this.showAlpha?this.anyToRgba(e):this.anyToHex(e),t&&this.$emit("input",t))},value:function(e){this.rawColor=e}},methods:{changeColor:function(e){this.rawColor=e},isHex:function(e){var t=/^#[0-9A-Fa-f]{6}$|^#[0-9A-Fa-f]{8}$/;return t.test((e||"").trim())},isRgb:function(e){var t=/^rgb\(\d+\,\d+\,[\d.]+\)$|^rgba\(\d+\,\d+\,\d+\,[\d.]+\)$/;return t.test((e||"").replace(/\s/g,""))},anyToRgba:function(e){var t;return this.isRgb(e)?(t=e.replace(/rgba?\((.+)\)/,"$1").replace(/\s/g,"").split(","),t.push("1"),t=t.slice(0,4),"rgba(".concat(t.join(","),")")):this.isHex(e)?(t=e.replace("#","").replace(/(.{2})/g,"$1_").split("_").slice(0,4).map((function(e){return parseInt(e,16)})),t[3]=(Number(t[3]||"255")/255).toFixed(2),"rgba(".concat(t.join(","),")")):""},anyToHex:function(e){var t;return this.isRgb(e)?(t=e.replace(/rgba?\((.+)\)/,"$1").replace(/\s/g,"").split(",").rgba.slice(0,3).map(Number).map((function(e){return e.toString(16)})).map((function(e){return e.padStart(2,"0")})),"#(".concat(t.join(""),")")):this.isHex(e)?e.slice(0,7):""}}},ja=Sa,Ea=(n("9dfc"),Object(v["a"])(ja,$a,Ca,!1,null,null,null)),Ia=Ea.exports;function Oa(e,t){return Da(e)||Pa(e,t)||Ta(e,t)||Aa()}function Aa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ta(e,t){if(e){if("string"===typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Pa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function Da(e){if(Array.isArray(e))return e}function Ma(e){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}function La(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function Fa(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){La(i,o,a,r,s,"next",e)}function s(e){La(i,o,a,r,s,"throw",e)}r(void 0)}))}}var Ba={},Ra={mixins:[f["a"]],name:"Attribute",components:{RichText:bn,Resource:un,AttrData:Wt,AttrFunction:en,YColorPicker:Ia,AttrEvent:an},data:function(){return{currEditor:"",currEditorData:{},showUpdate:!1,id:"",canEditId:!1,propsInfo:{},targetVm:null,activeNames:["base","animate","attr"],selectNode:null,newNodeInfo:null,oldStyle:null,forbidEdit:!1,vm:null}},props:{active:{type:[Number,Boolean],default:0}},computed:{newVersion:function(){return!(!this.selectNode||!this.newNodeInfo||this.newNodeInfo.name!=this.selectNode.type||this.newNodeInfo.version==this.selectNode.version)}},watch:{active:function(e){this.active&&window.$vue&&this.onSelectOne(window.$vue)},selectNode:function(e){console.log("selectNode",e),e&&e.lock?this.forbidEdit=!0:this.forbidEdit=!1},id:function(e){console.log("id change",e),this.checkNew(this.selectNode)}},mounted:function(){var e=this;window.$vue&&this.onSelectOne(window.$vue),this.ema.bind("select.oneInfo",(function(t){var n=t.vm;e.onSelectOne(n)})),this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t})),this.ema.bind("select.noOne",(function(){e.selectNode=null,e.newNodeInfo=null,e.vm=null}))},methods:{onSelectOne:function(e){var t=e.nodeInfo.id;this.selectNode=null,this.targetVm=e.$refs[t],this.vm=e,this.dealPropsType(),this.loadEditor(e.nodeInfo),this.selectNode=e.nodeInfo,this.selectNode.animate=this.selectNode.animate||[],this.selectNode.events=this.selectNode.events||[],this.selectNode&&(this.id=e.nodeInfo.id)},loadEditor:function(){var e=Fa(u.a.mark((function e(t){var n,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currEditor="",this.currEditorData=null,e.next=4,Sn.loadEditor(t);case 4:n=e.sent,n&&(o=t.id+"_Editor",s.a.component(o,n),this.currEditor=o,this.currEditorData=t.props);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isCollapsed:function(e){var t=this.activeNames;return t&&(t.length&&t.indexOf(e)>-1||t==e)},checkNew:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,o=void 0===n?"":n;o&&(o in Ba?this.newNodeInfo=Ba[o]:Object(A["a"])({url:"component/find",method:"post",needLoading:!1,data:{name:o,version:""}}).then((function(t){var n=t.data,a=n.data.list||[];a.forEach((function(t){1==t.isnew&&(Ba[o]=t,e.newNodeInfo=t)}))})).catch((function(){})))},copyId:function(e){this.ema.fire("clipboard.copy",e)},enumFilter:function(e){return e?e instanceof Array?e.map((function(e){return{label:e,value:e}})):"object"===Ma(e)?Object.entries(e).map((function(e){var t=Oa(e,2),n=t[0],o=t[1];return{label:o,value:n}})):e:[]},idChange:function(){var e=!1;window.$_nodecomponents[this.id]||(e=!0),e?this.$set(this.selectNode,"id",this.id):this.id=this.selectNode.id},dealPropsType:function(){var e=this.targetVm;function t(e){var t=e.editor||e.editer;if(t&&t.type)return t.type.toLocaleLowerCase();var n=e.type;if("string"==typeof n)return n;var a=n.toString().match(o),i="function"===typeof n&&a&&a[1]||"any";return i.toLocaleLowerCase()}if(this.propsInfo=[],e&&e.$options){var n=e.$options.props,o=/^(?:function|class) (\w+)/,a=[];for(var i in n){var r=n[i],s=r.editor||r.editer,c={key:i,value:e[i],type:t(r),work:(s&&s.work||function(){return!0}).bind(e),meta:s||{},order:r.order||1e4,required:!!r.required};s&&(c.label=s.label,c.desc=s.desc),a.push(c)}this.propsInfo=a||[],this.propsInfo=this.propsInfo.sort((function(e,t){return e.order-t.order})),console.log("propsData",a)}},changeValue:function(e,t){},updateComponent:function(){var e=this;this.$confirm("更新组件后，该组件设置的数据会丢失，确认更新该组件?","提示",{confirmButtonText:"确认更新",cancelButtonText:"取消",type:"warning"}).then((function(){e.selectNode&&e.newNodeInfo&&(e.selectNode.path=e.newNodeInfo.path,e.selectNode.version=e.newNodeInfo.version)})).catch((function(){e.$message({type:"warning",message:"已取消"})}))}}},za=Ra,Ha=(n("a57d"),Object(v["a"])(za,xa,_a,!1,null,null,null)),Ua=Ha.exports,Va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-tree",on:{click:e.bgClick}},[n("div",{staticClass:"box-search"},[n("el-input",{attrs:{size:"mini",type:"text",placeholder:"输入搜索关键字..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.filterText=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.search(!0)}},slot:"append"})],1)],1),n("el-tree",{ref:"tree",attrs:{data:e.treeData,props:{children:"child"},"show-checkbox":!1,"highlight-current":"",indent:8,draggable:"","node-key":"id","filter-node-method":e.filterNode,"default-expand-all":"","expand-on-click-node":!1,"allow-drop":e.allowDrop},on:{"current-change":e.onCheckChange,"node-contextmenu":e.contextmenu,"node-drop":e.nodeDropEnd},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node",class:{"packed-node":e.rootNode.id!==a.id&&a.packed},attrs:{draggable:a.renaming},on:{dblclick:function(t){return e.tooglePacked(a)},dragstart:function(e){e.stopPropagation(),e.preventDefault()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!a.renaming,expression:"!data.renaming"}],staticClass:"custom-tree-node-left"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.rootNode.id!==a.id&&a.packed,expression:"rootNode.id !== data.id && data.packed"}],staticClass:"iconfont icon-pack"}),n("i",{directives:[{name:"show",rawName:"v-show",value:a.script&&a.script.length>0,expression:"data.script && data.script.length > 0"}],staticClass:"iconfont icon-function"}),e._v("\n        "+e._s(a.label||a.id)+"\n      ")]),n("input",{directives:[{name:"show",rawName:"v-show",value:a.renaming,expression:"data.renaming"},{name:"model",rawName:"v-model",value:a._label,expression:"data._label"}],domProps:{value:a._label},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveName(o,a)},input:function(t){t.target.composing||e.$set(a,"_label",t.target.value)}}}),"node"!==a.type&&"root"!==a.id?n("span",{staticClass:"teee-node-action"},[a.renaming?[n("el-tooltip",{attrs:{content:"保存",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-save-black",on:{click:function(t){return e.saveName(o,a)}}})]),n("el-tooltip",{attrs:{content:"取消",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-close-black",on:{click:function(t){return e.notSaveName(o,a)}}})])]:e._e(),a.renaming?e._e():[n("el-tooltip",{attrs:{content:"重命名",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-rename-box",on:{click:function(t){return t.stopPropagation(),e.rename(o,a)}}})]),n("el-tooltip",{attrs:{content:"复制",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-copy",on:{click:function(t){return t.stopPropagation(),e.copy(o,a)}}})]),n("el-tooltip",{attrs:{content:"复制id",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-id-black",on:{click:function(t){return t.stopPropagation(),e.copyId(o,a)}}})]),n("el-tooltip",{attrs:{content:"移除",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-delete",on:{click:function(t){return t.stopPropagation(),e.remove(o,a)}}})]),a.lock?n("el-tooltip",{attrs:{content:"解锁",effect:"light",placement:"top"}},[n("a",{staticClass:"id-lock iconfont icon-lock",on:{click:function(t){return t.stopPropagation(),e.lock(o,a,!1)}}})]):n("el-tooltip",{attrs:{content:"加锁",effect:"light",placement:"top"}},[n("a",{staticClass:"id-lock iconfont icon-unlock",on:{click:function(t){return t.stopPropagation(),e.lock(o,a,!0)}}})])]],2):e._e()])}}])}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})],1)},Ga=[],Wa={name:"component-tree",componentName:"component-tree",mixins:[f["a"]],components:{},data:function(){return{filterText:"",forbidEdit:!1,packedNodeStack:[],info:window.Editor.nodeInfo,currentNode:{}}},computed:{treeData:function(){return[this.info]},rootNode:function(){return this.info}},watch:{filterText:function(e){this.search()},treeData:function(){this.$nextTick(this.search)}},methods:{allowDrop:function(e,t,n){if(!t||!t.id)return!1;if(!e||!e.id)return!1;if(e.data&&e.data.id==this.rootNode.id)return!1;if(t.data.id==this.rootNode.id&&("prev"==n||"next"==n))return!1;if(t.id==e.id)return!1;var o="inner"===n?t:t.parent,a=o.data&&o.data.leaf?0:o.data&&o.data.childLimit,i=o.data&&o.data.child&&o.data.child.length||0;return!(i>=a)&&("inner"!=n||!t.data||!t.data.packed)},nodeDropEnd:function(e,t,n){var o="inner"===n?t:t.parent,a=o.data||{},i=e.data||{};console.log(i.id,"droped in",a.id),i.style&&i.style.position===(a.stack?"relative":"absolute")&&(i.style=Object.assign({},i.style,{position:a.stack?"absolute":"relative",left:"0px",top:"0px"})),this.ema.fire("select.one",o.data.id),this.search()},remove:function(e,t){console.log(e,t),this.ema.fire("move.node",t.id,null)},rename:function(e,t){this.$set(t,"renaming",!0),this.$set(t,"_label",t.label||t.id)},copy:function(e,t){this.ema.fire("node.copy",t)},copyId:function(e,t){this.ema.fire("clipboard.copy",t.id)},saveName:function(e,t){if(t){var n=t._label;this.$delete(t,"renaming"),this.$delete(t,"_label"),t.label=n}},notSaveName:function(e,t){t&&(this.$delete(t,"renaming"),this.$delete(t,"_label"))},onCheckChange:function(e,t){if(console.log("onCheckChange",e,t),e.lock)this.$message({type:"warning",message:"已被锁定，请先解锁"});else{var n=this.currentNode||{};if(e.id==n.key)return;this.notSaveName(n,n.data),this.currentNode=t,this.ema.fire("select.one",e.id)}},filterNode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;e=String(e).trim();var n=!e.length||-1!==(t.label||t.id).indexOf(e),o=this.getComponentById(t.id||"n/a")||{},a=o.packedChild;return n&&!a},contextmenu:function(e,t,n,o){this.ema.fire("show.contextMenu",this.getComponentById(t.id),e)},search:function(){this.$refs["tree"].filter(this.filterText)},getComponentById:function(e){return window.$_nodecomponents&&window.$_nodecomponents[e]},bgClick:function(){this.ema.fire("hide.contextMenu")},lock:function(e,t,n){this.ema.fire("lock.node",t.id,n)},tooglePacked:function(e){var t=this.getComponentById(e.id);t&&(e.packed?"function"===typeof t.openPacked&&t.openPacked({scene:"component_tree"}):"function"===typeof t.doPack&&t.doPack({scene:"component_tree"}))}},created:function(){},mounted:function(){var e=this,t=window.$comtree=this.$refs["tree"];this.ema.bind("select.one",(function(n){n&&(t.getNode(n).data.lock?e.$message({type:"warning",message:"已被锁定，请先解锁"}):(console.log("select.one 2",n,t.getNode(n)),t.setCurrentKey(n),e.currentNode=t.getNode(n),console.log("tree",e.currentNode)))})),this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t})),this.ema.bind("nodeInfo.replace",(function(t){e.info=t})),this.ema.bind("select.noOne",(function(){e.currentNode={}})),this.ema.bind("nodeInfo.change",(function(){e.info=window.Editor.nodeInfo})),this.ema.bind("tree.filter",(function(){e.search()})),this.ema.bind("packedNode.push",(function(t){e.packedNodeStack.push(t),e.info=t})),this.ema.bind("packedNode.pop",(function(){e.packedNodeStack.pop();var t=e.packedNodeStack.length;e.info=0==t?window.Editor.nodeInfo:e.packedNodeStack[t-1]})),this.$nextTick(this.search)}},qa=Wa,Ka=(n("012e0"),Object(v["a"])(qa,Va,Ga,!1,null,null,null)),Ja=Ka.exports,Ya=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"CombinedComponents widget"},[o("div",{staticClass:"box-search"},[o("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[o("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),o("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),o("div",{staticClass:"components"},[e._l(e.list,(function(t,a){return o("el-card",{key:a,staticClass:"itemWarp",attrs:{shadow:"hover"}},[o("div",{staticClass:"n1"},[o("div",{staticClass:"img"},[t.icon?o("img",{attrs:{src:t.icon+"?x-oss-process=image/resize,w_120/crop,w_120,h_120"}}):o("img",{attrs:{src:n("9d64")}})]),o("h3",{staticClass:"label"},[e._v("\n          "+e._s(t.name)+"\n        ")])]),o("div",{staticClass:"n2"},[t.icon?o("img",{staticClass:"img",attrs:{src:t.icon+"?x-oss-process=image/resize,w_300/crop,w_300,h_300"}}):e._e(),o("div",{staticClass:"mask"}),o("div",{staticClass:"desc"},[e._v(e._s(t.desc||"该作者很懒，没有写详细描述。"))]),o("el-button",{staticClass:"btn",attrs:{type:"primary",round:"",size:"mini"},on:{click:function(n){return e.install(t)}}},[e._v("使用")]),e.isMine(t)?o("el-button",{staticClass:"btn",attrs:{type:"danger",round:"",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.remove(t)}}},[e._v("删除")]):e._e()],1)])})),o("div",{staticStyle:{"text-align":"center"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hasMore,expression:"hasMore"}],attrs:{type:"text"},on:{click:e.loadMore}},[e._v("加载更多")])],1)],2)])},Xa=[],Za={mixins:[f["a"]],name:"CombinedComponents",components:{AssetsTags:ta},data:function(){return{list:[],selectedTags:[],hasMore:!0,categoryId:2,page:1,searchKey:"",pageSize:30}},mounted:function(){var e=this;this.loadData(),this.ema.bind("combinedComponent.refresh",(function(){e.loadData(1)}))},methods:{loadData:function(e,t){var n=this;e>0&&(this.page=e,this.list=this.list.slice(0,this.pageSize*(e-1)));var o=this.selectedTags.map((function(e){return{id:e.id,name:e.name}}));Object(A["a"])({url:"editor/resources/list",method:"post",needLoading:!1,data:{tags:o||[],name:this.searchKey||"",categoryId:this.categoryId,page:this.page,pageSize:this.pageSize}}).then((function(e){var o=e.data;o=o&&o.data;var a=o&&o.list||[];t?n.list=a:(n.list=n.list.concat(a),a.length<n.pageSize&&(n.hasMore=!1))}))},loadMore:function(){this.page+=1,this.loadData()},install:function(e){var t=this,n=e.content;return n?window.$vue?(window.$vue.copyChild(n,{isJson:1,keepPos:1}),this.$nextTick((function(){return t.ema.fire("tree.filter")})),void this.ema.fire("resource.use",e.id)):this.$alert("请先选中页面内的组件，再为其添加子组件"):console.log("empty combined com")},isMine:function(e){var t=this.App.userInfo&&this.App.userInfo.userId;return e.userId==t},onTagSelect:function(e){console.log(e),this.selectedTags=e,this.loadData(1,!0)},remove:function(e){var t=this,n=e.id;if(!n)return console.log("no id founded");this.$confirm("确定要从组件库删除该组件吗？").then((function(){Object(A["a"])({url:"editor/resources/delete",method:"post",needLoading:!1,data:{id:n}}).then((function(e){e.data;t.$message({type:"info",message:"删除成功"}),setTimeout((function(){t.loadData(1)}),500)}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}},Qa=Za,ei=(n("5a79"),n("2ff6"),Object(v["a"])(Qa,Ya,Xa,!1,null,"e442bb14",null)),ti=ei.exports,ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"script-editor widget"},[n("div",{staticClass:"box-search"},[n("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),n("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),n("div",{staticClass:"components"},[n("div",{staticClass:"scripts-list",class:{fold:e.folded}},[e._l(e.scriptArray,(function(t){return n("el-tag",{key:t.categoryId+"_"+t.id,staticClass:"addScriptWarp",staticStyle:{cursor:"pointer"},attrs:{type:"warning"}},[n("div",{attrs:{size:"mini"},on:{click:function(n){return e.addScript(t)}}},[n("i",{staticClass:"iconfont icon-function"}),e._v("\n          "+e._s(t.name)+"\n        ")])])})),n("div",{staticClass:"toogle-more",on:{click:function(t){e.folded=!e.folded}}},[n("i",{staticClass:"el-icon-d-arrow-left"})])],2),n("div",{staticClass:"scriptWarp"},[e._l(e.array,(function(t){return n("div",{key:t.name,staticClass:"script-item",attrs:{name:t.name},on:{click:function(n){return e.editItem(t)}}},[n("div",{staticClass:"namewrap"},[e._v(e._s(t.name))]),n("div",{staticClass:"iconwarp"},[n("i",{staticClass:"iconfont icon-zhihang",class:{runtime:t.runtimeOnly},attrs:{title:t.runtimeOnly?"仅运行时执行":"始终执行"},on:{click:function(n){return n.stopPropagation(),e.toogleRuntimeOnly(t)}}}),n("i",{staticClass:"iconfont icon-download",style:{transform:"rotate(180deg)"},attrs:{title:"保存到脚本库"},on:{click:function(n){return n.stopPropagation(),e.saveTemplate(t)}}}),n("i",{staticClass:"iconfont icon-rename",attrs:{title:"重命名"},on:{click:function(n){return n.stopPropagation(),e.renameItem(t)}}}),n("i",{staticClass:"iconfont el-icon-delete",attrs:{title:"删除"},on:{click:function(n){return n.stopPropagation(),e.deleteItem(t)}}}),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":"14px"}})])])})),n("div",{staticClass:"add-script",on:{click:function(t){return e.addScript()}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新建")])],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},oi=[],ai=n("2d7a");function ii(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function ri(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){ii(i,o,a,r,s,"next",e)}function s(e){ii(i,o,a,r,s,"throw",e)}r(void 0)}))}}function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}var ci={mixins:[f["a"]],name:"ScriptEditor",components:{AssetsTags:ta},props:{},data:function(){return{searchKey:"",selectedTags:[],categoryId:6,scriptArray:ai,info:null,activeNames:[],forbidEdit:!1,array:[],folded:!0,firstAdded:!1}},computed:{contents:function(){var e=this.info&&this.info.script||"";if(e instanceof Array){var t=e.filter((function(e){return e&&!Object(I["f"])(e.content)}));t.length<e.length&&(e=t)}return e},id:function(){return this.info&&this.info.id||""},scriptIds:function(){return(this.array||[]).map((function(e){return e.id})).reverse()},raw:function(){return[this.info&&this.info.id,JSON.stringify(this.array)]}},mounted:function(){var e=this;window.$vue&&this.onSelectOne(window.$vue),this.ema.bind("select.oneInfo",(function(t){var n=t.vm;e.onSelectOne(n)})),this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t})),this.ema.bind("select.noOne",(function(){e.info=null})),this.loadData()},methods:{onSelectOne:function(e){this.info=e.nodeInfo,this.firstAdded=!0},loadData:function(){var e=this,t=this.selectedTags.map((function(e){return{id:e.id,name:e.name}}));Object(A["a"])({url:"editor/resources/list",method:"post",needLoading:!1,data:{tags:t||[],page:1,pageSize:1e3,categoryId:6,name:this.searchKey}}).then((function(t){var n=t.data;e.scriptArray=n.data.list||[]})).catch((function(){}))},initData:function(e){this.array="string"==typeof e?e?[{name:"脚本1",content:e}]:[]:e},addScript:function(e){e?this.scriptIds.indexOf(e.id)>-1?this.$message({type:"error",message:"该脚本已经添加过，不可重复添加"}):(this.array.push({name:e.name,content:e.content,id:e.id}),this.ema.fire("resource.use",e.id)):(e={name:"未命名",content:"",id:Math.max(this.scriptIds[0]||0,65536)+1},this.array.push(e),this.editItem(e))},onTagSelect:function(e){console.log(e),this.selectedTags=e,this.loadData(1,!0)},deleteItem:function(e){var t=this;this.$confirm("确认删除该脚本?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.array.splice(t.array.indexOf(e),1),t.ema.fire("script.delete",{key:"".concat(t.id,"_").concat(e.id)})})).catch((function(){t.$message({type:"info",message:"已取消"})}))},editItem:function(e){var t=this;"$CodePanel"in window&&"object"===si(window.$CodePanel)?window.$CodePanel.openFile(e,{comId:this.id}):this.openDialog({name:"d-editScript",data:{content:e.content,name:e.name,runtimeOnly:e.runtimeOnly,categoryId:e.categoryId||this.categoryId},methods:{reloadScriptList:function(){t.loadScript(this.categoryId)},saveContent:function(n){var o=n.name,a=n.content,i=n.runtimeOnly;e.content=a,e.name=o,t.$set(e,"runtimeOnly",i)}}})},renameItem:function(e){var t=this;this.$prompt("输入脚本名称").then((function(n){var o=n.action,a=n.value;if("name"in e||t.$set(e,"name","未命名"),a=(a||"").trim(),!a||a.length<1)return t.$message("名称不能为空");"confirm"===o&&(e.name=a,t.ema.fire("script.rename",{key:"".concat(t.id,"_").concat(e.id),name:a}))})).catch((function(){return console.log("怂了")}))},saveTemplate:function(){var e=ri(u.a.mark((function e(t){var n,o=this;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.demoMode){e.next=2;break}return e.abrupt("return",this.$alert("您处在 demo 模式下，不能保存数据哦"));case 2:return e.next=4,this.$confirm("确定要将此脚本保存到脚本库中么，保存后可供下次使用（默认只对当前登陆用户可见，可至管理后台修改）。").catch((function(e){return!1}));case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return");case 7:Object(A["a"])({url:"editor/resources/save",method:"post",needLoading:!1,data:{categoryId:6,content:t.content,name:t.name,visibilitylevel:0}}).then((function(e){if(!e.data.data.id)throw new Error;o.$message({type:"success",message:"脚本保存成功"})})).catch((function(e){console.log(e),o.$message({type:"error",message:"脚本保存失败"})}));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),toogleRuntimeOnly:function(e){"runtimeOnly"in e||this.$set(e,"runtimeOnly",!1),e.runtimeOnly=!e.runtimeOnly}},watch:{active:function(e){this.active&&window.$vue&&this.onSelectOne(window.$vue)},contents:{deep:!0,handler:function(e){this.initData(e)}},raw:{handler:function(e,t){e[0]&&t[0]===e[0]&&e[1]!==t[1]&&this.info&&(console.log("script reload"),this.info.script=this.array,this.ema.fire("component.reload",this.id))}}}},li=ci,di=(n("c552"),n("1d96"),Object(v["a"])(li,ni,oi,!1,null,"8253b010",null)),ui=di.exports,pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-animate widget"},[n("div",{staticClass:"content",attrs:{draggable:"false"}},[n("div",{staticClass:"left-slider"},[n("div",{staticClass:"a78"},[e._m(0),n("div",{staticClass:"aib"},[n("div",{staticClass:"aia"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置时间",placement:"top"}},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.resetTime}},[n("i",{staticClass:"icon el-icon-refresh"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.isPlay?"暂停":"播放",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.play}},[e.isPlay?n("i",[e._v("暂停")]):n("i",{staticClass:"icon"},[e._v(" 播放")])])],1)],1)])]),n("div",{ref:"sliderNode",staticClass:"a7b",attrs:{"data-deselect-layers":"true"},on:{scroll:function(t){return e.scroll(t,["scrollTop"])}}},[n("div",[e.rootNode?n("animate-layer-node",{attrs:{info:e.rootNode}}):e._e()],1)])]),n("div",{staticClass:"right-slider",on:{mousedown:e.mousedown,mouseup:e.mouseup,mousemove:e.mousemove,mouseleave:e.mouseleave}},[n("div",{staticClass:"cursor",style:{left:e.time/1e3*(e.timeSpace.length*e.timeSpace.num)-e.scrollLeft+"px"},on:{mousedown:e.timelineStart}},[n("div",{staticClass:"cum"},[n("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{fill:"#faad14",d:"M9,4 L16,4 C17.1045695,4 18,4.8954305 18,6 L18,13.0070582 C18,14.3526183 17.4576726,15.6413868 16.4955882,16.5820916 L13,20 L12,20 L8.50441184,16.5820916 C7.5423274,15.6413868 7,14.3526183 7,13.0070582 L7,6 C7,4.8954305 7.8954305,4 9,4 Z"}}),n("g",{attrs:{transform:"translate(12.000000, 7.000000)",fill:"#FFFFFF","fill-opacity":"0.2"}},[n("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"1",height:"1"}}),n("rect",{attrs:{id:"Rectangle",x:"0",y:"3",width:"1",height:"1"}}),n("rect",{attrs:{id:"Rectangle",x:"0",y:"6",width:"1",height:"1"}})])])])]),n("div",{staticClass:"cuk"},[e.cursorPos.time?n("div",{staticClass:"timetip"},[e._v(e._s(parseFloat(e.time/1e3).toFixed(2)+"s"))]):e._e()])]),n("div",{staticClass:"timeline"},[n("div",{staticClass:"aig",staticStyle:{left:"0px"}},[e._m(1),n("div",{ref:"timelineNav",staticClass:"aij",on:{scroll:function(t){return e.scroll(t,["scrollLeft"])}}},[n("div",{style:{width:e.timeSpace.allTime*e.timeSpace.length*e.timeSpace.num+"px"}},[e._l(e.timeSpace.allTime,(function(t){return e._l(e.timeSpace.num,(function(o){return n("span",{key:t+"ail"+o,class:[1==o?"ail":"aik"],style:e.spaceStyle,attrs:{"data-unit":t-1}})}))}))],2)])])]),n("div",{ref:"timelineItem",staticClass:"nodeListWarp",on:{scroll:function(t){return e.scroll(t,["scrollLeft","scrollTop"])}}},[n("div",{style:{width:e.timeSpace.allTime*e.timeSpace.length*e.timeSpace.num+"px"}},[e.rootNode?n("time-line-node",{attrs:{info:e.rootNode,"time-space":e.timeSpace}}):e._e()],1)])])]),n("div",{staticClass:"toolNav"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"总时间"}},[n("el-input",{staticStyle:{width:"60px"},attrs:{type:"number"},model:{value:e.timeSpace.allTime,callback:function(t){e.$set(e.timeSpace,"allTime",e._n(t))},expression:"timeSpace.allTime"}})],1),n("el-form-item",{attrs:{label:"刻度间隔"}},[n("el-input",{staticStyle:{width:"60px"},attrs:{type:"number"},model:{value:e.timeSpace.length,callback:function(t){e.$set(e.timeSpace,"length",e._n(t))},expression:"timeSpace.length"}})],1),n("el-form-item",{attrs:{label:"刻度数"}},[n("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",label:"刻度数"},model:{value:e.timeSpace.num,callback:function(t){e.$set(e.timeSpace,"num",e._n(t))},expression:"timeSpace.num"}},[n("el-option",{attrs:{label:"10",value:10}}),n("el-option",{attrs:{label:"5",value:5}})],1)],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},mi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"a79"},[n("span",[e._v("图层")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aih"},[n("span",{staticClass:"aii"})])}],fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animateLayerNode"},[0!=e.level?n("div",{staticClass:"cellItem",class:{active:e.isActive},on:{click:e.selectOne}},[n("div",{staticClass:"label"},[n("div",{staticClass:"space",style:e.spaceStyle}),e._v("\n      "+e._s(e.info.label)+"\n    ")])]):e._e(),n("div",{staticClass:"ced"},[e._l(e.info.child,(function(t){return n("animate-layer-node",{key:t.id,attrs:{info:t,level:e.level+1}})}))],2)])},hi=[],gi={mixins:[Pn,f["a"]],name:"animateLayerNode",props:{info:{required:!0,type:Object},level:{default:0}},data:function(){return{isActive:!1}},watch:{info:{deep:!0,handler:function(e){var t={};t=this.scope?g()(e):e,this.nodeInfo=t}}},computed:{spaceStyle:function(){return{width:10*this.level+"px"}}},beforeDestroy:function(){},mounted:function(){var e=this;this.isActive=window.$vue&&window.$vue.nodeInfo.id==this.info.id,this.ema.bind("select.one",(function(t,n){t!=e.info.id?e.isActive=!1:e.isActive=!0})),this.ema.bind("select.noOne",(function(){e.isActive=!1}))},methods:{selectOne:function(){this.ema.fire("select.one",this.info.id)}}},bi=gi,yi=(n("a559"),Object(v["a"])(bi,fi,hi,!1,null,"8c78b0c8",null)),vi=yi.exports,wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeLineNode"},[0!=e.level?n("div",{staticClass:"cellItem",class:{active:e.isActive},on:{click:e.selectOne,contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.showContextMenu(e.info,t)}}},[n("div",{staticClass:"cellItemWarp"},e._l(e.info.animate,(function(t,o){return n("cell",{key:o,attrs:{animates:e.info.animate,info:t,"time-space":e.timeSpace}})})),1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"插入动画",placement:"top"}},[null==e.info.animate||0==e.info.animate.length?n("i",{staticClass:"addFrame el-icon-circle-plus",on:{click:function(t){return e.addFrame(t,e.info)}}}):e._e()])],1):e._e(),n("div",{staticClass:"ced"},[e._l(e.info.child,(function(t){return[n("time-line-node",{key:t.id,attrs:{info:t,level:e.level+1,"time-space":e.timeSpace}})]}))],2)])},ki=[],xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeLineNodeCell",style:e.cellStyle,on:{click:function(e){e.stopPropagation()},mousedown:function(t){return e.mousedown(t,"center")}}},[n("div",{staticClass:"timeLineNodeCellOne",style:e.oneCellStyle},[n("el-popover",{attrs:{placement:"top",width:"300",height:"400",value:e.showpicker,trigger:"click"}},[n("animate-picker",{attrs:{value:e.info.type,info:e.info,animates:e.animates}}),n("div",{staticClass:"cellItem",class:{active:e.isActive},attrs:{slot:"reference"},on:{click:function(t){return t.stopPropagation(),e.selectOne(t)}},slot:"reference"},[e._v("\n      "+e._s(e.info.label||e.info.type||"无")),n("i",{staticClass:"el-icon-edit"})])],1),n("div",{staticClass:"presentation left",on:{click:function(e){e.stopPropagation()},mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"left")}}}),n("div",{staticClass:"presentation right",on:{click:function(e){e.stopPropagation()},mousedown:function(t){return t.stopPropagation(),e.mousedown(t,"right")}}}),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向前插入动画",placement:"top"}},[n("i",{staticClass:"add left el-icon-circle-plus",on:{click:function(t){return t.stopPropagation(),e.addFrame(0)}}})]),e.info.infinite?e._e():n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向后插入动画",placement:"top"}},[n("i",{staticClass:"add right el-icon-circle-plus",on:{click:function(t){return t.stopPropagation(),e.addFrame(1)}}})])],1)])},_i=[],$i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"animatePicker"},[o("div",{staticClass:"tabsWarp"},[o("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.Metadata.Animate,(function(t){return o("el-tab-pane",{key:t.value,attrs:{name:t.value,label:t.label||t.value}},[o("div",{staticClass:"itemWarp"},e._l(t.options,(function(t){return o("div",{key:t.value,staticClass:"item",class:{active:e.isActive(t.value)},on:{click:function(n){return e.selectOne(t.value)},mouseenter:function(n){return e.preview(n,t,!0)},mouseleave:function(n){return e.preview(n,t,!1)}}},[o("div",{staticClass:"icon"},[o("img",{attrs:{src:n("9d64")}})]),o("div",{staticClass:"label"},[e._v("\n          "+e._s(t.label||t.value)+"\n        ")])])})),0)])})),o("el-tab-pane",{key:"setting",attrs:{name:"设置",label:"设置"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-setting"})]),o("div",{staticClass:"itemWarp"},[o("el-form",{staticClass:"demo-ruleForm",attrs:{size:"mini","label-width":"80px"}},[o("el-form-item",{attrs:{label:"速度曲线",prop:"region"}},[o("el-select",{model:{value:e.info.timingFunction,callback:function(t){e.$set(e.info,"timingFunction",t)},expression:"info.timingFunction"}},e._l(e.Metadata.AnimationTimingFunction,(function(e){return o("el-option",{key:e.value,attrs:{value:e.value,label:e.label||e.value}})})),1)],1),o("el-form-item",{attrs:{label:"无限循环",prop:"delivery"}},[o("el-switch",{attrs:{value:e.info.infinite},on:{change:e.infiniteChange}})],1),e.info.infinite?e._e():o("el-form-item",{attrs:{label:"循环次数",prop:"name"}},[o("el-input",{attrs:{type:"number"},model:{value:e.info.countNum,callback:function(t){e.$set(e.info,"countNum",t)},expression:"info.countNum"}})],1)],1)],1)])],2)],1),o("div",{staticClass:"toolNav"},[o("el-form",{staticClass:"ruleForm",attrs:{inline:!0,size:"mini","label-width":"80px"}},[o("el-form-item",{attrs:{label:"速度曲线",prop:"region"}},[o("el-select",{staticStyle:{width:"100px"},model:{value:e.info.timingFunction,callback:function(t){e.$set(e.info,"timingFunction",t)},expression:"info.timingFunction"}},e._l(e.Metadata.AnimationTimingFunction,(function(e){return o("el-option",{key:e.value,attrs:{value:e.value,label:e.label||e.value}})})),1)],1)],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除动画",placement:"top"}},[o("i",{staticClass:"delete el-icon-delete",on:{click:e.deleteOne}})])],1)])},Ci=[],Si={mixins:[Pn,f["a"]],name:"timeLineNode",props:{value:{type:String,default:""},animates:{type:Array,default:function(){return[]}},info:{}},data:function(){return{activeName:"Attention Seekers",currentSelect:""}},watch:{},computed:{},beforeDestroy:function(){},mounted:function(){this.currentSelect=this.value},methods:{isActive:function(e){return this.currentSelect==e},infiniteChange:function(e){var t=this;1==e&&this.animates.indexOf(this.info)<this.animates.length-1?this.$confirm("开启无限循环，会删除该动画之后的动画效果","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),t.info.infinite=e,t.info.countNum=1,t.animates.splice(t.animates.indexOf(t.info)+1,t.animates.length)})).catch((function(){t.$message({type:"info",message:"已取消"})})):this.info.infinite=e},preview:function(e,t,n){n?(e.currentTarget.firstElementChild.style.animationName=t.value,e.currentTarget.firstElementChild.style.animationTimingFunction=this.info.timingFunction):(e.currentTarget.firstElementChild.style.animationTimingFunction="",e.currentTarget.firstElementChild.style.animationName="")},selectOne:function(e){this.currentSelect=e,this.info.type=e},deleteOne:function(){this.animates.splice(this.animates.indexOf(this.info),1),this.ema.fire("animate.cell.hideOtherPicker",null)}}},ji=Si,Ei=(n("ed84"),Object(v["a"])(ji,$i,Ci,!1,null,"493824ad",null)),Ii=Ei.exports,Oi={mixins:[Pn,f["a"]],name:"timeLineNode",components:{AnimatePicker:Ii},props:{info:{type:Object},animates:{type:Array,default:function(){return[]}},timeSpace:{type:Object,default:function(){return{num:5,length:18}}}},data:function(){return{showpicker:!1,isActive:!1,touchFlag:null,ismoved:!1,touchStart:{x:null,delay:null,duration:null}}},watch:{info:{deep:!0,handler:function(e,t){}}},computed:{cellStyle:function(){for(var e={marginLeft:(this.info.delay*(this.timeSpace.length*this.timeSpace.num)||0)+"px",width:this.info.duration*this.info.countNum*(this.timeSpace.num*this.timeSpace.length)+"px"},t=0,n=0;n<this.animates.length;n++){var o=this.animates[n];if(this.info===o)break;t+=o.duration*o.countNum+o.delay}return this.info.infinite&&(e.width=(this.timeSpace.allTime-t-this.info.delay)*(this.timeSpace.num*this.timeSpace.length)+"px"),e},oneCellStyle:function(){return{width:this.info.duration*(this.timeSpace.num*this.timeSpace.length)+"px"}}},beforeDestroy:function(){},mounted:function(){var e=this;this.ema.bind("animate.rightslider.movemove",(function(t){e.touchFlag&&e.mousemove(t),e.ismoved=!1})),this.ema.bind("animate.rightslider.moveup",(function(t){e.mouseup(t)})),this.ema.bind("animate.cell.hideOtherPicker",(function(t){e.info!==t&&(e.showpicker=!1)}))},methods:{mousedown:function(e,t){this.touchFlag=t,this.touchStart.x=e.x,this.touchStart.delay=this.info.delay||0,this.touchStart.duration=this.info.duration},mouseup:function(e,t){this.touchFlag=null,this.touchStart.x=null,this.touchStart.delay=null,this.touchStart.duration=null},mousemove:function(e){this.ismoved=!0;var t=e.x-this.touchStart.x,n=t/(this.timeSpace.num*this.timeSpace.length);"left"==this.touchFlag?(this.info.delay=Math.max(0,this.touchStart.delay+n),this.info.duration=Math.max(.5,this.touchStart.duration-n)):"right"==this.touchFlag?this.info.duration=Math.max(.5,this.touchStart.duration+n):"center"==this.touchFlag&&(this.info.delay=Math.max(0,this.touchStart.delay+n))},selectOne:function(e){this.ismoved||(this.showpicker=!this.showpicker,this.ismoved=!1),1==this.showpicker&&this.ema.fire("animate.cell.hideOtherPicker",this.info)},addFrame:function(e){var t=this.animates.indexOf(this.info);t+=e,t>=this.animates.length&&(t=this.animates.length),this.animates.splice(t,0,{type:"",duration:1,delay:0,countNum:1,infinite:!1})}}},Ai=Oi,Ti=(n("ce3b"),Object(v["a"])(Ai,xi,_i,!1,null,"52ea539f",null)),Ni=Ti.exports,Pi={mixins:[Pn,f["a"]],name:"timeLineNode",components:{Cell:Ni},props:{info:{required:!0,type:Object},level:{default:0},timeSpace:{type:Object,default:function(){return{num:5,length:18}}}},data:function(){return{isActive:!1,showAddFramePos:null}},watch:{info:{deep:!0,handler:function(e){var t={};t=this.scope?g()(e):e,this.nodeInfo=t}}},computed:{},beforeDestroy:function(){},mounted:function(){var e=this;this.isActive=window.$vue&&window.$vue.nodeInfo.id==this.info.id,this.ema.bind("select.one",(function(t,n){t!=e.info.id?e.isActive=!1:e.isActive=!0})),this.ema.bind("select.noOne",(function(){e.isActive=!1}))},methods:{selectOne:function(){this.ema.fire("select.one",this.info.id)},timelineMousemove:function(e){},showContextMenu:function(e,t){console.log(t),this.showAddFramePos=t.offsetX},addFrame:function(e,t){t.animate.push({type:"",duration:1,delay:0,countNum:1,infinite:!1}),this.showAddFramePos=null}}},Di=Pi,Mi=(n("5347"),Object(v["a"])(Di,wi,ki,!1,null,"34c86f2e",null)),Li=Mi.exports,Fi={mixins:[f["a"]],name:"animate",components:{AnimateLayerNode:vi,TimeLineNode:Li},props:{active:{type:[Number,Boolean],default:0}},data:function(){return{cursorPos:{time:null,startX:null},allNodeInfo:window.Editor.nodeInfo,time:0,timeSpace:{allTime:15,length:15,num:10},scrollLeft:0,scrollTop:0,isPlay:!1,forbidEdit:!1}},computed:{rootNode:function(){return this.allNodeInfo},spaceStyle:function(){return{"margin-right":"".concat(this.timeSpace.length-1,"px")}}},mounted:function(){var e=this;this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t}))},watch:{scrollTop:function(e){this.$refs["sliderNode"].scrollTop=e,this.$refs["timelineItem"].scrollTop=e},scrollLeft:function(e){this.$refs["timelineNav"].scrollLeft=e,this.$refs["timelineItem"].scrollLeft=e}},filters:{animateFilter:function(e){var t=[];pt.Animate.forEach((function(e){t=t.concat(e.options)}));var n=t.find((function(t){if(t.value==e)return!0}));return n?n.label:e}},methods:{mousedown:function(e){this.ema.fire("animate.rightslider.movedown",e)},mousemove:function(e){this.ema.fire("animate.rightslider.movemove",e),this.timelineMove(e)},mouseup:function(e){this.ema.fire("animate.rightslider.moveup",e),this.timelineEnd(e)},mouseleave:function(e){null!==this.cursorPos.time&&this.mouseup(e)},timelineStart:function(e){this.cursorPos.startX=e.clientX,this.cursorPos.time=this.time,this.ema.fire("animate.timeline.move.start")},timelineMove:function(e){this.cursorPos.startX&&(this.time=this.cursorPos.time+(e.clientX-this.cursorPos.startX)/(this.timeSpace.length*this.timeSpace.num)*1e3,this.ema.fire("animate.timeline.move",(this.time/1e3).toFixed(2),this.timeSpace.allTime))},timelineEnd:function(e){this.cursorPos.startX=null,this.cursorPos.time=null,this.ema.fire("animate.timeline.move.end")},scroll:function(e,t){-1!=t.indexOf("scrollTop")&&(this.scrollTop=e.target.scrollTop),-1!=t.indexOf("scrollLeft")&&(this.scrollLeft=e.target.scrollLeft)},resetTime:function(){this.time=0},play:function(e){var t=this;this.isPlay?this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null,this.ema.fire("animate.timeline.move.end")):(this.ema.fire("animate.timeline.move.start"),this.timerInterval=setInterval((function(){t.time+=16,t.time>=1e3*t.timeSpace.allTime&&(clearInterval(t.timerInterval),t.time=0),t.ema.fire("animate.timeline.move",(t.time/1e3).toFixed(2),t.timeSpace.allTime)}),16)),this.isPlay=!this.isPlay}}},Bi=Fi,Ri=(n("e120"),Object(v["a"])(Bi,pi,mi,!1,null,"5190352e",null)),zi=Ri.exports,Hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pageInfo?n("div",{staticClass:"pageInfo widget"},[n("div",[e._v("发布地址")]),e.qrUrl?n("img",{staticClass:"qrcode",attrs:{src:e.qrUrl,alt:""}}):e._e(),n("div",{staticClass:"outLink"},[n("div",[e._v("\n      链接\n      "),n("i",{staticClass:"iconfont icon-link"}),e._v(" \n      "),n("a",{attrs:{target:"_blank",href:e.outUrl}},[e._v(e._s(e.outUrl))]),e._v(" \n      "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.copy(e.outUrl)}}},[e._v("拷贝")])],1),e.isYmm(e.outUrl)?n("div",[e._v("\n      短链\n      "),n("i",{staticClass:"iconfont icon-link"}),e._v(" \n      "),n("a",{attrs:{target:"_blank",href:e.outShortUrl}},[e._v(e._s(e.outShortUrl))]),e._v(" \n      "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.copy(e.outShortUrl)}}},[e._v("拷贝")])],1):e._e()]),n("el-form",{ref:"form",attrs:{"label-position":"left",size:"mini",model:e.pageInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"页面名称"}},[n("el-input",{model:{value:e.pageInfo.name,callback:function(t){e.$set(e.pageInfo,"name",t)},expression:"pageInfo.name"}})],1),n("el-form-item",{attrs:{label:"页面key"}},[n("el-input",{attrs:{disabled:""},model:{value:e.pageInfo.key,callback:function(t){e.$set(e.pageInfo,"key",t)},expression:"pageInfo.key"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.savePage}},[e._v("保存修改")])],1)],1)],1):e._e()},Ui=[],Vi=n("d055"),Gi=n.n(Vi),Wi={mixins:[f["a"]],name:"WidgetPageInfo",components:{},data:function(){return{qrUrl:"",pageInfo:null,outShortUrl:""}},computed:{outUrl:function(){var e=this,t=I["c"].parseURL(window.location.href),n=new Image;return n.src="".concat(De.a.VIEW_PATH)+t.params.key,console.log("srcout",n.src),I["c"].fetch("https://dwz.ymm56.com/dwz-web/dwz/generate?url="+encodeURIComponent(n.src)).then((function(t){t.data&&(e.outShortUrl=t.data)})),n.src}},mounted:function(){this.pageInfo=window.Editor.pageInfo,this.setQRUrl()},methods:{setQRUrl:function(){var e=this,t=I["c"].parseURL(window.location.href),n="".concat(De.a.VIEW_PATH)+t.params.key;try{Gi.a.toDataURL(n).then((function(t){e.qrUrl=t}))}catch(o){console.error("生成二维码出错：",o.message)}},copy:function(e){this.ema.fire("clipboard.copy",e)},savePage:function(e){window.Editor.savePage()},isYmm:function(e){return/ymm56\.com|ymmoa\.com/.test(e)}}},qi=Wi,Ki=(n("118b"),Object(v["a"])(qi,Hi,Ui,!1,null,"4ccefd69",null)),Ji=Ki.exports,Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[e.info?n("editor-advanced",{attrs:{"node-id":e.nodeId,info:e.info}}):n("i",{staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})],1)},Xi=[],Zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("div",{staticClass:"style-tab tab"},[e.flutter?[n("div",{attrs:{label:"flutter 模式",name:"flutter"}},[n("editor-flutter",{attrs:{"node-id":e.nodeId,info:e.info}})],1)]:e._e(),e.flutter?e._e():["editor"==e.styleType?n("div",{attrs:{label:"设计模式",name:"base"}},[n("editor-base",{attrs:{"node-id":e.nodeId,info:e.info}})],1):e._e(),"code"==e.styleType?n("div",{staticClass:"cssEditorWarp",attrs:{label:"代码模式",name:"second",lazy:""}},[n("code-editor",{staticClass:"cssEditor",attrs:{ctype:"css",contents:e.cssCode},on:{"update:contents":function(t){e.cssCode=t}}}),n("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.saveCss}},[e._v("保存")])],1):e._e(),n("a",{staticClass:"codeBtn",on:{click:e.changeStyleType}},[e._v(" 打开"+e._s("editor"==e.styleType?"代码模式":"设计模式")+" ")])]],2)])},Qi=[],er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"内边距 Padding",name:"padding"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["padding"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding",t)},"update:style-attr":function(t){return e.$set(e.info,"padding",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["padding-top"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-top",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-top",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["padding-right"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-right",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-right",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["padding-bottom"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-bottom",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["padding-left"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-left",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-left",t)}}})],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"外边距 Margin",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail2=!e.detail2}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["margin"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin",t)},"update:style-attr":function(t){return e.$set(e.info,"margin",t)}}})],2),e.detail2?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["margin-top"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-top",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-top",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["margin-right"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-right",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-right",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["margin-bottom"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-bottom",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["margin-left"],min:0,max:400},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-left",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-left",t)}}})],1)],1):e._e()],1)],1)],1)],1)},tr=[],nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sliderWarp"},[n("el-input",{staticClass:"input",attrs:{disabled:!e.canAdd,type:"number",size:"mini",placeholder:""},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}}),n("el-select",{staticClass:"nuit",attrs:{disabled:!e.canAdd,size:"mini",placeholder:"单位"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}},[e.onlypx?e._e():e._l(e.Metadata.style.unit,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label||e.value,value:e.value}})})),e.onlypx?n("el-option",{attrs:{label:"px",value:"px"}}):e._e()],2),n("div",{staticClass:"style-lock",on:{click:function(t){e.canAdd=!e.canAdd}}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"启用",placement:"top"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:e.canAdd,expression:"canAdd"}],staticClass:"iconfont icon-unlock"})]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"禁用",placement:"top"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.canAdd,expression:"!canAdd"}],staticClass:"iconfont icon-lock"})])],1)],1)])},or=[],ar={mixins:[f["a"]],name:"num",components:{},props:{styleAttr:{type:[String,Number]},min:{type:Number},max:{type:Number},step:{default:1,type:Number},onlypx:{default:!1,type:Boolean}},data:function(){return{canAdd:!0,value:0,unit:""}},watch:{styleAttr:{handler:function(e){e!==this.computedAttr&&this.parse(e)},immediate:!0},computedAttr:function(e){e!==this.styleAttr&&this.syncVal(e)}},computed:{computedAttr:function(){return this.canAdd?(this.onlypx&&(this.unit="px"),this.combine(this.value,this.unit)):null}},mounted:function(){},methods:{parse:function(e){return""===e?(this.value="",this.unit="",void(this.canAdd=!0)):Object(I["f"])(e)?(this.value=null,this.unit="",void(this.canAdd=!1)):/^-?0(?!\.)/.test(e)?(this.value=0,this.unit=String(e).replace(/^[-\d.]+/,"")||"",void(this.canAdd=!0)):/^[-\d.]/.test(e)?(this.value=parseFloat(e),this.unit=String(e).replace(/^[-\d.]+/,"")||"",void(this.canAdd=!0)):(this.value=e,this.unit="",void(this.canAdd=!0))},combine:function(e,t){var n=e;return""===e&&(n=""),Object(I["f"])(e)&&(n=null),/^-?[\d.]+$/.test(e)&&(n="".concat(e).concat(t||"")),n},syncVal:function(e){this.$emit("update:styleAttr",e)}}},ir=ar,rr=(n("063f"),Object(v["a"])(ir,nr,or,!1,null,"f5b5e07e",null)),sr=rr.exports,cr={mixins:[f["a"]],name:"StyleLayout",components:{Num:sr},props:{info:{required:!0,type:Object}},data:function(){return{activeNames:["margin","padding"],detail1:!1,detail2:!1}},methods:{handleClick:function(e,t){}}},lr=cr,dr=(n("df59"),Object(v["a"])(lr,er,tr,!1,null,"8faa6d74",null)),ur=dr.exports,pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"width",t)},"update:style-attr":function(t){return e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{styleAttr:e.info.height},on:{"update:styleAttr":function(t){return e.$set(e.info,"height",t)},"update:style-attr":function(t){return e.$set(e.info,"height",t)}}})],1),n("el-form-item",{attrs:{label:"溢出"}},[n("el-select",{attrs:{placeholder:"超出内容处理"},model:{value:e.info["overflow"],callback:function(t){e.$set(e.info,"overflow",t)},expression:"info['overflow']"}},e._l(e.Metadata.style.overflow,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1),n("el-form-item",{attrs:{label:"显示"}},[n("el-select",{attrs:{placeholder:"内部元素布局"},model:{value:e.info["display"],callback:function(t){e.$set(e.info,"display",t)},expression:"info['display']"}},e._l(e.Metadata.style.display,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])})),1)],1)],1)],1)},mr=[],fr={mixins:[f["a"]],name:"StyleSize",components:{Num:sr},props:{info:{required:!0,type:Object}},data:function(){return{}},mounted:function(){},methods:{handleClick:function(e,t){}}},hr=fr,gr=(n("0388"),Object(v["a"])(hr,pr,mr,!1,null,"415ea4d4",null)),br=gr.exports,yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("div",{staticClass:"widget-outer"},[n("div",{attrs:{id:"upper"}},[n("div",{staticClass:"h-control-group layout horizontal center"},[n("el-checkbox",{staticClass:"checkbox",attrs:{tabindex:"-1",value:e.notEmpty(e.info.top),title:"是否对齐父节点顶边"},on:{change:function(t){return e.handleCheckChange("top","bottom")}}},[e._v("上")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticClass:"input top-input small",attrs:{size:"mini",tabindex:"-1",title:"本节点顶边和父节点顶边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 height 和百分比数值计算出距离"},model:{value:e.info.top,callback:function(t){e.$set(e.info,"top",t)},expression:"info.top"}})],1),n("div",{staticClass:"layout horizontal center"},[n("div",{staticClass:"v-control-group layout vertical end"},[n("el-checkbox",{staticClass:"v-checkbox",attrs:{tabindex:"-1",title:"是否对齐父节点左边",value:e.notEmpty(e.info.left)},on:{change:function(t){return e.handleCheckChange("left","right")}}},[e._v("左")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticClass:"input bottom-input small",attrs:{tabindex:"-1",size:"mini",title:"本节点左边和父节点左边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 width 和百分比数值计算出距离"},model:{value:e.info.left,callback:function(t){e.$set(e.info,"left",t)},expression:"info.left"}})],1),n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticStyle:{position:"absolute",height:"0px",width:"84px","border-width":"1px 0px 0px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",left:"0px",top:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticStyle:{position:"absolute",height:"84px",width:"0px","border-width":"0px 0px 0px 1px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",top:"0px",left:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticStyle:{position:"absolute",height:"84px",width:"0px","border-width":"0px 0px 0px 1px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",top:"0px",right:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticStyle:{position:"absolute",height:"0px",width:"84px","border-width":"1px 0px 0px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",left:"0px",bottom:"12px"}}),n("div",{staticClass:"inContent"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticClass:"left-arrow"},[n("div",{staticClass:"h-arrow-line"}),n("div",{staticClass:"arrow left"}),n("div",{staticClass:"arrow right"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticClass:"right-arrow"},[n("div",{staticClass:"h-arrow-line"}),n("div",{staticClass:"arrow left"}),n("div",{staticClass:"arrow right"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticClass:"top-arrow"},[n("div",{staticClass:"v-arrow-line"}),n("div",{staticClass:"arrow up"}),n("div",{staticClass:"arrow down"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticClass:"bottom-arrow"},[n("div",{staticClass:"v-arrow-line"}),n("div",{staticClass:"arrow up"}),n("div",{staticClass:"arrow down"})])])]),n("div",{staticClass:"v-control-group layout vertical"},[n("el-checkbox",{staticClass:"v-checkbox",attrs:{tabindex:"-1",title:"是否对齐父节点右边",value:e.notEmpty(e.info.right)},on:{change:function(t){return e.handleCheckChange("right","left")}}},[e._v("右")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticClass:"input bottom-input small",attrs:{tabindex:"-1",size:"mini",title:"本节点右边和父节点右边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 width 和百分比数值计算出距离"},model:{value:e.info.right,callback:function(t){e.$set(e.info,"right",t)},expression:"info.right"}})],1)]),n("div",{staticClass:"h-control-group layout horizontal center"},[n("el-checkbox",{staticClass:"checkbox",attrs:{tabindex:"-1",value:e.notEmpty(e.info.bottom),title:"是否对齐父节点底边"},on:{change:function(t){return e.handleCheckChange("bottom","top")}}},[e._v("下")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticClass:"input right-input small",attrs:{size:"mini",tabindex:"-1",title:"本节点底边和父节点底边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 height 和百分比数值计算出距离"},model:{value:e.info.bottom,callback:function(t){e.$set(e.info,"bottom",t)},expression:"info.bottom"}})],1)])]),n("el-form",{attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{"label-width":"190px",label:"固定在屏幕上"}},[n("el-switch",{model:{value:e.fixed,callback:function(t){e.fixed=t},expression:"fixed"}})],1)],1)],1)},vr=[],wr={mixins:[f["a"]],name:"StyleSize",components:{},props:{info:{required:!0,type:Object}},data:function(){return{fixed:this.info&&"fixed"==this.info.position,top:this.notEmpty(this.info.top),left:this.notEmpty(this.info.left),right:this.notEmpty(this.info.right),bottom:this.notEmpty(this.info.bottom)}},computed:{},watch:{fixed:{handler:function(e,t){"relative"!=this.info.position&&this.positionChange(e)},immediate:!0},info:{handler:function(e,t){this.makeFixed()},immediate:!0}},methods:{makeFixed:function(){this.fixed=this.info&&"fixed"==this.info.position},notEmpty:function(e){return null!=e&&""!=e},handleCheckChange:function(e,t){this.notEmpty(this.info[e])?(this.$delete(this.info,e),this.setOffset(t),"left"==e||"right"==e?this.setOffset("width"):"bottom"!=e&&"top"!=e||this.setOffset("height")):(this.setOffset(e),this.notEmpty(this.info[t])&&("left"==e||"right"==e?this.$delete(this.info,"width"):"bottom"!=e&&"top"!=e||this.$delete(this.info,"height")))},setOffset:function(e){var t=Object(I["e"])(window.$vue.$el);if("height"!=e&&"width"!=e){var n=null;if("fixed"==this.info.position?n=Object(I["e"])(document.querySelector("#stage")):window.$vue.parentNodeVm.nodeInfo&&(n=Object(I["e"])(window.$vue.parentNodeVm.$el)),n){var o=0;o=t[e]-n[e],this.$set(this.info,e,"".concat(o.toFixed(2),"px"))}}else this.$set(this.info,e,"".concat(Math.abs(t[e]).toFixed(2),"px"))},positionChange:function(e){var t=this;if((!window.$vue||!window.$vue.isRootNode)&&window.$vue&&window.$vue.nodeInfo.visible){var n=Object(I["e"])(window.$vue.$el),o=Object(I["e"])(document.querySelector("#stage")),a=Object(I["e"])(window.$vue.parentNodeVm.$el),i=[];["left","right","top","bottom"].forEach((function(e){t.notEmpty(t.info[e])&&i.push(e)})),e?(this.info.position="fixed",a=o):this.info.position="absolute",i.forEach((function(e){var o=0;o=n[e]-a[e],t.$set(t.info,e,"".concat(o.toFixed(2),"px"))}))}},handleClick:function(e,t){}}},kr=wr,xr=(n("ef2b"),Object(v["a"])(kr,yr,vr,!1,null,"79aef647",null)),_r=xr.exports,$r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"宽度",name:"width"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["border-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-width",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["border-top-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-top-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-top-width",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["border-right-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-right-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-right-width",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-bottom-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-bottom-width",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["border-left-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-left-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-left-width",t)}}})],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"样式",name:"style"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail2=!e.detail2}}},[e._v("展开")])]),n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-style"],callback:function(t){e.$set(e.info,"border-style",t)},expression:"info['border-style']"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],2),e.detail2?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-top-style"],callback:function(t){e.$set(e.info,"border-top-style",t)},expression:"info['border-top-style']"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1),n("el-form-item",{attrs:{label:"右边:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-right-style"],callback:function(t){e.$set(e.info,"border-right-style",t)},expression:"info['border-right-style']"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1),n("el-form-item",{attrs:{label:"底部:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-bottom-style"],callback:function(t){e.$set(e.info,"border-bottom-style",t)},expression:"info['border-bottom-style']"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1),n("el-form-item",{attrs:{label:"左边:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-left-style"],callback:function(t){e.$set(e.info,"border-left-style",t)},expression:"info['border-left-style']"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"颜色",name:"color"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail3=!e.detail3}}},[e._v("展开")])]),n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-color"],callback:function(t){e.$set(e.info,"border-color",t)},expression:"info['border-color']"}})],2),e.detail3?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-top-color"],callback:function(t){e.$set(e.info,"border-top-color",t)},expression:"info['border-top-color']"}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-right-color"],callback:function(t){e.$set(e.info,"border-right-color",t)},expression:"info['border-right-color']"}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-bottom-color"],callback:function(t){e.$set(e.info,"border-bottom-color",t)},expression:"info['border-bottom-color']"}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-left-color"],callback:function(t){e.$set(e.info,"border-left-color",t)},expression:"info['border-left-color']"}})],1)],1):e._e()],1)],1)],1)],1)},Cr=[],Sr={mixins:[f["a"]],name:"StyleBorder",components:{Num:sr,YColorPicker:Ia},props:{info:{required:!0,type:Object}},data:function(){return{activeNames:["width","color","style"],detail1:!1,detail2:!1,detail3:!1}},methods:{handleClick:function(e,t){}}},jr=Sr,Er=(n("b4ac"),Object(v["a"])(jr,$r,Cr,!1,null,"a4ebddce",null)),Ir=Er.exports,Or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["border-radius"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-radius",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"左上角:"}},[n("num",{attrs:{styleAttr:e.info["border-top-left-radius"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-top-left-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-top-left-radius",t)}}})],1),n("el-form-item",{attrs:{label:"右上角:"}},[n("num",{attrs:{styleAttr:e.info["border-top-right-radius"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-top-right-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-top-right-radius",t)}}})],1),n("el-form-item",{attrs:{label:"右下角:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-right-radius"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-bottom-right-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-bottom-right-radius",t)}}})],1),n("el-form-item",{attrs:{label:"左下角:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-left-radius"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-bottom-left-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-bottom-left-radius",t)}}})],1)],1):e._e()],1)],1)},Ar=[],Tr={mixins:[f["a"]],name:"StyleRadius",components:{Num:sr},props:{info:{required:!0,type:Object}},data:function(){return{detail1:!1}},methods:{handleClick:function(e,t){}}},Nr=Tr,Pr=(n("3619"),Object(v["a"])(Nr,Or,Ar,!1,null,"6b95d0ba",null)),Dr=Pr.exports,Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",{attrs:{label:"字体:"}},[n("el-select",{attrs:{placeholder:"字体"},model:{value:e.info["font-family"],callback:function(t){e.$set(e.info,"font-family",t)},expression:"info['font-family']"}},e._l(e.Metadata.style.fontFamily,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])})),1)],1),n("el-form-item",{attrs:{label:"对齐:"}},[n("el-select",{attrs:{placeholder:"对齐方式"},model:{value:e.info["text-align"],callback:function(t){e.$set(e.info,"text-align",t)},expression:"info['text-align']"}},e._l(e.Metadata.style.textAlign,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])})),1)],1),n("el-form-item",{attrs:{label:"加粗:"}},[n("el-select",{attrs:{placeholder:"加粗大小"},model:{value:e.info["font-weight"],callback:function(t){e.$set(e.info,"font-weight",t)},expression:"info['font-weight']"}},e._l(e.Metadata.style.fontWeight,(function(e){return n("el-option",{key:e.value,attrs:{label:e.desc||e.value,value:e.value,title:e.desc}})})),1)],1),n("el-form-item",{attrs:{label:"字号:"}},[n("num",{attrs:{styleAttr:e.info["font-size"],min:10,max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"font-size",t)},"update:style-attr":function(t){return e.$set(e.info,"font-size",t)}}})],1),n("el-form-item",{attrs:{label:"行高:"}},[n("num",{attrs:{styleAttr:e.info["line-height"],max:100},on:{"update:styleAttr":function(t){return e.$set(e.info,"line-height",t)},"update:style-attr":function(t){return e.$set(e.info,"line-height",t)}}})],1),n("el-form-item",{attrs:{label:"颜色:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["color"],callback:function(t){e.$set(e.info,"color",t)},expression:"info['color']"}})],1)],1)],1)},Lr=[],Fr={mixins:[f["a"]],name:"StyleText",components:{Num:sr,YColorPicker:Ia},props:{info:{required:!0,type:Object}},data:function(){return{}},methods:{handleClick:function(e,t){}}},Br=Fr,Rr=(n("8f22"),Object(v["a"])(Br,Mr,Lr,!1,null,"3e2e8d84",null)),zr=Rr.exports,Hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"70px",model:e.info}},[n("el-form-item",{attrs:{label:"图片"}},[n("resource",{attrs:{type:"image",url:e.backgroundImage},on:{"update:url":function(t){e.backgroundImage=t}}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.backgroundImage,expression:"backgroundImage"}],attrs:{label:"填充"}},[n("el-select",{attrs:{placeholder:"填充方式"},model:{value:e.backgroundFill,callback:function(t){e.backgroundFill=t},expression:"backgroundFill"}},e._l(e.Metadata.style.backgroundFill,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1)],1),n("el-form-item",{attrs:{label:"颜色"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["background-color"],callback:function(t){e.$set(e.info,"background-color",t)},expression:"info['background-color']"}})],1)],1)],1)},Ur=[],Vr={mixins:[f["a"]],name:"StyleBackground",components:{Resource:un,YColorPicker:Ia},props:{info:{required:!0,type:Object}},data:function(){return{backgroundFill:""}},watch:{info:function(){this.backgroundFill=""},backgroundFill:function(e,t){e&&this.transferFillToCss(e)}},computed:{backgroundImage:{get:function(){var e=this.info["background-image"];return e?e.replace(/url\(['"\s]*(.+?)['"\s]*\)/,"$1"):""},set:function(e){e?this.$set(this.info,"background-image","url('".concat(e,"')")):this.$set(this.info,"background-image",null)}}},methods:{colorChange:function(e){"transparent"==e&&(e="rgba(0, 0, 0, 0)"),this.info["background-color"]=e},transferFillToCss:function(e){var t=this.resetBg();switch(e){case"repeat":t["background-repeat"]="repeat";break;case"repeat-x":t["background-repeat"]="repeat-x",t["background-size"]="auto 100%";break;case"repeat-y":t["background-repeat"]="repeat-y",t["background-size"]="100% auto";break;case"contain":t["background-size"]="contain";break;case"center":t["background-size"]="contain",t["background-position"]="center center";break;case"cover":t["background-size"]="cover",t["background-position"]="center center";break;case"stretch":t["background-size"]="100% 100%",t["background-position"]="0 0";break}this.$reactiveSet(this.info,t)},resetBg:function(){var e={},t=["background-position-x","background-position-y","background-size-x","background-size-y"];return this.$reactiveDelete(this.info,t),e["background-repeat"]="no-repeat",e["background-position"]="0 0",e["background-size"]="auto auto",e}}},Gr=Vr,Wr=(n("dda0"),Object(v["a"])(Gr,Hr,Ur,!1,null,"1c8f17ee",null)),qr=Wr.exports,Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"大小位置",name:"size"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"width",t)},"update:style-attr":function(t){return e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{styleAttr:e.info.height},on:{"update:styleAttr":function(t){return e.$set(e.info,"height",t)},"update:style-attr":function(t){return e.$set(e.info,"height",t)}}})],1),e.showPosition?e._e():n("el-form-item",{attrs:{label:"居中"}},[n("el-switch",{attrs:{size:"mini"},model:{value:e.marginAuto,callback:function(t){e.marginAuto=t},expression:"marginAuto"}})],1),e.showPosition?n("editor-position",{attrs:{info:e.info}}):e._e(),n("el-form-item",{attrs:{label:"透明度"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:1,step:.1},model:{value:e.opacity,callback:function(t){e.opacity=e._n(t)},expression:"opacity"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:.1,max:1,step:.1,size:"mini",placeholder:"0-1"},model:{value:e.opacity,callback:function(t){e.opacity=e._n(t)},expression:"opacity"}})],1)])],1)],1),n("el-collapse-item",{attrs:{title:"对齐",name:"align"}},[n("align",{attrs:{info:e.info}})],1),n("el-collapse-item",{attrs:{title:"背景",name:"background"}},[n("editor-background",{attrs:{info:e.info}})],1),n("el-collapse-item",{attrs:{title:"边框",name:"border"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"样式"}},[n("div",{staticClass:"sliderWarp"},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.border.style,callback:function(t){e.$set(e.border,"style",t)},expression:"border.style"}},e._l(e.Metadata.style.borderStyle,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),1),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.border.color,callback:function(t){e.$set(e.border,"color",t)},expression:"border.color"}})],1)]),n("el-form-item",{attrs:{label:"宽度"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:50,step:1},model:{value:e.border.width,callback:function(t){e.$set(e.border,"width",e._n(t))},expression:"border.width"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:50,step:1,size:"mini",placeholder:"0-50"},model:{value:e.border.width,callback:function(t){e.$set(e.border,"width",e._n(t))},expression:"border.width"}})],1)]),n("el-form-item",{attrs:{label:"圆角"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:50,step:1},model:{value:e.borderRadius,callback:function(t){e.borderRadius=e._n(t)},expression:"borderRadius"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:50,step:1,size:"mini",placeholder:"0-50"},model:{value:e.borderRadius,callback:function(t){e.borderRadius=e._n(t)},expression:"borderRadius"}})],1)])],1)],1),n("el-collapse-item",{attrs:{title:"阴影",name:"boxShadow"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"阴影大小"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:-150,max:150,step:1},model:{value:e.boxShadow.spread,callback:function(t){e.$set(e.boxShadow,"spread",e._n(t))},expression:"boxShadow.spread"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:-150,max:150,step:1,size:"mini",placeholder:"+-150"},model:{value:e.boxShadow.spread,callback:function(t){e.$set(e.boxShadow,"spread",e._n(t))},expression:"boxShadow.spread"}})],1)]),n("el-form-item",{attrs:{label:"模糊半径"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:150,step:1},model:{value:e.boxShadow.blur,callback:function(t){e.$set(e.boxShadow,"blur",e._n(t))},expression:"boxShadow.blur"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:150,step:1,size:"mini",placeholder:"0-150"},model:{value:e.boxShadow.blur,callback:function(t){e.$set(e.boxShadow,"blur",e._n(t))},expression:"boxShadow.blur"}})],1)]),n("el-form-item",{attrs:{label:"横向偏移"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:-150,max:150,step:1},model:{value:e.boxShadow.x,callback:function(t){e.$set(e.boxShadow,"x",e._n(t))},expression:"boxShadow.x"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:-150,max:150,step:1,size:"mini",placeholder:"+-150"},model:{value:e.boxShadow.x,callback:function(t){e.$set(e.boxShadow,"x",e._n(t))},expression:"boxShadow.x"}})],1)]),n("el-form-item",{attrs:{label:"纵向偏移"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:-150,max:150,step:1},model:{value:e.boxShadow.y,callback:function(t){e.$set(e.boxShadow,"y",e._n(t))},expression:"boxShadow.y"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:-150,max:150,step:1,size:"mini",placeholder:"+-150"},model:{value:e.boxShadow.y,callback:function(t){e.$set(e.boxShadow,"y",e._n(t))},expression:"boxShadow.y"}})],1)]),n("el-form-item",{attrs:{label:"阴影颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.boxShadow.color,callback:function(t){e.$set(e.boxShadow,"color",t)},expression:"boxShadow.color"}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"边距",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"内边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:100,step:1},model:{value:e.padding,callback:function(t){e.padding=e._n(t)},expression:"padding"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:100,step:1,size:"mini",placeholder:"0-25"},model:{value:e.padding,callback:function(t){e.padding=e._n(t)},expression:"padding"}})],1)]),e.fixedOrAbsolute?e._e():[n("el-form-item",{attrs:{label:"上边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:250,step:1},model:{value:e.margin.top,callback:function(t){e.$set(e.margin,"top",e._n(t))},expression:"margin.top"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:250,step:1,size:"mini",placeholder:"0-25"},model:{value:e.margin.top,callback:function(t){e.$set(e.margin,"top",e._n(t))},expression:"margin.top"}})],1)]),n("el-form-item",{attrs:{label:"左边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:250,step:1},model:{value:e.margin.left,callback:function(t){e.$set(e.margin,"left",e._n(t))},expression:"margin.left"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:250,step:1,size:"mini",placeholder:"0-25"},model:{value:e.margin.left,callback:function(t){e.$set(e.margin,"left",e._n(t))},expression:"margin.left"}})],1)]),n("el-form-item",{attrs:{label:"右边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:250,step:1},model:{value:e.margin.right,callback:function(t){e.$set(e.margin,"right",e._n(t))},expression:"margin.right"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:250,step:1,size:"mini",placeholder:"0-25"},model:{value:e.margin.right,callback:function(t){e.$set(e.margin,"right",e._n(t))},expression:"margin.right"}})],1)]),n("el-form-item",{attrs:{label:"下边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:250,step:1},model:{value:e.margin.bottom,callback:function(t){e.$set(e.margin,"bottom",e._n(t))},expression:"margin.bottom"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:250,step:1,size:"mini",placeholder:"0-25"},model:{value:e.margin.bottom,callback:function(t){e.$set(e.margin,"bottom",e._n(t))},expression:"margin.bottom"}})],1)])]],2)],1),n("el-collapse-item",{attrs:{title:"文字样式",name:"text"}},[n("editor-text",{attrs:{info:e.info}})],1)],1)],1)},Jr=[];function Yr(e,t){return Qr(e)||Zr(e,t)||ts(e,t)||Xr()}function Xr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function Qr(e){if(Array.isArray(e))return e}function es(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ts(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function ts(e,t){if(e){if("string"===typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,t):void 0}}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var os={mixins:[f["a"]],name:"BaseStyleEditor",components:{Num:sr,EditorBackground:qr,Align:No,EditorPosition:_r,EditorText:zr},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{showPosition:!1,activeNames:["size","border","align","background","border","boxShadow","margin","text"],padding:0,borderRadius:0,border:{style:"",width:0,color:""},opacity:1,margin:{left:0,right:0,top:0,bottom:0},boxShadow:{spread:0,blur:0,x:0,y:0,color:"rgba(0,0,0,1)",inset:""}}},computed:{fixedOrAbsolute:function(){return!(!this.info.position||"fixed"!=this.info.position&&"absolute"!=this.info.position)},marginAuto:{get:function(){var e=this.info;return/^\s*auto/.test(e["margin-left"])&&/^\s*auto/.test(e["margin-right"])},set:function(e){e?(this.$set(this.info,"margin-left","auto"),this.$set(this.info,"margin-right","auto")):(this.$delete(this.info,"margin-left"),this.$delete(this.info,"margin-right"))}},boxShadowStr:{get:function(){return"".concat(this.boxShadow.x,"px ").concat(this.boxShadow.y,"px ").concat(this.boxShadow.blur,"px ").concat(this.boxShadow.spread?this.boxShadow.spread+"px":""," ").concat(this.boxShadow.color||""," ").concat(this.boxShadow.inset||"").trim()},set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.replace(/,\s+/g,",").split(/\s+/),o=[],a="",i="",r=es(n);try{for(r.s();!(e=r.n()).done;){var s=e.value;/^-?[\d.]+/.test(s)?o.push(parseFloat(s)):/inset/.test(s)?a="inset":/^(#|rgb)/.test(s)&&(i=s.replace(/,\s*/g,", "))}}catch(g){r.e(g)}finally{r.f()}var c=o[0],l=void 0===c?0:c,d=o[1],u=void 0===d?0:d,p=o[2],m=void 0===p?0:p,f=o[3],h=void 0===f?0:f;this.boxShadow={x:l,y:u,blur:m,spread:h,color:i,inset:a}}},marginStr:{get:function(){var e=this;return["top","right","bottom","left"].map((function(t){return"".concat(e.margin[t]||0,"px")})).join(" ")},set:function(e){var t=I["c"].trbl(e,"");this.margin=Object.keys(t).reduce((function(e,n){var o=t[n];return e[n]=/px$/.test(o)?parseFloat(o):o||0,e}),{})}},borderStr:{set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t.replace(/,\s+/g,",").split(/\s+/),o="",a=0,i="",r=es(n);try{for(r.s();!(e=r.n()).done;){var s=e.value;/^(rgba|#)/.test(s)&&(o=s.replace(/,\s*/g,", ")),/^[\d.]+/.test(s)&&(a=parseFloat(s)),/^[a-z]+$/.test(s)&&(i=s)}}catch(c){r.e(c)}finally{r.f()}this.border={color:o,width:a,style:i}},get:function(){return"".concat(this.border.style," ").concat(this.border.width,"px ").concat(this.border.color)}},borderRadiusStr:{get:function(){return this.borderRadius+"px"},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.borderRadius=parseFloat(e)||0}},paddingStr:{set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.padding=parseFloat(e)||0},get:function(){return this.padding+"px"}}},watch:{boxShadowStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$set(this.info,"box-shadow",e)},marginStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$set(this.info,"margin",e)},borderStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$set(this.info,"border",e)},borderRadiusStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$set(this.info,"border-radius",e)},paddingStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$set(this.info,"padding",e)},opacity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$set(this.info,"opacity",e)},info:{deep:!0,handler:function(e,t){this.showPosition=window.$vue&&!window.$vue.isRootNode&&this.fixedOrAbsolute,this.boxShadowStr=e["box-shadow"],this.marginStr=e["margin"],this.borderStr=e["border"],this.borderRadiusStr=e["border-radius"],this.paddingStr=e["padding"],this.opacity=e["opacity"]||1},immediate:!0}},mounted:function(){},methods:{makeCssCode:function(){var e=[];if(this.info){for(var t in this.info)if(this.info.hasOwnProperty(t)&&"bakedPosition"!=t){var n=this.info[t];n&&e.push([t,n])}e=e.sort((function(e,t){return(e[0]&&e[0].length)>(t[0]&&t[0].length)?1:-1})),e=e.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Yr(e,2),n=t[0],o=t[1];return"".concat(n," : ").concat(o,";")})).join("\n    ")}else e="";this.cssCode=".in{\n    ".concat(e,"\n}")},saveCss:function(e,t){var n={},o=this.cssCode;o=o.match(/.*\n/gi)||[],o.forEach((function(e){var t=e.split(/:(?!\/\/)/);if(2==t.length){var o=t[0].trim(),a=t[1].trim().replace(/;$/,"");"null"!==a&&(n[o]=a)}})),this.$emit("update:info",n)}}},as=os,is=(n("7ef4"),Object(v["a"])(as,Kr,Jr,!1,null,"0fa38811",null)),rs=is.exports,ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"大小",name:"size"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"width",t)},"update:style-attr":function(t){return e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.height},on:{"update:styleAttr":function(t){return e.$set(e.info,"height",t)},"update:style-attr":function(t){return e.$set(e.info,"height",t)}}})],1),n("el-form-item",{attrs:{label:"最大宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["max-width"],max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"max-width",t)},"update:style-attr":function(t){return e.$set(e.info,"max-width",t)}}})],1),n("el-form-item",{attrs:{label:"最大高度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["max-height"]},on:{"update:styleAttr":function(t){return e.$set(e.info,"max-height",t)},"update:style-attr":function(t){return e.$set(e.info,"max-height",t)}}})],1),n("el-form-item",{attrs:{label:"最小宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["min-width"],max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"min-width",t)},"update:style-attr":function(t){return e.$set(e.info,"min-width",t)}}})],1),n("el-form-item",{attrs:{label:"最小高度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["min-height"]},on:{"update:styleAttr":function(t){return e.$set(e.info,"min-height",t)},"update:style-attr":function(t){return e.$set(e.info,"min-height",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"位置",name:"position"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"模式"}},[n("el-select",{attrs:{placeholder:"定位类型"},model:{value:e.info.position,callback:function(t){e.$set(e.info,"position",t)},expression:"info.position"}},e._l(["relative","absolute"],(function(t){return n("el-option",{key:t,attrs:{label:t,value:t,title:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t}})])})),1)],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.left},on:{"update:styleAttr":function(t){return e.$set(e.info,"left",t)},"update:style-attr":function(t){return e.$set(e.info,"left",t)}}})],1),n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.top,max:900},on:{"update:styleAttr":function(t){return e.$set(e.info,"top",t)},"update:style-attr":function(t){return e.$set(e.info,"top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.right},on:{"update:styleAttr":function(t){return e.$set(e.info,"right",t)},"update:style-attr":function(t){return e.$set(e.info,"right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.bottom},on:{"update:styleAttr":function(t){return e.$set(e.info,"bottom",t)},"update:style-attr":function(t){return e.$set(e.info,"bottom",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"背景",name:"background"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"图片"}},[n("resource",{attrs:{type:"image",url:e.backgroundImage},on:{"update:url":function(t){e.backgroundImage=t}}})],1),n("el-form-item",{attrs:{label:"颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["background-color"],callback:function(t){e.$set(e.info,"background-color",t)},expression:"info['background-color']"}})],1),e.backgroundImage?[n("el-form-item",{attrs:{label:"repeat"}},[n("el-select",{model:{value:e.info["background-repeat"],callback:function(t){e.$set(e.info,"background-repeat",t)},expression:"info['background-repeat']"}},e._l(e.backgroundRepeat,(function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})})),1)],1),n("el-form-item",{attrs:{label:"size"}},[n("el-select",{model:{value:e.info["background-size"],callback:function(t){e.$set(e.info,"background-size",t)},expression:"info['background-size']"}},e._l(e.backgroundSize,(function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})})),1)],1),n("el-form-item",{attrs:{label:"position"}},[n("el-select",{model:{value:e.info["background-position"],callback:function(t){e.$set(e.info,"background-position",t)},expression:"info['background-position']"}},e._l(e.backgroundPosition,(function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})})),1)],1)]:e._e()],2)],1),n("el-collapse-item",{attrs:{title:"内边距",name:"padding"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-top"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-top",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-right"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-right",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-bottom"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-bottom",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-left"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"padding-left",t)},"update:style-attr":function(t){return e.$set(e.info,"padding-left",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"外边距",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-top"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-top",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-right"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-right",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-bottom"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-bottom",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-left"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"margin-left",t)},"update:style-attr":function(t){return e.$set(e.info,"margin-left",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"边框",name:"border"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["border-width"],min:0,max:50},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-width",t)},"update:style-attr":function(t){return e.$set(e.info,"border-width",t)}}})],1),n("el-form-item",{attrs:{label:"样式"}},[n("el-select",{attrs:{placeholder:"边框样式"},model:{value:e.info["border-style"],callback:function(t){e.$set(e.info,"border-style",t)},expression:"info['border-style']"}},e._l(e.borderStyle,(function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})})),1)],1),n("el-form-item",{attrs:{label:"颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-color"],callback:function(t){e.$set(e.info,"border-color",t)},expression:"info['border-color']"}})],1),n("el-form-item",{attrs:{label:"圆角"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["border-radius"],max:500},on:{"update:styleAttr":function(t){return e.$set(e.info,"border-radius",t)},"update:style-attr":function(t){return e.$set(e.info,"border-radius",t)}}})],1)],1)],1)],1)],1)},cs=[],ls={backgroundSize:[{val:"contain",desc:"contain"},{val:"cover",desc:"cover"},{val:"none",desc:"none"},{val:"scaleDown",desc:"scaleDown"},{val:"100% 100%",desc:"fill"},{val:"100% auto",desc:"fitWidth"},{val:"auto 100%",desc:"fitHeight"}],backgroundRepeat:[{val:"repeat",desc:"repeat"},{val:"repeat-x",desc:"repeat-x"},{val:"repeat-y",desc:"repeat-y"},{val:"no-repeat",desc:"no-repeat"}],backgroundPosition:[{val:"left top",desc:"left top"},{val:"center top",desc:"center top"},{val:"right top",desc:"right top"},{val:"left center",desc:"left center"},{val:"center",desc:"center"},{val:"center center",desc:"center center"},{val:"right center",desc:"right center"},{val:"left bottom",desc:"left bottom"},{val:"center bottom",desc:"center bottom"},{val:"right bottom",desc:"right bottom"}],borderStyle:[{val:"solid",desc:"solid"},{val:"none",desc:"none"}]},ds={mixins:[f["a"]],name:"BaseStyleEditor",components:{Num:sr,Resource:un},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{activeNames:["size","position","border","align","background","border","padding","margin","text"],backgroundSize:ls.backgroundSize,backgroundRepeat:ls.backgroundRepeat,backgroundPosition:ls.backgroundPosition,borderStyle:ls.borderStyle}},computed:{backgroundImage:{get:function(){var e=this.info["background-image"];return e?e.replace(/url\(['"\s]*(.+?)['"\s]*\)/,"$1"):null},set:function(e){e?this.$set(this.info,"background-image","url('".concat(e,"')")):this.$set(this.info,"background-image",null)}}},watch:{},mounted:function(){},methods:{}},us=ds,ps=(n("17f5"),Object(v["a"])(us,ss,cs,!1,null,"7412befb",null)),ms=ps.exports;function fs(e,t){return vs(e)||ys(e,t)||gs(e,t)||hs()}function hs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gs(e,t){if(e){if("string"===typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(e,t):void 0}}function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ys(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function vs(e){if(Array.isArray(e))return e}var ws={mixins:[f["a"]],name:"AdvancedStyleEditor",components:{EditorBase:rs,EditorFlutter:ms,EditorLayout:ur,EditorSize:br,EditorPosition:_r,EditorBorder:Ir,EditorRadius:Dr,EditorText:zr,EditorBackground:qr,CodeEditor:Ht["a"],Align:No},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{activeName:"base",styleType:"editor",cssCode:"",lists:[{label:"对齐",component:"Align"},{label:"宽高",component:"EditorSize"},{label:"定位",component:"EditorPosition"},{label:"内外边距",component:"EditorLayout"},{label:"边框",component:"EditorBorder"},{label:"圆角",component:"EditorRadius"},{label:"背景",component:"EditorBackground"},{label:"文字样式",component:"EditorText"}],currentPage:"",activeNames:[0,1,2,3,4,5,6]}},computed:{flutter:function(){return 1==this.$store.state.viewOption.pageType}},watch:{flutter:{handler:function(e){this.activeName=e?"flutter":"base"},immediate:!0},info:{deep:!0,handler:function(e,t){var n=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(e){n.makeCssCode()}),0)}}},mounted:function(){this.styleType=window.localStorage.getItem("styleEditorType")||"editor",this.makeCssCode()},methods:{changeStyleType:function(){"editor"==this.styleType?this.styleType="code":this.styleType="editor",window.localStorage.setItem("styleEditorType",this.styleType)},makeCssCode:function(){var e=[];if(this.info){for(var t in this.info)if(this.info.hasOwnProperty(t)&&"bakedPosition"!=t){var n=this.info[t];n&&e.push([t,n])}e=e.sort((function(e,t){return(e[0]&&e[0].length)>(t[0]&&t[0].length)?1:-1})),e=e.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=fs(e,2),n=t[0],o=t[1];return"".concat(n," : ").concat(o,";")})).join("\n    ")}else e="";this.cssCode=".in{\n    ".concat(e,"\n}")},saveCss:function(e,t){var n={},o=this.cssCode;for(var a in o=o.match(/.*\n/gi)||[],o.forEach((function(e){var t=e.split(/:(?!\/\/)/);if(2==t.length){var o=t[0].trim(),a=t[1].trim().replace(/;$/,"");"null"!==a&&(n[o]=a)}})),this.info)n[a]||(console.log("删除没用的元素",a),this.$delete(this.info,a));for(var i in n)console.log(i,n[i]),this.$set(this.info,i,n[i])}}},ks=ws,xs=(n("67e1"),Object(v["a"])(ks,Zi,Qi,!1,null,"4898ab3a",null)),_s=xs.exports,$s={mixins:[f["a"]],name:"StyleEditor",components:{EditorAdvanced:_s},props:{active:{type:[Number,Boolean],default:0}},data:function(){return{info:null,forbidEdit:!1,nodeId:null}},watch:{isBase:function(e){window.localStorage.setItem("editorStyleStatus",e)},active:function(e){this.active&&(this.info=window.$vue&&window.$vue.nodeInfo.style,this.nodeId=window.$vue&&window.$vue.nodeInfo.id)}},mounted:function(){var e=this,t=this;this.info=window.$vue&&window.$vue.nodeInfo.style,this.nodeId=window.$vue&&window.$vue.nodeInfo.id,this.ema.bind("select.oneInfo",(function(e){var n=e.vm;t.info=n.nodeInfo.style,t.nodeId=n.nodeInfo.id})),this.ema.bind("edit-type.change",(function(t){e.forbidEdit="EDITOR"!==t})),this.ema.bind("select.noOne",(function(){e.info=null,e.nodeId=null}))},methods:{}},Cs=$s,Ss=(n("59da"),Object(v["a"])(Cs,Yi,Xi,!1,null,"23b091d8",null)),js=Ss.exports,Es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-panel ns65536"},[e.codes&&e.codes.length||e.showSearchPanel?[n("el-tabs",{attrs:{closable:"",type:"card"},on:{"tab-remove":e.onTabRemove},model:{value:e.currentCode,callback:function(t){e.currentCode=t},expression:"currentCode"}},[e._l(e.codes,(function(t){return n("el-tab-pane",{key:t.key,attrs:{label:t.name,name:t.key}},[n("span",{staticStyle:{display:"inline-block",height:"28px"},attrs:{slot:"label",title:t.comId+"_"+t.name+"_"+t.id},slot:"label"},[e._v(e._s(t.name)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.dirty,expression:"item.dirty"}]},[e._v("*")])]),n("code-editor",{attrs:{ctype:"javascript",highlight:t.highlight,dirty:t.dirty,ctrls:!0,options:{},contents:t.content},on:{"update:dirty":function(n){return e.$set(t,"dirty",n)},ctrls:t.onSave}})],1)})),e.showSearchPanel?n("el-tab-pane",{attrs:{label:"搜索",name:"SEARCHRESULT"}},[n("span",{staticStyle:{display:"inline-block",height:"28px"},attrs:{slot:"label"},slot:"label"},[n("i",{class:{"el-icon-search":!e.searching,"el-icon-loading":e.searching}}),n("i",{}),e._v(" 搜索")]),n("div",{staticClass:"search-section"},[n("el-input",{staticStyle:{width:"40%"},attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[n("el-checkbox-group",{attrs:{slot:"append",size:"mini"},slot:"append",model:{value:e.pickedSearchRules,callback:function(t){e.pickedSearchRules=t},expression:"pickedSearchRules"}},e._l(e.searchRules,(function(t){return n("el-checkbox-button",{key:t.type,attrs:{label:t.type}},[e._v(e._s(t.name))])})),1)],1),n("div",{staticClass:"search-result"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"__NULL__"===e.searchResult,expression:"searchResult === '__NULL__'"}],staticStyle:{"font-size":"12px",margin:"7px 3px"}},[e._v("找不到结果")]),e.searchResult&&e.searchResult.map?e._l(e.searchResult,(function(t,o){return n("div",{key:o,staticClass:"search-result-item"},[n("i",{staticClass:"iconfont icon-function"}),n("div",{staticClass:"search-result-path"},[e._v("\n                  "+e._s(t.file.name)+"\n                  "),n("span",[e._v(e._s(t.comId)+" "),n("i",[e._v(">")]),e._v(" "+e._s(t.file.name)+e._s(t.file.id))])]),n("div",{staticClass:"search-result-content",on:{click:function(n){return e.openFile(t.file,{comId:t.comId,highlight:t.highlight})}}},[e._v("\n                  "+e._s(t.snippet[0])),n("i",{staticClass:"highlight"},[e._v(e._s(t.snippet[1]))]),e._v(e._s(t.snippet[2])+"\n                ")])])})):e._e()],2)],1)]):e._e()],2)]:n("div",{staticClass:"codepanel-hint",staticStyle:{"padding-top":"1px","pointer-events":"none"}},[n("div",{staticClass:"codepanel-logo"},[e._v("GODSPEN")]),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5)])],2)},Is=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("脚本全局搜索")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+shift+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("保存脚本")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+S")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("脚本内查找")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("替换")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+H")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("格式化代码")]),n("div",{staticClass:"hint-item-right"},[e._v("shift+alt+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("显式所有命令")]),n("div",{staticClass:"hint-item-right"},[e._v("F1")])])}];function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ns="SEARCHRESULT",Ps={mixins:[f["a"]],name:"code-panel",components:{CodeEditor:Ht["a"]},data:function(){return{currentCode:"",codes:[],showSearchPanel:!1,searching:!1,keyword:"",searchResult:[],pickedSearchRules:[],searchRules:[{type:"caseSensitive",name:"Aa"},{type:"useReg",name:".*"}]}},computed:{ids:function(){return(this.codes||[]).map((function(e){return e.key}))},activeComponentId:function(){return this.currentCode.split("_")[0]},useReg:function(){return this.pickedSearchRules.includes("useReg")},ignoreCase:function(){return!this.pickedSearchRules.includes("caseSensitive")}},beforeMount:function(){window.$CodePanel=this},mounted:function(){var e=this;this.ema.bind("script.rename",(function(t){var n=t.key,o=t.name;e.codes.map((function(e){e.key===n&&(e.name=o)}))})),this.ema.bind("script.delete",(function(t){var n=t.key;e.codes.map((function(t,o){t.key===n&&e.closeFile(o,t)}))})),this.ema.bind("ctrl.shift.f.up",(function(t){"widgetCodePanel"===t.panelName&&(e.showSearchPanel=!0,e.currentCode=Ns)}))},watch:{activeComponentId:function(e,t){e&&"0"!==e&&e!==Ns&&this.ema.fire("select.one",e)}},destroyed:function(){delete window.$CodePanel},methods:{onTabRemove:function(e){var t=this;if(console.log("start",Date.now()),e===Ns)return this.closeFile(Ns);this.codes.map((function(n,o){n.key===e&&(n.dirty?t.$confirm("尚有未保存内容，直接关闭会丢失未保存改动，确认要关闭吗？",{confirmButtonText:"直接关闭",cancelButtonText:"我再想想"}).then((function(){return t.closeFile(o)})).catch((function(e){return console.log("放弃编辑内容")})):t.closeFile(o))})),console.log("end",Date.now())},openFile:function(e,t){var n=t.comId,o=t.highlight;this.ema.fire("dock.panelActive","widgetCodePanel");var a=this;if(e){e.id||this.$set(e,"id",65536+(65536*Math.random()|0));var i="".concat(n,"_").concat(e.id),r=this.ids.indexOf(i);if(r>-1){var s=this.codes[r];return"highlight"in s?s.highlight=o:this.$set(s,"highlight",o),void(this.currentCode=i)}this.codes.push(As(As({},e),{},{comId:n,key:i,highlight:o,dirty:!1,onSave:function(t){e.content=t,a.$message({type:"success",message:"已保存"})}})),this.currentCode=i}},closeFile:function(e,t){if(e===Ns)return this.showSearchPanel=!1,void(this.currentCode=this.currentCode===Ns?this.codes[this.codes.length-1].key:this.currentCode);this.codes.splice(e,1),e==this.codes.length&&(e-=1),e<0||this.codes.length<=0||(this.currentCode=this.codes[e].key)},doSearch:function(){var e=(this.keyword||"").trim();if(e.length){var t,n,o;this.searching=!0;try{e=this.useReg?e:e.replace(/[.*/?|()\[\]{}\^$\\]/g,(function(e){return"\\".concat(e)})),t=new RegExp(e,this.ignoreCase?"mgi":"mg"),n=window.$app.info,o=a(n),o&&0!=o.length||(o="__NULL__"),this.searchResult=o}catch(i){this.ema.fire("bughd.open",i)}this.searching=!1}function a(e){var n=(e.script instanceof Array?e.script:[]).reduce((function(n,o){var a,i=o&&o.content||String(o),r=[];while(a=t.exec(i),a){var s=a.index,c=a[0];c&&c.length&&r.push([i.slice(Math.max(0,s-90),s),c,i.slice(a.index+c.length,a.index+90),i.slice(0,a.index)])}return n=n.concat((r||[]).map((function(t){var n=t[3].split(/[\n]/m)||[],a=n[n.length-1]||"";return{file:o,snippet:t,highlight:{line:n&&n.length||1,start:a.length+1,end:a.length+t[1].length+1},comId:e.id}}))),n}),[]),o=(e.child||[]).map(a).reduce((function(e,t){return e.concat(t)}),[]);return n.concat(o)}}}},Ds=Ps,Ms=(n("4a5a"),n("d3d6"),Object(v["a"])(Ds,Es,Is,!1,null,"d92da6c6",null)),Ls=Ms.exports,Fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shop"},[n("iframe",{ref:"shop",staticClass:"shop-frame",attrs:{src:e.shopUrl,frameborder:"0"}})])},Bs=[];function Rs(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function zs(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){Rs(i,o,a,r,s,"next",e)}function s(e){Rs(i,o,a,r,s,"throw",e)}r(void 0)}))}}var Hs={mixins:[f["a"]],name:"widgetShop",components:{},props:{},data:function(){return{}},created:function(){window.addEventListener("message",this.onMessage,!1)},beforeDestroy:function(){window.removeEventListener("message",this.onMessage)},computed:{shopUrl:function(){return this.Config.SHOP}},methods:{getSelfComponents:function(){var e=zs(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(A["a"])({url:"component/searchByName",method:"post",needLoading:!1,data:{tags:[],type:0,name:"",onlyMine:!0}}).then((function(e){var t=e.data;return t.data&&t.data.list||null})).catch((function(e){return console.error(e),null}));case 2:if(t=e.sent,t&&t.length){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.name||"noop").replace(/^.+\//,"");return e[n]={name:n,version:t.version},e}),{}));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),onMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=t||{},o=n.action,a=n.payload;switch(o){case"component.import":this.resourcesImport(a);break;case"shop.loaded":this.onShopLoaded();break}},resourcesImport:function(e){var t=this;Object(A["a"])({url:"component/import",method:"post",needLoading:!0,data:{id:e.id,token:e.token}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data;500==n.code?t.$alert(n.msg):(t.$alert("导入成功"),t.ema.fire("components.refresh"),t.onShopLoaded())})).catch(console.error)},onShopLoaded:function(){var e=zs(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSelfComponents();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:n=this.$refs.shop.contentWindow,n&&n.postMessage({action:"mycomponent.sync",payload:t},"*");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Us=Hs,Vs=(n("ee76"),Object(v["a"])(Us,Fs,Bs,!1,null,"288331de",null)),Gs=Vs.exports;function Ws(){s.a.component("widgetScene",Go),s.a.component("widgetPageTemplate",ia),s.a.component("widgetAttribute",Ua),s.a.component("widgetComponent",ua),s.a.component("widgetComponentTree",Ja),s.a.component("widgetStyleEditor",js),s.a.component("widgetScriptEditor",ui),s.a.component("widgetAnimate",zi),s.a.component("widgetPageInfo",Ji),s.a.component("widgetComponentInfo",ka),s.a.component("widgetCombinedComponents",ti),s.a.component("widgetCodePanel",Ls),s.a.component("widgetShop",Gs)}var qs={install:Ws},Ks=n("028e"),Js={mixin:Ks["a"]},Ys=Js,Xs={searchParams:"URLSearchParams"in window,iterable:"Symbol"in window&&"iterator"in Symbol,blob:"FileReader"in window&&"Blob"in window&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in window,arrayBuffer:"ArrayBuffer"in window};function Zs(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Xs.arrayBuffer)var Qs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ec=ArrayBuffer.isView||function(e){return e&&Qs.indexOf(Object.prototype.toString.call(e))>-1};function tc(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");var t=["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Ranges","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-Type","Date","Expect","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Pragma","Proxy-Authorization","Range","Referer","TE","Upgrade","User-Agent","Via","Warning","Accept-Ranges","Age","Allow","Cache-Control","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-MD5","Content-Range","Content-Type","Date","ETag","Expires","Last-Modified","Location","Pragma","Proxy-Authenticate","refresh","Retry-After","Server","Set-Cookie","Trailer","Transfer-Encoding","Vary","Via","Warning","WWW-Authenticate"].some((function(t){return new RegExp(t,"i").test(e)}));return t?e.toLowerCase():e}function nc(e){return"string"!==typeof e&&(e=String(e)),e}function oc(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Xs.iterable&&(t[Symbol.iterator]=function(){return t}),t}function ac(e){this.map={},e instanceof ac?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ic(e){e.bodyUsed=!0}function rc(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function sc(e){var t=new FileReader,n=rc(t);return t.readAsArrayBuffer(e),n}function cc(e){var t=new FileReader,n=rc(t);return t.readAsText(e),n}function lc(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}function dc(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function uc(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:Xs.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Xs.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Xs.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Xs.arrayBuffer&&Xs.blob&&Zs(e)?(this._bodyArrayBuffer=dc(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Xs.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ec(e))?this._bodyArrayBuffer=dc(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Xs.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Xs.blob&&(this.blob=function(){var e=ic(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ic(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(sc)}),this.text=function(){var e=ic(this);if(e)return e;if(this._bodyBlob)return cc(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(lc(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Xs.formData&&(this.formData=function(){return this.text().then(hc)}),this.json=function(){return this.text().then(JSON.parse)},this}ac.prototype.append=function(e,t){e=tc(e),t=nc(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},ac.prototype["delete"]=function(e){delete this.map[tc(e)]},ac.prototype.get=function(e){return e=tc(e),this.has(e)?this.map[e]:null},ac.prototype.has=function(e){return this.map.hasOwnProperty(tc(e))},ac.prototype.set=function(e,t){this.map[tc(e)]=nc(t)},ac.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},ac.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),oc(e)},ac.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),oc(e)},ac.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),oc(e)},Xs.iterable&&(ac.prototype[Symbol.iterator]=ac.prototype.entries);var pc=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function mc(e){var t=e.toUpperCase();return pc.indexOf(t)>-1?t:e}function fc(e,t){t=t||{};var n=t.body;if(e instanceof fc){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new ac(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new ac(t.headers)),this.method=mc(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function hc(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(a))}})),t}function gc(e){var t=new ac,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var a=n.join(":").trim();t.append(o,a)}})),t}function bc(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new ac(t.headers),this.url=t.url||"",this._initBody(e)}fc.prototype.clone=function(){return new fc(this,{body:this._bodyInit})},uc.call(fc.prototype),uc.call(bc.prototype),bc.prototype.clone=function(){return new bc(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ac(this.headers),url:this.url})},bc.error=function(){var e=new bc(null,{status:0,statusText:""});return e.type="error",e};var yc=[301,302,303,307,308];bc.redirect=function(e,t){if(-1===yc.indexOf(t))throw new RangeError("Invalid status code");return new bc(null,{status:t,headers:{location:e}})};var vc=window.DOMException;try{new vc}catch(Ac){vc=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},vc.prototype=Object.create(Error.prototype),vc.prototype.constructor=vc}function wc(e,t){return new Promise((function(n,o){var a=new fc(e,t);if(a.signal&&a.signal.aborted)return o(new vc("Aborted","AbortError"));var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:gc(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new bc(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.onabort=function(){o(new vc("Aborted","AbortError"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&Xs.blob&&(i.responseType="blob"),a.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",r),i.onreadystatechange=function(){4===i.readyState&&a.signal.removeEventListener("abort",r)}),i.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}function kc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function xc(e,t){return jc(e)||Sc(e,t)||$c(e,t)||_c()}function _c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $c(e,t){if(e){if("string"===typeof e)return Cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(e,t):void 0}}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Sc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(Ac){s=!0,a=Ac}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function jc(e){if(Array.isArray(e))return e}function Ec(){}window.Truck=window.$GP={Util:xe["a"],ESlog:{pageview:Ec,track:Ec,getFingerPrint:Ec},Maliang:Ys,Env:{},Native:{},Server:{fetch:wc}},window.Truck.Maliang=Ys,window.$GP.VueExtend=Ys,window.Vue=s.a,s.a.use(dt.a),s.a.use(qs),s.a.use(vn),s.a.prototype.$reactiveSet=function(e,t){for(var n=0,o=Object.entries(t);n<o.length;n++){var a=xc(o[n],2),i=a[0],r=a[1];this.$set(e,i,r)}},s.a.prototype.$reactiveDelete=function(e,t){var n,o=kc(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.$delete(e,a)}}catch(Ac){o.e(Ac)}finally{o.f()}},window.resourceEndTime=new Date-0,window.EMA=ct.a;var Ic=s.a.config.optionMergeStrategies;Ic.editorMethods=Ic.methods,Ic.editerMethods=Ic.methods;var Oc=new s.a({store:Mt,render:function(e){return e(rt)}});Oc.$mount("#app"),window.onbeforeunload=function(){var e="确认退出?";return e},window.onunload=function(){},Lt["languages"].registerCompletionItemProvider("javascript",{provideCompletionItems:function(){return Bt||[]}}),function(){var e,t=Object.keys(localStorage).filter((function(e){return/EditorautoSave/.test(e)})),n=10,o=t.length>n?t.slice(n-t.length):[],a=kc(o);try{for(a.s();!(e=a.n()).done;){var i=e.value;localStorage.removeItem(i)}}catch(Ac){a.e(Ac)}finally{a.f()}}()},"8f22":function(e,t,n){"use strict";n("1ab2")},"8fc5":function(e,t,n){},"922e":function(e,t,n){},9434:function(e,t,n){},"96d6":function(e,t,n){},9962:function(e,t,n){},"9b21":function(e,t,n){},"9b64":function(e,t,n){"use strict";n("fe0f")},"9d64":function(e,t,n){e.exports=n.p+"static/img/logo.4f076a82.png"},"9dfc":function(e,t,n){"use strict";n("0e83")},a28e:function(e,t){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},a559:function(e,t,n){"use strict";n("8a43")},a57d:function(e,t,n){"use strict";n("61b3")},a700:function(e,t,n){},a7fe:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return I}));var o=n("8bbf"),a=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return u(e)||d(e,t)||c(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function u(e){if(Array.isArray(e))return e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e){var t=window.document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){for(var e,n={},o=t.search.replace(/^\?/,"").split("&"),a=o.length,i=0;i<a;i++)o[i]&&(e=o[i].split("="),n[e[0]]=e[1]);return n}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;t=t.split(".");var o=t.pop(),a=e;try{a=t.reduce((function(e,t){return e&&"object"===p(e)||(e={}),e[t]&&"object"===p(e[t])||(e[t]={}),e[t]}),e)}catch(i){console.error(i)}return a[o]=n,e}function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{e=n.split(".").reduce((function(e,t){return e&&e[t]}),t)}catch(o){console.error(o)}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"child",i=[];function r(e){var l=e[a];return l&&l.length&&(l=l.map((function(e){return r(e)}))),(!e[o]||s(t,e[o])&&!s(n,e[o])||s(i,e[o]))&&(e[o]=c(e[o]),i.push(e[o])),e}function s(e,t){return e.indexOf(t)>-1}function c(e){var t;while(!t||s(i,t))t="".concat(e||"").concat((1296*Math.random()|0).toString(36).padStart(2,"0"));return t}return r(e)}function b(e){var t=e.getBoundingClientRect(),n={x:t.left+t.width/2,y:t.top+t.height/2};return{top:n.y-e.offsetHeight/2,left:n.x-e.offsetWidth/2}}function y(e){var t=window.innerWidth,n=window.innerHeight,o=b(e),a=x(e);"stage"==e.id&&(a={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});var i={bottom:n-e.offsetHeight-o.top-a.marginBottom,height:e.offsetHeight,left:o.left-a.marginLeft,right:t-o.left-e.offsetWidth-a.marginRight,top:o.top-a.marginTop,width:e.offsetWidth,x:o.left,y:o.top};return i}function v(e,t){if(!e||!t)return{width:0,height:0,left:0,top:0};var n=e.style.position||window.getComputedStyle(e).position,o="appWarp"==t.getAttribute("id");(o||"fixed"===n)&&(t=document.getElementById("stage"));var a=[t,e].map((function(e){return y(e)})),i=r(a,2),s=i[0],c=i[1];console.log(s,c);var l={left:null,top:null,width:c.width,height:c.height,rect:c,parentRect:s,bottom:null,right:null};switch(n){case"relative":var d=k(e,t);l.left=d.left,l.top=d.top;break;case"absolute":l.left=c.left-s.left,l.top=c.top-s.top;break;case"fixed":l.left=c.left-s.left,l.top=c.top-s.top,l.right=c.right-s.right,l.bottom=c.bottom-s.bottom,w(e.style.right)||(l.rightControl=!0),w(e.style.bottom)||(l.bottomControl=!0);break}return console.log(l),l}function w(e){return"unset"===e||"initial"===e||isNaN(parseFloat(e))||_(e)}function k(e,t){var n=window.getComputedStyle(e),o=t.getBoundingClientRect(),a={left:i(n.left,o.width),bottom:i(n.bottom,o.height),right:i(n.right,o.width),top:i(n.top,o.height)};return a.top||(a.top=-(parseInt(a.bottom)||0)),a.left&&(a.left=-(parseInt(a.right)||0)),a;function i(e,t){return t=parseInt(t),"auto"!=e&&e?/%$/.test(e)?t*parseFloat(e)/100|0:parseInt(e):0}}function x(e){return["marginTop","marginRight","marginBottom","marginLeft"].reduce((function(t,n){var o=window.getComputedStyle(e)[n];return t[n]=parseFloat(o)||0,t}),{})}function _(e){return null===e||void 0===e}function $(e){return _(e)||""===e}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return 0===e||"0"===e?0:!e||isNaN(Number(e))?t:Number(e)}function S(e){return new Promise((function(t){return setTimeout(t,e)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,o=void 0===n?"get":n;return new Promise((function(t,n){var a=new XMLHttpRequest;a.onload=function(){var e=a.response;try{e=JSON.parse(a.response)}catch(n){console.log(n)}t(e)},a.onerror=n,a.onabort=n,a.open(o,e),a.send()}))}function E(e,t){return!!e&&(e.leaf?{can:!1,msg:"不能为当前选中节点添加子组件"}:e.childLimit&&e.child&&e.child.length>=e.childLimit?{can:!1,msg:"当前选中节点最多可添加".concat(e.childLimit,"个子组件，已达限额")}:t.packed||t.packedChild?{can:!1,msg:"组件已封装，无法向其添加子组件"}:{can:!0})}function I(e,t){return t="goodbye_".concat(t),1==window.localStorage.getItem(t)?Promise.resolve("confirm"):a.a.prototype.$confirm("".concat(e,"\n    <div style='position: absolute;left: 14px;bottom: 0;transform: translateY(42px);font-size: 12px;'>\n      不再提醒 <input type=\"checkbox\" onchange=\"javascript: var val = event.target.checked; localStorage.setItem('").concat(t,"', val ? 1 : '')\"/>\n    </div>"),{dangerouslyUseHTMLString:!0})}function O(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=""===n?n:n+"-";var o=String(t).trim().split(/\s+/),a=o.concat({1:[o[0],o[0],o[0]],2:[o[0],o[1]],3:[o[1]],4:[]}[o.length]||[]),s=r(a,4),c=s[0],l=s[1],d=s[2],u=s[3];return e={},i(e,n+"top",c),i(e,n+"right",l),i(e,n+"bottom",d),i(e,n+"left",u),e}t["c"]={parseURL:m,isFalsy:$,isUnset:w,sleep:S,isNullOrUndefined:_,dimensionAnyTopx:v,objectSetByPath:f,objectGetByPath:h,modifyNodeId:g,toSafeNumber:C,getNoRotateBoundingClientRect:y,fetch:j,componentAddJudge:E,confirmWithGoodbye:I,trbl:O}},a81d:function(e){e.exports=JSON.parse('{"layout":{"children":[{"children":[{"children":[{"name":"组件列表","component":"widgetComponent","close":true,"pop":true},{"name":"合成组件","component":"widgetCombinedComponents","close":true,"pop":true}],"type":"panel","flex":0.5},{"children":[{"name":"组件树","component":"widgetComponentTree","close":true,"pop":true}],"type":"panel","flex":0.5}],"type":"column","flex":0.20626959247648904},{"children":[{"children":[{"name":"组场景","component":"widgetScene","close":false,"pop":false},{"name":"组件详情","component":"widgetComponentInfo","close":true,"pop":true},{"name":"页面设置","component":"widgetPageInfo","close":true,"pop":true}],"type":"panel","flex":1}],"type":"column","flex":0.5512481056767048},{"children":[{"children":[{"name":"属性","component":"widgetAttribute","close":false,"pop":true},{"name":"样式","component":"widgetStyleEditor","close":false,"pop":true},{"name":"脚本","component":"widgetScriptEditor","style":{"width":"300px","height":"400px","left":"300px","top":"300px"},"close":true,"pop":true}],"type":"panel","flex":1}],"type":"column","flex":0.2424823018468062}],"type":"row"},"dialogs":[],"version":1,"name":"default"}')},a84b:function(e,t,n){"use strict";n("49f0")},a9d6:function(e,t,n){},ad07:function(e,t,n){},af81:function(e,t,n){},b0ee:function(e,t,n){},b254:function(e,t,n){},b328:function(e){e.exports=JSON.parse('{"$schema":"vscode://schemas/color-theme","name":"Light+ (default light)","include":"./light_vs.json","tokenColors":[{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#795E26"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#267f99"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],"settings":{"foreground":"#267f99"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#AF00DB"}},{"name":"Variable and parameter name","scope":["variable","meta.definition.variable.name","support.variable"],"settings":{"foreground":"#001080"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key"],"settings":{"foreground":"#001080"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#0451a5"}},{"name":"Regular expression groups","scope":["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],"settings":{"foreground":"#d16969"}},{"scope":["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],"settings":{"foreground":"#811f3f"}},{"scope":"keyword.operator.quantifier.regexp","settings":{"foreground":"#000000"}},{"scope":["keyword.operator.or.regexp","keyword.control.anchor.regexp"],"settings":{"foreground":"#ff0000"}},{"scope":"constant.character","settings":{"foreground":"#0000ff"}},{"scope":"constant.character.escape","settings":{"foreground":"#ff0000"}}]}')},b4ac:function(e,t,n){"use strict";n("72a6")},b4bc:function(e,t,n){"use strict";n("922e")},be43:function(e,t,n){"use strict";n("e894")},bf2f:function(e,t,n){},bfb3:function(e,t,n){var o={"./d-Preview":["3ecb","chunk-58613c59"],"./d-Preview.vue":["3ecb","chunk-58613c59"],"./d-crop":["0861","chunk-264c30ce"],"./d-crop.vue":["0861","chunk-264c30ce"],"./d-editScript":["c254","chunk-b09680b8"],"./d-editScript.vue":["c254","chunk-b09680b8"],"./d-nodejson":["23e6","chunk-17a61fe0"],"./d-nodejson.vue":["23e6","chunk-17a61fe0"],"./d-psd":["9761","chunk-16e201e2"],"./d-psd.vue":["9761","chunk-16e201e2"],"./d-resourceSelect":["a7c7","chunk-5209afd8"],"./d-resourceSelect.vue":["a7c7","chunk-5209afd8"],"./d-saveCombinedComponent":["aa78","chunk-3e9ce982"],"./d-saveCombinedComponent.vue":["aa78","chunk-3e9ce982"]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id="bfb3",e.exports=a},c0cf:function(e,t,n){},c0f1:function(e,t,n){},c217:function(e,t,n){"use strict";n("b254")},c222:function(e,t,n){},c247:function(e){e.exports=JSON.parse('{"information_for_contributors":["This file has been converted from https://github.com/Microsoft/TypeScript-TmLanguage/blob/master/TypeScriptReact.tmLanguage","If you want to provide a fix or improvement, please create a pull request against the original repository.","Once accepted there, we are happy to receive an update request."],"version":"https://github.com/Microsoft/TypeScript-TmLanguage/commit/88217b1c7d36ed5d35adc3099ba7978aabe2531b","name":"JavaScript (with React support)","scopeName":"source.js","patterns":[{"include":"#directives"},{"include":"#statements"},{"name":"comment.line.shebang.ts","match":"\\\\A(#!).*(?=$)","captures":{"1":{"name":"punctuation.definition.comment.ts"}}}],"repository":{"statements":{"patterns":[{"include":"#string"},{"include":"#template"},{"include":"#comment"},{"include":"#declaration"},{"include":"#control-statement"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#label"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]},"declaration":{"patterns":[{"include":"#decorator"},{"include":"#var-expr"},{"include":"#function-declaration"},{"include":"#class-declaration"},{"include":"#interface-declaration"},{"include":"#enum-declaration"},{"include":"#namespace-declaration"},{"include":"#type-alias-declaration"},{"include":"#import-equals-declaration"},{"include":"#import-declaration"},{"include":"#export-declaration"}]},"control-statement":{"patterns":[{"include":"#switch-statement"},{"include":"#for-loop"},{"name":"keyword.control.trycatch.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(catch|finally|throw|try)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|goto)\\\\s+([_$[:alpha:]][_$[:alnum:]]*)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","captures":{"1":{"name":"keyword.control.loop.js"},"2":{"name":"entity.name.label.js"}}},{"name":"keyword.control.loop.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|do|goto|while)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.control.flow.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(return)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.control.switch.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default|switch)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.control.conditional.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(else|if)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.control.with.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(with)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.other.debugger.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(debugger)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"storage.modifier.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(declare)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"}]},"label":{"patterns":[{"begin":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(:)(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"entity.name.label.js"},"2":{"name":"punctuation.separator.label.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#decl-block"}]},{"match":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(:)","captures":{"1":{"name":"entity.name.label.js"},"2":{"name":"punctuation.separator.label.js"}}}]},"expression":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expressionWithoutIdentifiers":{"patterns":[{"include":"#jsx"},{"include":"#string"},{"include":"#regex"},{"include":"#template"},{"include":"#comment"},{"include":"#function-expression"},{"include":"#class-expression"},{"include":"#arrow-function"},{"include":"#paren-expression-possibly-arrow"},{"include":"#cast"},{"include":"#ternary-expression"},{"include":"#new-expr"},{"include":"#instanceof-expr"},{"include":"#object-literal"},{"include":"#expression-operators"},{"include":"#function-call"},{"include":"#literal"},{"include":"#support-objects"},{"include":"#paren-expression"}]},"expressionPunctuations":{"patterns":[{"include":"#punctuation-comma"},{"include":"#punctuation-accessor"}]},"decorator":{"name":"meta.decorator.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\@","beginCaptures":{"0":{"name":"punctuation.decorator.js"}},"end":"(?=\\\\s)","patterns":[{"include":"#expression"}]},"var-expr":{"name":"meta.var.expr.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(var|let|const(?!\\\\s+enum\\\\b))(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.type.js"}},"end":"(?=$|^|;|}|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?!\\\\S)","beginCaptures":{"1":{"name":"punctuation.separator.comma.js"}},"end":"(?<!,)((?==|;|}|(\\\\s+(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$))","patterns":[{"include":"#comment"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},"var-single-variable":{"patterns":[{"name":"meta.var-single-variable.expr.js","begin":"(?x)([_$[:alpha:]][_$[:alnum:]]*)(?=\\\\s*\\n# function assignment |\\n(=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)) |\\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\\n(:\\\\s*(\\n  (<) |\\n  ([(]\\\\s*(\\n    ([)]) |\\n    (\\\\.\\\\.\\\\.) |\\n    ([_$[:alnum:]]+\\\\s*(\\n      ([:,?=])|\\n      ([)]\\\\s*=>)\\n    ))\\n  ))\\n)) |\\n(:\\\\s*([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$)) |\\n(:\\\\s*(=>|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(<[^<>]*>)|[^<>(),=])+=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)))","beginCaptures":{"1":{"name":"meta.definition.variable.js entity.name.function.js"}},"end":"(?=$|^|[;,=}]|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"name":"meta.var-single-variable.expr.js","begin":"([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.constant.js"}},"end":"(?=$|^|[;,=}]|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"name":"meta.var-single-variable.expr.js","begin":"([_$[:alpha:]][_$[:alnum:]]*)","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.readwrite.js"}},"end":"(?=$|^|[;,=}]|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{"patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#comment"}]},"destructuring-variable":{"patterns":[{"name":"meta.object-binding-pattern-variable.js","begin":"(?<!=|:|^of|[^\\\\._$[:alnum:]]of|^in|[^\\\\._$[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[;,=}]|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#object-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]},{"name":"meta.array-binding-pattern-variable.js","begin":"(?<!=|:|^of|[^\\\\._$[:alnum:]]of|^in|[^\\\\._$[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[;,=}]|(\\\\s+(of|in)\\\\s+))","patterns":[{"include":"#array-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?x)(?=((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(:))","end":"(?=,|\\\\})","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element"}]},{"include":"#object-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-propertyName":{"begin":"(?x)(?=((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(:))","end":"(:)","endCaptures":{"0":{"name":"punctuation.destructuring.js"}},"patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"name":"variable.object.property.js","match":"([_$[:alpha:]][_$[:alnum:]]*)"}]},"binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#object-binding-pattern"},{"include":"#array-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"}]},"destructuring-variable-rest":{"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"meta.definition.variable.js variable.other.readwrite.js"}}},"object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#object-binding-element"}]},"array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"\\\\]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#binding-element"},{"include":"#punctuation-comma"}]},"parameter-name":{"patterns":[{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|protected|private|readonly)\\\\s+(?=(public|protected|private|readonly)\\\\s+)","captures":{"1":{"name":"storage.modifier.js"}}},{"match":"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*\\n# function assignment |\\n(=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)) |\\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\\n(:\\\\s*(\\n  (<) |\\n  ([(]\\\\s*(\\n    ([)]) |\\n    (\\\\.\\\\.\\\\.) |\\n    ([_$[:alnum:]]+\\\\s*(\\n      ([:,?=])|\\n      ([)]\\\\s*=>)\\n    ))\\n  ))\\n)) |\\n(:\\\\s*([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$)) |\\n(:\\\\s*(=>|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(<[^<>]*>)|[^<>(),=])+=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)))","captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"entity.name.function.js variable.language.this.js"},"4":{"name":"entity.name.function.js"},"5":{"name":"keyword.operator.optional.js"}}},{"match":"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)","captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"variable.parameter.js variable.language.this.js"},"4":{"name":"variable.parameter.js"},"5":{"name":"keyword.operator.optional.js"}}}]},"destructuring-parameter":{"patterns":[{"name":"meta.parameter.object-binding-pattern.js","begin":"(?<!=|:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#parameter-object-binding-element"}]},{"name":"meta.paramter.array-binding-pattern.js","begin":"(?<!=|:)\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"\\\\]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]}]},"parameter-object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?x)(?=((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(:))","end":"(?=,|\\\\})","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#parameter-binding-element"}]},{"include":"#parameter-object-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"parameter-binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#parameter-object-binding-pattern"},{"include":"#parameter-array-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"}]},"destructuring-parameter-rest":{"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"variable.parameter.js"}}},"parameter-object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#parameter-object-binding-element"}]},"parameter-array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"\\\\]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]},"field-declaration":{"name":"meta.field.declaration.js","begin":"(?x)(?<!\\\\()(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s+)?(?=\\\\s*((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\?\\\\s*)?(=|:))","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?x)(?=\\\\}|;|,|$|(^(?!\\\\s*((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\?\\\\s*)?(=|:))))|(?<=\\\\})","patterns":[{"include":"#variable-initializer"},{"begin":"(?x)(?=((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\?\\\\s*)?(=|:))","end":"(?x)(?=[};,=]|$|(^(?!\\\\s*((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\?\\\\s*)?(=|:))))|(?<=\\\\})","patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"include":"#comment"},{"match":"(?x)([_$[:alpha:]][_$[:alnum:]]*)(\\\\?)?(?=(\\\\?\\\\s*)?\\\\s*\\n# function assignment |\\n(=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)) |\\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\\n(:\\\\s*(\\n  (<) |\\n  ([(]\\\\s*(\\n    ([)]) |\\n    (\\\\.\\\\.\\\\.) |\\n    ([_$[:alnum:]]+\\\\s*(\\n      ([:,?=])|\\n      ([)]\\\\s*=>)\\n    ))\\n  ))\\n)) |\\n(:\\\\s*([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$)) |\\n(:\\\\s*(=>|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(<[^<>]*>)|[^<>(),=])+=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)))","captures":{"1":{"name":"meta.definition.property.js entity.name.function.js"},"2":{"name":"keyword.operator.optional.js"}}},{"name":"meta.definition.property.js variable.object.property.js","match":"[_$[:alpha:]][_$[:alnum:]]*"},{"name":"keyword.operator.optional.js","match":"\\\\?"}]}]},"variable-initializer":{"patterns":[{"begin":"(?<!=|!)(=)(?!=)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=$|^|[,);}\\\\]])","patterns":[{"include":"#expression"}]},{"begin":"(?<!=|!)(=)(?!=)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=[,);}\\\\]])|(?=^\\\\s*$)|(?<=\\\\S)(?<!=)(?=\\\\s*$)","patterns":[{"include":"#expression"}]}]},"function-declaration":{"name":"meta.function.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(export)\\\\s+)?(?:(async)\\\\s+)?(function\\\\b)(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([_$[:alpha:]][_$[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.async.js"},"3":{"name":"storage.type.function.js"},"4":{"name":"keyword.generator.asterisk.js"},"5":{"name":"meta.definition.function.js entity.name.function.js"}},"end":"(?=$|^|;)|(?<=\\\\})","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-expression":{"name":"meta.function.expression.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(async)\\\\s+)?(function\\\\b)(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([_$[:alpha:]][_$[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.function.js"},"3":{"name":"keyword.generator.asterisk.js"},"4":{"name":"meta.definition.function.js entity.name.function.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-name":{"name":"meta.definition.function.js entity.name.function.js","match":"[_$[:alpha:]][_$[:alnum:]]*"},"function-body":{"patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#return-type"},{"include":"#decl-block"},{"name":"keyword.generator.asterisk.js","match":"\\\\*"}]},"method-declaration":{"patterns":[{"name":"meta.method.declaration.js","begin":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(public|private|protected)\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?\\\\s*\\\\b(constructor)\\\\b(?!:)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.async.js"},"4":{"name":"storage.type.js"}},"end":"(?=\\\\}|;|,|$)|(?<=\\\\})","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"name":"meta.method.declaration.js","begin":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(public|private|protected)\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:(?:\\\\s*\\\\b(new)\\\\b(?!:)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(?:(\\\\*)\\\\s*)?)(?=\\\\s*[\\\\(\\\\<])","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.async.js"},"4":{"name":"keyword.operator.new.js"},"5":{"name":"keyword.generator.asterisk.js"}},"end":"(?=\\\\}|;|,|$)|(?<=\\\\})","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"name":"meta.method.declaration.js","begin":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(public|private|protected)\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\b(get|set)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*(((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\??))\\\\s*[\\\\(\\\\<])","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.async.js"},"4":{"name":"storage.type.property.js"},"5":{"name":"keyword.generator.asterisk.js"}},"end":"(?=\\\\}|;|,|$)|(?<=\\\\})","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]}]},"object-literal-method-declaration":{"name":"meta.method.declaration.js","begin":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b(get|set)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*(((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\??))\\\\s*[\\\\(\\\\<])","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.property.js"},"3":{"name":"keyword.generator.asterisk.js"}},"end":"(?=\\\\}|;|,)|(?<=\\\\})","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"},{"begin":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b(get|set)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*(((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\??))\\\\s*[\\\\(\\\\<])","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.property.js"},"3":{"name":"keyword.generator.asterisk.js"}},"end":"(?=\\\\(|\\\\<)","patterns":[{"include":"#method-declaration-name"}]}]},"method-declaration-name":{"begin":"(?x)(?=((\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$))|(\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\]))\\\\s*(\\\\??)\\\\s*[\\\\(\\\\<])","end":"(?=\\\\(|\\\\<)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"name":"meta.definition.method.js entity.name.function.js","match":"[_$[:alpha:]][_$[:alnum:]]*"},{"name":"keyword.operator.optional.js","match":"\\\\?"}]},"arrow-function":{"patterns":[{"name":"meta.arrow.js","match":"(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(\\\\basync)\\\\s+)?([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?==>)","captures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"variable.parameter.js"}}},{"name":"meta.arrow.js","begin":"(?x) (?:\\n  (?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(\\\\basync)\\n)? ((?<![})!\\\\]])\\\\s*\\n  (?=\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  )\\n)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?==>|\\\\{|(^\\\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#arrow-return-type"}]},{"name":"meta.arrow.js","begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js"}},"end":"(?<=\\\\}|\\\\S)(?<!=>)|((?!\\\\{)(?=\\\\S))","patterns":[{"include":"#decl-block"},{"include":"#expression"}]}]},"indexer-declaration":{"name":"meta.indexer.declaration.js","begin":"(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?=:)","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"meta.brace.square.js"},"3":{"name":"variable.parameter.js"}},"end":"(\\\\])\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js"},"2":{"name":"keyword.operator.optional.js"}},"patterns":[{"include":"#type-annotation"}]},"indexer-mapped-type-declaration":{"name":"meta.indexer.mappedtype.declaration.js","begin":"(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([+-])?(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([_$[:alpha:]][_$[:alnum:]]*)\\\\s+(in)\\\\s+","beginCaptures":{"1":{"name":"keyword.operator.type.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"meta.brace.square.js"},"4":{"name":"entity.name.type.js"},"5":{"name":"keyword.operator.expression.in.js"}},"end":"(\\\\])([+-])?\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js"},"2":{"name":"keyword.operator.type.modifier.js"},"3":{"name":"keyword.operator.optional.js"}},"patterns":[{"include":"#type"}]},"function-parameters":{"name":"meta.parameters.js","begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.js"}},"patterns":[{"include":"#function-parameters-body"}]},"function-parameters-body":{"patterns":[{"include":"#comment"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"include":"#parameter-name"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"name":"punctuation.separator.parameter.js","match":","}]},"class-declaration":{"name":"meta.class.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(export)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(class)\\\\b(?=\\\\s+|/[/*])","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.class.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-expression":{"name":"meta.class.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(class)\\\\b(?=\\\\s+|[<{]|\\\\/[\\\\/*])","beginCaptures":{"1":{"name":"storage.type.class.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{"patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"match":"[_$[:alpha:]][_$[:alnum:]]*","captures":{"0":{"name":"entity.name.type.class.js"}}},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"interface-declaration":{"name":"meta.interface.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(export)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(interface)\\\\b(?=\\\\s+|/[/*])","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.interface.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"match":"[_$[:alpha:]][_$[:alnum:]]*","captures":{"0":{"name":"entity.name.type.interface.js"}}},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"class-or-interface-heritage":{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(extends|implements)\\\\b)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?=\\\\{)","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"include":"#type-parameters"},{"include":"#expressionWithoutIdentifiers"},{"match":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))(?=\\\\s*[_$[:alpha:]][_$[:alnum:]]*(\\\\s*\\\\??\\\\.\\\\s*[_$[:alpha:]][_$[:alnum:]]*)*\\\\s*)","captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}}},{"match":"([_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"entity.other.inherited-class.js"}}},{"include":"#expressionPunctuations"}]},"class-or-interface-body":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"include":"#decorator"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#field-declaration"},{"include":"#string"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"include":"#access-modifier"},{"include":"#property-accessor"},{"include":"#async-modifier"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#expression"},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"}]},"access-modifier":{"name":"storage.modifier.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(abstract|public|protected|private|readonly|static)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"property-accessor":{"name":"storage.type.property.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(get|set)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"async-modifier":{"name":"storage.modifier.async.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(async)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"enum-declaration":{"name":"meta.enum.declaration.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?(?:\\\\b(const)\\\\s+)?\\\\b(enum)\\\\s+([_$[:alpha:]][_$[:alnum:]]*)","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.enum.js"},"4":{"name":"entity.name.type.enum.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#comment"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"begin":"([_$[:alpha:]][_$[:alnum:]]*)","beginCaptures":{"0":{"name":"variable.other.enummember.js"}},"end":"(?=,|\\\\}|$)","patterns":[{"include":"#comment"},{"include":"#variable-initializer"}]},{"begin":"(?=((\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])+\\\\])))","end":"(?=,|\\\\}|$)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#comment"},{"include":"#variable-initializer"}]},{"include":"#punctuation-comma"}]}]},"namespace-declaration":{"name":"meta.namespace.declaration.js","begin":"(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(namespace|module)\\\\s+(?=[_$[:alpha:]\\"\'`]))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.type.namespace.js"}},"end":"(?<=\\\\})|(?=;|\\\\babstract\\\\b|\\\\basync\\\\b|\\\\bclass\\\\b|\\\\bconst\\\\b|\\\\bdeclare\\\\b|\\\\benum\\\\b|\\\\bexport\\\\b|\\\\bfunction\\\\b|\\\\bimport\\\\b|\\\\binterface\\\\b|\\\\blet\\\\b|\\\\bmodule\\\\b|\\\\bnamespace\\\\b|\\\\breturn\\\\b|\\\\btype\\\\b|\\\\bvar\\\\b)","patterns":[{"include":"#comment"},{"include":"#string"},{"name":"entity.name.type.module.js","match":"([_$[:alpha:]][_$[:alnum:]]*)"},{"include":"#punctuation-accessor"},{"include":"#decl-block"}]},"type-alias-declaration":{"name":"meta.type.declaration.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(type)\\\\b\\\\s+([_$[:alpha:]][_$[:alnum:]]*)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.type.type.js"},"3":{"name":"entity.name.type.alias.js"}},"end":"(?=\\\\}|;|\\\\babstract\\\\b|\\\\basync\\\\b|\\\\bclass\\\\b|\\\\bconst\\\\b|\\\\bdeclare\\\\b|\\\\benum\\\\b|\\\\bexport\\\\b|\\\\bfunction\\\\b|\\\\bimport\\\\b|\\\\binterface\\\\b|\\\\blet\\\\b|\\\\bmodule\\\\b|\\\\bnamespace\\\\b|\\\\breturn\\\\b|\\\\btype\\\\b|\\\\bvar\\\\b)","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"begin":"(=)\\\\s*","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=\\\\}|;|\\\\babstract\\\\b|\\\\basync\\\\b|\\\\bclass\\\\b|\\\\bconst\\\\b|\\\\bdeclare\\\\b|\\\\benum\\\\b|\\\\bexport\\\\b|\\\\bfunction\\\\b|\\\\bimport\\\\b|\\\\binterface\\\\b|\\\\blet\\\\b|\\\\bmodule\\\\b|\\\\bnamespace\\\\b|\\\\breturn\\\\b|\\\\btype\\\\b|\\\\bvar\\\\b)","patterns":[{"include":"#type"}]}]},"import-equals-declaration":{"patterns":[{"name":"meta.import-equals.external.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(import)\\\\s+([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(=)\\\\s*(require)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.import.js"},"3":{"name":"variable.other.readwrite.alias.js"},"4":{"name":"keyword.operator.assignment.js"},"5":{"name":"keyword.control.require.js"},"6":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#comment"},{"include":"#string"}]},{"name":"meta.import-equals.internal.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(import)\\\\s+([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(=)\\\\s*(?!require\\\\b)","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.import.js"},"3":{"name":"variable.other.readwrite.alias.js"},"4":{"name":"keyword.operator.assignment.js"}},"end":"(?=;|$|^)","patterns":[{"include":"#comment"},{"match":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))","captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}}},{"name":"variable.other.readwrite.js","match":"([_$[:alpha:]][_$[:alnum:]]*)"}]}]},"import-declaration":{"name":"meta.import.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bexport)\\\\s+)?\\\\b(import)(?!\\\\s*[:\\\\(])(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.import.js"}},"end":"(?<!^import|[^\\\\._$[:alnum:]]import)(?=;|$|^)","patterns":[{"include":"#comment"},{"include":"#string"},{"begin":"(?<=^import|[^\\\\._$[:alnum:]]import)(?!\\\\s*[\\"\'])","end":"\\\\bfrom\\\\b","endCaptures":{"0":{"name":"keyword.control.from.js"}},"patterns":[{"include":"#import-export-declaration"}]},{"include":"#import-export-declaration"}]},"export-declaration":{"patterns":[{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)\\\\s+(as)\\\\s+(namespace)\\\\s+([_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.as.js"},"3":{"name":"storage.type.namespace.js"},"4":{"name":"entity.name.type.module.js"}}},{"name":"meta.export.default.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:(?:\\\\s*(=))|(?:\\\\s+(default)(?=\\\\s+)))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.operator.assignment.js"},"3":{"name":"keyword.control.default.js"}},"end":"(?=$|;|\\\\babstract\\\\b|\\\\basync\\\\b|\\\\bclass\\\\b|\\\\bconst\\\\b|\\\\bdeclare\\\\b|\\\\benum\\\\b|\\\\bexport\\\\b|\\\\bfunction\\\\b|\\\\bimport\\\\b|\\\\binterface\\\\b|\\\\blet\\\\b|\\\\bmodule\\\\b|\\\\bnamespace\\\\b|\\\\breturn\\\\b|\\\\btype\\\\b|\\\\bvar\\\\b)","patterns":[{"include":"#expression"}]},{"name":"meta.export.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?!\\\\s*:)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.control.export.js"}},"end":"(?=$|;|\\\\babstract\\\\b|\\\\basync\\\\b|\\\\bclass\\\\b|\\\\bconst\\\\b|\\\\bdeclare\\\\b|\\\\benum\\\\b|\\\\bexport\\\\b|\\\\bfunction\\\\b|\\\\bimport\\\\b|\\\\binterface\\\\b|\\\\blet\\\\b|\\\\bmodule\\\\b|\\\\bnamespace\\\\b|\\\\breturn\\\\b|\\\\btype\\\\b|\\\\bvar\\\\b)","patterns":[{"include":"#import-export-declaration"}]}]},"import-export-declaration":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#import-export-block"},{"name":"keyword.control.from.js","match":"\\\\bfrom\\\\b"},{"include":"#import-export-clause"}]},"import-export-block":{"name":"meta.block.js","begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#import-export-clause"}]},"import-export-clause":{"patterns":[{"include":"#comment"},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(\\\\bdefault)|(\\\\*)|(\\\\b[_$[:alpha:]][_$[:alnum:]]*))\\\\s+(as)\\\\s+(?:(\\\\bdefault(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(\\\\b[_$[:alpha:]][_$[:alnum:]]*))","captures":{"1":{"name":"keyword.control.default.js"},"2":{"name":"constant.language.import-export-all.js"},"3":{"name":"variable.other.readwrite.js"},"4":{"name":"keyword.control.as.js"},"5":{"name":"keyword.control.default.js"},"6":{"name":"variable.other.readwrite.alias.js"}}},{"include":"#punctuation-comma"},{"name":"constant.language.import-export-all.js","match":"\\\\*"},{"name":"keyword.control.default.js","match":"\\\\b(default)\\\\b"},{"name":"variable.other.readwrite.alias.js","match":"([_$[:alpha:]][_$[:alnum:]]*)"}]},"switch-statement":{"name":"switch-statement.expr.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bswitch\\\\s*\\\\()","end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"name":"switch-expression.expr.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(switch)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.switch.js"},"2":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression"}]},{"name":"switch-block.expr.js","begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"(?=\\\\})","patterns":[{"name":"case-clause.expr.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default(?=:))(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.switch.js"}},"end":"(?=:)","patterns":[{"include":"#expression"}]},{"begin":"(:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"case-clause.expr.js punctuation.definition.section.case-statement.js"},"2":{"name":"meta.block.js punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"meta.block.js punctuation.definition.block.js"}},"contentName":"meta.block.js","patterns":[{"include":"#statements"}]},{"match":"(:)","captures":{"0":{"name":"case-clause.expr.js punctuation.definition.section.case-statement.js"}}},{"include":"#statements"}]}]},"for-loop":{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))for(?=((\\\\s+|(\\\\s*\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*))await)?\\\\s*(\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*)?(\\\\())","beginCaptures":{"0":{"name":"keyword.control.loop.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#comment"},{"name":"keyword.control.loop.js","match":"await"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#var-expr"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]}]},"decl-block":{"name":"meta.block.js","begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#statements"}]},"after-operator-block-as-object-literal":{"name":"meta.objectliteral.js","begin":"(?<!\\\\+\\\\+|--)(?<=[:=(,\\\\[?+!>]|^await|[^\\\\._$[:alnum:]]await|^return|[^\\\\._$[:alnum:]]return|^yield|[^\\\\._$[:alnum:]]yield|^throw|[^\\\\._$[:alnum:]]throw|^in|[^\\\\._$[:alnum:]]in|^of|[^\\\\._$[:alnum:]]of|^typeof|[^\\\\._$[:alnum:]]typeof|&&|\\\\|\\\\||\\\\*)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#object-member"}]},"object-literal":{"name":"meta.objectliteral.js","begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#object-member"}]},"object-member":{"patterns":[{"include":"#comment"},{"include":"#object-literal-method-declaration"},{"name":"meta.object.member.js meta.object-literal.key.js","begin":"(?=\\\\[)","end":"(?=:)|((?<=[\\\\]])(?=\\\\s*[\\\\(\\\\<]))","patterns":[{"include":"#array-literal"}]},{"name":"meta.object.member.js meta.object-literal.key.js","begin":"(?=[\\\\\'\\\\\\"])","end":"(?=:)|((?<=[\\\\\'\\\\\\"])(?=\\\\s*[\\\\(\\\\<]))","patterns":[{"include":"#string"}]},{"name":"meta.method.declaration.js","begin":"(?<=[\\\\]\\\\\'\\\\\\"])(?=\\\\s*[\\\\(\\\\<])","end":"(?=\\\\}|;|,)|(?<=\\\\})","patterns":[{"include":"#function-body"}]},{"name":"meta.object.member.js","match":"(?![_$[:alpha:]])([[:digit:]]+)\\\\s*(?=:)","captures":{"0":{"name":"meta.object-literal.key.js"},"1":{"name":"constant.numeric.decimal.js"}}},{"name":"meta.object.member.js","match":"(?x)(?:([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?=:\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n)))","captures":{"0":{"name":"meta.object-literal.key.js"},"1":{"name":"entity.name.function.js"}}},{"name":"meta.object.member.js","match":"(?:[_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?=:)","captures":{"0":{"name":"meta.object-literal.key.js"}}},{"name":"meta.object.member.js","begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js"}},"end":"(?=,|\\\\})","patterns":[{"include":"#expression"}]},{"name":"meta.object.member.js","match":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?=,|\\\\}|$)","captures":{"1":{"name":"variable.other.readwrite.js"}}},{"name":"meta.object.member.js","begin":"(?=[_$[:alpha:]][_$[:alnum:]]*\\\\s*=)","end":"(?=,|\\\\}|$)","patterns":[{"include":"#expression"}]},{"name":"meta.object.member.js","begin":":","beginCaptures":{"0":{"name":"meta.object-literal.key.js punctuation.separator.key-value.js"}},"end":"(?=,|\\\\})","patterns":[{"begin":"(?<=:)\\\\s*(async)?(?=\\\\s*(<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)\\\\(\\\\s*([\\\\{\\\\[]\\\\s*)?$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(\\\\()(?=\\\\s*([\\\\{\\\\[]\\\\s*)?$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"include":"#expression"}]},{"include":"#punctuation-comma"}]},"ternary-expression":{"begin":"(?!\\\\?\\\\.\\\\s*[^[:digit:]])(\\\\?)","beginCaptures":{"1":{"name":"keyword.operator.ternary.js"}},"end":"\\\\s*(:)","endCaptures":{"1":{"name":"keyword.operator.ternary.js"}},"patterns":[{"include":"#expression"}]},"function-call":{"begin":"(?=(([_$[:alpha:]][_$[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(\\\\?\\\\.\\\\s*)?(<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>|\\\\<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>)*(?!=)\\\\>)*(?!=)>\\\\s*)?\\\\()","end":"(?<=\\\\))(?!(([_$[:alpha:]][_$[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(\\\\?\\\\.\\\\s*)?(<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>|\\\\<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>)*(?!=)\\\\>)*(?!=)>\\\\s*)?\\\\()","patterns":[{"name":"meta.function-call.js","begin":"(?=(([_$[:alpha:]][_$[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([_$[:alpha:]][_$[:alnum:]]*))","end":"(?=\\\\s*(\\\\?\\\\.\\\\s*)?(<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>|\\\\<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>)*(?!=)\\\\>)*(?!=)>\\\\s*)?\\\\()","patterns":[{"include":"#literal"},{"include":"#support-objects"},{"include":"#object-identifiers"},{"include":"#punctuation-accessor"},{"name":"keyword.operator.expression.import.js","match":"(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*[\\\\(]\\\\s*[\\\\\\"\\\\\'\\\\`]))"},{"name":"entity.name.function.js","match":"([_$[:alpha:]][_$[:alnum:]]*)"}]},{"include":"#comment"},{"name":"meta.function-call.js punctuation.accessor.optional.js","match":"\\\\?\\\\."},{"include":"#type-arguments"},{"include":"#paren-expression"}]},"new-expr":{"name":"new.expr.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.new.js"}},"end":"(?<=\\\\))|(?=[;),}\\\\]:]|\\\\|\\\\||\\\\&\\\\&|$|((?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[_$[:alpha:]][_$[:alnum:]]*)|(\\\\s*[\\\\(]))))","patterns":[{"include":"#paren-expression"},{"include":"#class-declaration"},{"include":"#type"}]},"instanceof-expr":{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(instanceof)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.expression.instanceof.js"}},"end":"(?<=\\\\))|(?=[;),}\\\\]:?]|\\\\|\\\\||\\\\&\\\\&|$|((?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[_$[:alpha:]][_$[:alnum:]]*)|(\\\\s*[\\\\(]))))","patterns":[{"include":"#type"}]},"paren-expression-possibly-arrow":{"patterns":[{"begin":"(?<=[(=,])\\\\s*(async)?(?=\\\\s*((<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*))?\\\\(\\\\s*[\\\\{\\\\[]\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"begin":"(?<=[(=,]|=>)\\\\s*(async)?(?=\\\\s*((<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*))?\\\\(\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"include":"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{"patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},"expression-inside-possibly-arrow-parens":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#function-parameters-body"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"paren-expression":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression"}]},"cast":{"patterns":[{"include":"#jsx"}]},"expression-operators":{"patterns":[{"name":"keyword.control.flow.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(await)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?=\\\\s*\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*\\\\*)","beginCaptures":{"1":{"name":"keyword.control.flow.js"}},"end":"\\\\*","endCaptures":{"0":{"name":"keyword.generator.asterisk.js"}},"patterns":[{"include":"#comment"}]},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s*(\\\\*))?","captures":{"1":{"name":"keyword.control.flow.js"},"2":{"name":"keyword.generator.asterisk.js"}}},{"name":"keyword.operator.expression.delete.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))delete(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.operator.expression.in.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))in(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()"},{"name":"keyword.operator.expression.of.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))of(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()"},{"name":"keyword.operator.expression.instanceof.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))instanceof(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.operator.new.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#typeof-operator"},{"name":"keyword.operator.expression.void.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))void(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.js"}},"end":"(?=$|^|[;,:})\\\\]]|((?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+))","patterns":[{"include":"#type"}]},{"name":"keyword.operator.spread.js","match":"\\\\.\\\\.\\\\."},{"name":"keyword.operator.assignment.compound.js","match":"\\\\*=|(?<!\\\\()/=|%=|\\\\+=|\\\\-="},{"name":"keyword.operator.assignment.compound.bitwise.js","match":"\\\\&=|\\\\^=|<<=|>>=|>>>=|\\\\|="},{"name":"keyword.operator.bitwise.shift.js","match":"<<|>>>|>>"},{"name":"keyword.operator.comparison.js","match":"===|!==|==|!="},{"name":"keyword.operator.relational.js","match":"<=|>=|<>|<|>"},{"name":"keyword.operator.logical.js","match":"\\\\!|&&|\\\\|\\\\|"},{"name":"keyword.operator.bitwise.js","match":"\\\\&|~|\\\\^|\\\\|"},{"name":"keyword.operator.assignment.js","match":"\\\\="},{"name":"keyword.operator.decrement.js","match":"--"},{"name":"keyword.operator.increment.js","match":"\\\\+\\\\+"},{"name":"keyword.operator.arithmetic.js","match":"%|\\\\*|/|-|\\\\+"},{"match":"(?<=[_$[:alnum:])\\\\]])\\\\s*(/)(?![/*])","captures":{"1":{"name":"keyword.operator.arithmetic.js"}}}]},"typeof-operator":{"name":"keyword.operator.expression.typeof.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))typeof(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"literal":{"patterns":[{"include":"#numeric-literal"},{"include":"#boolean-literal"},{"include":"#null-literal"},{"include":"#undefined-literal"},{"include":"#numericConstant-literal"},{"include":"#array-literal"},{"include":"#this-literal"},{"include":"#super-literal"}]},"array-literal":{"name":"meta.array.literal.js","begin":"\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"meta.brace.square.js"}},"end":"\\\\]","endCaptures":{"0":{"name":"meta.brace.square.js"}},"patterns":[{"include":"#expression"},{"include":"#punctuation-comma"}]},"numeric-literal":{"patterns":[{"name":"constant.numeric.hex.js","match":"\\\\b(?<!\\\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\\\b(?!\\\\$)"},{"name":"constant.numeric.binary.js","match":"\\\\b(?<!\\\\$)0(b|B)[01][01_]*\\\\b(?!\\\\$)"},{"name":"constant.numeric.octal.js","match":"\\\\b(?<!\\\\$)0(o|O)?[0-7][0-7_]*\\\\b(?!\\\\$)"},{"match":"(?x)\\n(?<!\\\\$)(?:\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)| # 1.1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[eE][+-]?[0-9][0-9_]*\\\\b)|             # 1.E+3\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|             # .1E+3\\n  (?:\\\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\\\b)|                 # 1E+3\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*\\\\b)|                      # 1.1\\n  (?:\\\\b[0-9][0-9_]*(\\\\.)\\\\B)|                                  # 1.\\n  (?:\\\\B(\\\\.)[0-9][0-9_]*\\\\b)|                                  # .1\\n  (?:\\\\b[0-9][0-9_]*\\\\b(?!\\\\.))                                 # 1\\n)(?!\\\\$)","captures":{"0":{"name":"constant.numeric.decimal.js"},"1":{"name":"meta.delimiter.decimal.period.js"},"2":{"name":"meta.delimiter.decimal.period.js"},"3":{"name":"meta.delimiter.decimal.period.js"},"4":{"name":"meta.delimiter.decimal.period.js"},"5":{"name":"meta.delimiter.decimal.period.js"},"6":{"name":"meta.delimiter.decimal.period.js"}}}]},"boolean-literal":{"patterns":[{"name":"constant.language.boolean.true.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))true(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"constant.language.boolean.false.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))false(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"}]},"null-literal":{"name":"constant.language.null.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))null(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"this-literal":{"name":"variable.language.this.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))this\\\\b(?!\\\\$)"},"super-literal":{"name":"variable.language.super.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))super\\\\b(?!\\\\$)"},"undefined-literal":{"name":"constant.language.undefined.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))undefined(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"numericConstant-literal":{"patterns":[{"name":"constant.language.nan.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))NaN(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"constant.language.infinity.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Infinity(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"}]},"support-objects":{"patterns":[{"name":"variable.language.arguments.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(arguments)\\\\b(?!\\\\$)"},{"name":"support.class.builtin.js","match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Array|ArrayBuffer|Atomics|Boolean|DataView|Date|Float32Array|Float64Array|Function|Generator\\n  |GeneratorFunction|Int8Array|Int16Array|Int32Array|Intl|Map|Number|Object|Proxy\\n  |Reflect|RegExp|Set|SharedArrayBuffer|SIMD|String|Symbol|TypedArray\\n  |Uint8Array|Uint16Array|Uint32Array|Uint8ClampedArray|WeakMap|WeakSet)\\\\b(?!\\\\$)"},{"name":"support.class.error.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))((Eval|Internal|Range|Reference|Syntax|Type|URI)?Error)\\\\b(?!\\\\$)"},{"name":"support.class.promise.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Promise)\\\\b(?!\\\\$)"},{"name":"support.function.js","match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(clear(Interval|Timeout)|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|\\n  isFinite|isNaN|parseFloat|parseInt|require|set(Interval|Timeout)|super|unescape|uneval)(?=\\\\s*\\\\()"},{"match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Math)(?:\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(?:\\n  (abs|acos|acosh|asin|asinh|atan|atan2|atanh|cbrt|ceil|clz32|cos|cosh|exp|\\n  expm1|floor|fround|hypot|imul|log|log10|log1p|log2|max|min|pow|random|\\n  round|sign|sin|sinh|sqrt|tan|tanh|trunc)\\n  |\\n  (E|LN10|LN2|LOG10E|LOG2E|PI|SQRT1_2|SQRT2)))?\\\\b(?!\\\\$)","captures":{"1":{"name":"support.constant.math.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.function.math.js"},"5":{"name":"support.constant.property.math.js"}}},{"match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(console)(?:\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(\\n  assert|clear|count|debug|dir|error|group|groupCollapsed|groupEnd|info|log\\n  |profile|profileEnd|table|time|timeEnd|timeStamp|trace|warn))?\\\\b(?!\\\\$)","captures":{"1":{"name":"support.class.console.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.function.console.js"}}},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(JSON)(?:\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(parse|stringify))?\\\\b(?!\\\\$)","captures":{"1":{"name":"support.constant.json.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.function.json.js"}}},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(import)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(meta)\\\\b(?!\\\\$)","captures":{"1":{"name":"keyword.control.import.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.variable.property.importmeta.js"}}},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(target)\\\\b(?!\\\\$)","captures":{"1":{"name":"keyword.operator.new.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.variable.property.target.js"}}},{"match":"(?x) (?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]]))) \\\\s* (?:\\n  (constructor|length|prototype|__proto__)\\n  |\\n  (EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY))\\\\b(?!\\\\$)","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"support.variable.property.js"},"4":{"name":"support.constant.js"}}},{"match":"(?x) (?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.)) \\\\b (?:\\n  (document|event|navigator|performance|screen|window)\\n  |\\n  (AnalyserNode|ArrayBufferView|Attr|AudioBuffer|AudioBufferSourceNode|AudioContext|AudioDestinationNode|AudioListener\\n  |AudioNode|AudioParam|BatteryManager|BeforeUnloadEvent|BiquadFilterNode|Blob|BufferSource|ByteString|CSS|CSSConditionRule\\n  |CSSCounterStyleRule|CSSGroupingRule|CSSMatrix|CSSMediaRule|CSSPageRule|CSSPrimitiveValue|CSSRule|CSSRuleList|CSSStyleDeclaration\\n  |CSSStyleRule|CSSStyleSheet|CSSSupportsRule|CSSValue|CSSValueList|CanvasGradient|CanvasImageSource|CanvasPattern\\n  |CanvasRenderingContext2D|ChannelMergerNode|ChannelSplitterNode|CharacterData|ChromeWorker|CloseEvent|Comment|CompositionEvent\\n  |Console|ConvolverNode|Coordinates|Credential|CredentialsContainer|Crypto|CryptoKey|CustomEvent|DOMError|DOMException\\n  |DOMHighResTimeStamp|DOMImplementation|DOMString|DOMStringList|DOMStringMap|DOMTimeStamp|DOMTokenList|DataTransfer\\n  |DataTransferItem|DataTransferItemList|DedicatedWorkerGlobalScope|DelayNode|DeviceProximityEvent|DirectoryEntry\\n  |DirectoryEntrySync|DirectoryReader|DirectoryReaderSync|Document|DocumentFragment|DocumentTouch|DocumentType|DragEvent\\n  |DynamicsCompressorNode|Element|Entry|EntrySync|ErrorEvent|Event|EventListener|EventSource|EventTarget|FederatedCredential\\n  |FetchEvent|File|FileEntry|FileEntrySync|FileException|FileList|FileReader|FileReaderSync|FileSystem|FileSystemSync\\n  |FontFace|FormData|GainNode|Gamepad|GamepadButton|GamepadEvent|Geolocation|GlobalEventHandlers|HTMLAnchorElement\\n  |HTMLAreaElement|HTMLAudioElement|HTMLBRElement|HTMLBaseElement|HTMLBodyElement|HTMLButtonElement|HTMLCanvasElement\\n  |HTMLCollection|HTMLContentElement|HTMLDListElement|HTMLDataElement|HTMLDataListElement|HTMLDialogElement|HTMLDivElement\\n  |HTMLDocument|HTMLElement|HTMLEmbedElement|HTMLFieldSetElement|HTMLFontElement|HTMLFormControlsCollection|HTMLFormElement\\n  |HTMLHRElement|HTMLHeadElement|HTMLHeadingElement|HTMLHtmlElement|HTMLIFrameElement|HTMLImageElement|HTMLInputElement\\n  |HTMLKeygenElement|HTMLLIElement|HTMLLabelElement|HTMLLegendElement|HTMLLinkElement|HTMLMapElement|HTMLMediaElement\\n  |HTMLMetaElement|HTMLMeterElement|HTMLModElement|HTMLOListElement|HTMLObjectElement|HTMLOptGroupElement|HTMLOptionElement\\n  |HTMLOptionsCollection|HTMLOutputElement|HTMLParagraphElement|HTMLParamElement|HTMLPreElement|HTMLProgressElement\\n  |HTMLQuoteElement|HTMLScriptElement|HTMLSelectElement|HTMLShadowElement|HTMLSourceElement|HTMLSpanElement|HTMLStyleElement\\n  |HTMLTableCaptionElement|HTMLTableCellElement|HTMLTableColElement|HTMLTableDataCellElement|HTMLTableElement|HTMLTableHeaderCellElement\\n  |HTMLTableRowElement|HTMLTableSectionElement|HTMLTextAreaElement|HTMLTimeElement|HTMLTitleElement|HTMLTrackElement\\n  |HTMLUListElement|HTMLUnknownElement|HTMLVideoElement|HashChangeEvent|History|IDBCursor|IDBCursorWithValue|IDBDatabase\\n  |IDBEnvironment|IDBFactory|IDBIndex|IDBKeyRange|IDBMutableFile|IDBObjectStore|IDBOpenDBRequest|IDBRequest|IDBTransaction\\n  |IDBVersionChangeEvent|IIRFilterNode|IdentityManager|ImageBitmap|ImageBitmapFactories|ImageData|Index|InputDeviceCapabilities\\n  |InputEvent|InstallEvent|InstallTrigger|KeyboardEvent|LinkStyle|LocalFileSystem|LocalFileSystemSync|Location|MIDIAccess\\n  |MIDIConnectionEvent|MIDIInput|MIDIInputMap|MIDIOutputMap|MediaElementAudioSourceNode|MediaError|MediaKeyMessageEvent\\n  |MediaKeySession|MediaKeyStatusMap|MediaKeySystemAccess|MediaKeySystemConfiguration|MediaKeys|MediaRecorder|MediaStream\\n  |MediaStreamAudioDestinationNode|MediaStreamAudioSourceNode|MessageChannel|MessageEvent|MessagePort|MouseEvent\\n  |MutationObserver|MutationRecord|NamedNodeMap|Navigator|NavigatorConcurrentHardware|NavigatorGeolocation|NavigatorID\\n  |NavigatorLanguage|NavigatorOnLine|Node|NodeFilter|NodeIterator|NodeList|NonDocumentTypeChildNode|Notification\\n  |OfflineAudioCompletionEvent|OfflineAudioContext|OscillatorNode|PageTransitionEvent|PannerNode|ParentNode|PasswordCredential\\n  |Path2D|PaymentAddress|PaymentRequest|PaymentResponse|Performance|PerformanceEntry|PerformanceFrameTiming|PerformanceMark\\n  |PerformanceMeasure|PerformanceNavigation|PerformanceNavigationTiming|PerformanceObserver|PerformanceObserverEntryList\\n  |PerformanceResourceTiming|PerformanceTiming|PeriodicSyncEvent|PeriodicWave|Plugin|Point|PointerEvent|PopStateEvent\\n  |PortCollection|Position|PositionError|PositionOptions|PresentationConnectionClosedEvent|PresentationConnectionList\\n  |PresentationReceiver|ProcessingInstruction|ProgressEvent|PromiseRejectionEvent|PushEvent|PushRegistrationManager\\n  |RTCCertificate|RTCConfiguration|RTCPeerConnection|RTCSessionDescriptionCallback|RTCStatsReport|RadioNodeList|RandomSource\\n  |Range|ReadableByteStream|RenderingContext|SVGAElement|SVGAngle|SVGAnimateColorElement|SVGAnimateElement|SVGAnimateMotionElement\\n  |SVGAnimateTransformElement|SVGAnimatedAngle|SVGAnimatedBoolean|SVGAnimatedEnumeration|SVGAnimatedInteger|SVGAnimatedLength\\n  |SVGAnimatedLengthList|SVGAnimatedNumber|SVGAnimatedNumberList|SVGAnimatedPoints|SVGAnimatedPreserveAspectRatio\\n  |SVGAnimatedRect|SVGAnimatedString|SVGAnimatedTransformList|SVGAnimationElement|SVGCircleElement|SVGClipPathElement\\n  |SVGCursorElement|SVGDefsElement|SVGDescElement|SVGElement|SVGEllipseElement|SVGEvent|SVGFilterElement|SVGFontElement\\n  |SVGFontFaceElement|SVGFontFaceFormatElement|SVGFontFaceNameElement|SVGFontFaceSrcElement|SVGFontFaceUriElement\\n  |SVGForeignObjectElement|SVGGElement|SVGGlyphElement|SVGGradientElement|SVGHKernElement|SVGImageElement|SVGLength\\n  |SVGLengthList|SVGLineElement|SVGLinearGradientElement|SVGMPathElement|SVGMaskElement|SVGMatrix|SVGMissingGlyphElement\\n  |SVGNumber|SVGNumberList|SVGPathElement|SVGPatternElement|SVGPoint|SVGPolygonElement|SVGPolylineElement|SVGPreserveAspectRatio\\n  |SVGRadialGradientElement|SVGRect|SVGRectElement|SVGSVGElement|SVGScriptElement|SVGSetElement|SVGStopElement|SVGStringList\\n  |SVGStylable|SVGStyleElement|SVGSwitchElement|SVGSymbolElement|SVGTRefElement|SVGTSpanElement|SVGTests|SVGTextElement\\n  |SVGTextPositioningElement|SVGTitleElement|SVGTransform|SVGTransformList|SVGTransformable|SVGUseElement|SVGVKernElement\\n  |SVGViewElement|ServiceWorker|ServiceWorkerContainer|ServiceWorkerGlobalScope|ServiceWorkerRegistration|ServiceWorkerState\\n  |ShadowRoot|SharedWorker|SharedWorkerGlobalScope|SourceBufferList|StereoPannerNode|Storage|StorageEvent|StyleSheet\\n  |StyleSheetList|SubtleCrypto|SyncEvent|Text|TextMetrics|TimeEvent|TimeRanges|Touch|TouchEvent|TouchList|Transferable\\n  |TreeWalker|UIEvent|USVString|VRDisplayCapabilities|ValidityState|WaveShaperNode|WebGL|WebGLActiveInfo|WebGLBuffer\\n  |WebGLContextEvent|WebGLFramebuffer|WebGLProgram|WebGLRenderbuffer|WebGLRenderingContext|WebGLShader|WebGLShaderPrecisionFormat\\n  |WebGLTexture|WebGLTimerQueryEXT|WebGLTransformFeedback|WebGLUniformLocation|WebGLVertexArrayObject|WebGLVertexArrayObjectOES\\n  |WebSocket|WebSockets|WebVTT|WheelEvent|Window|WindowBase64|WindowEventHandlers|WindowTimers|Worker|WorkerGlobalScope\\n  |WorkerLocation|WorkerNavigator|XMLHttpRequest|XMLHttpRequestEventTarget|XMLSerializer|XPathExpression|XPathResult\\n  |XSLTProcessor))\\\\b(?!\\\\$)","captures":{"1":{"name":"support.variable.dom.js"},"2":{"name":"support.class.dom.js"}}},{"match":"(?x) (?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]]))) \\\\s* (?:\\n  (ATTRIBUTE_NODE|CDATA_SECTION_NODE|COMMENT_NODE|DOCUMENT_FRAGMENT_NODE|DOCUMENT_NODE|DOCUMENT_TYPE_NODE\\n  |DOMSTRING_SIZE_ERR|ELEMENT_NODE|ENTITY_NODE|ENTITY_REFERENCE_NODE|HIERARCHY_REQUEST_ERR|INDEX_SIZE_ERR\\n  |INUSE_ATTRIBUTE_ERR|INVALID_CHARACTER_ERR|NO_DATA_ALLOWED_ERR|NO_MODIFICATION_ALLOWED_ERR|NOT_FOUND_ERR\\n  |NOT_SUPPORTED_ERR|NOTATION_NODE|PROCESSING_INSTRUCTION_NODE|TEXT_NODE|WRONG_DOCUMENT_ERR)\\n  |\\n  (_content|[xyz]|abbr|above|accept|acceptCharset|accessKey|action|align|[av]Link(?:color)?|all|alt|anchors|appCodeName\\n  |appCore|applets|appMinorVersion|appName|appVersion|archive|areas|arguments|attributes|availHeight|availLeft|availTop\\n  |availWidth|axis|background|backgroundColor|backgroundImage|below|bgColor|body|border|borderBottomWidth|borderColor\\n  |borderLeftWidth|borderRightWidth|borderStyle|borderTopWidth|borderWidth|bottom|bufferDepth|callee|caller|caption\\n  |cellPadding|cells|cellSpacing|ch|characterSet|charset|checked|childNodes|chOff|cite|classes|className|clear\\n  |clientInformation|clip|clipBoardData|closed|code|codeBase|codeType|color|colorDepth|cols|colSpan|compact|complete\\n  |components|content|controllers|cookie|cookieEnabled|cords|cpuClass|crypto|current|data|dateTime|declare|defaultCharset\\n  |defaultChecked|defaultSelected|defaultStatus|defaultValue|defaultView|defer|description|dialogArguments|dialogHeight\\n  |dialogLeft|dialogTop|dialogWidth|dir|directories|disabled|display|docmain|doctype|documentElement|elements|embeds\\n  |enabledPlugin|encoding|enctype|entities|event|expando|external|face|fgColor|filename|firstChild|fontFamily|fontSize\\n  |fontWeight|form|formName|forms|frame|frameBorder|frameElement|frames|hasFocus|hash|headers|height|history|host\\n  |hostname|href|hreflang|hspace|htmlFor|httpEquiv|id|ids|ignoreCase|images|implementation|index|innerHeight|innerWidth\\n  |input|isMap|label|lang|language|lastChild|lastIndex|lastMatch|lastModified|lastParen|layer[sXY]|left|leftContext\\n  |lineHeight|link|linkColor|links|listStyleType|localName|location|locationbar|longDesc|lowsrc|lowSrc|marginBottom\\n  |marginHeight|marginLeft|marginRight|marginTop|marginWidth|maxLength|media|menubar|method|mimeTypes|multiline|multiple\\n  |name|nameProp|namespaces|namespaceURI|next|nextSibling|nodeName|nodeType|nodeValue|noHref|noResize|noShade|notationName\\n  |notations|noWrap|object|offscreenBuffering|onLine|onreadystatechange|opener|opsProfile|options|oscpu|outerHeight\\n  |outerWidth|ownerDocument|paddingBottom|paddingLeft|paddingRight|paddingTop|page[XY]|page[XY]Offset|parent|parentLayer\\n  |parentNode|parentWindow|pathname|personalbar|pixelDepth|pkcs11|platform|plugins|port|prefix|previous|previousDibling\\n  |product|productSub|profile|profileend|prompt|prompter|protocol|publicId|readOnly|readyState|referrer|rel|responseText\\n  |responseXML|rev|right|rightContext|rowIndex|rows|rowSpan|rules|scheme|scope|screen[XY]|screenLeft|screenTop|scripts\\n  |scrollbars|scrolling|sectionRowIndex|security|securityPolicy|selected|selectedIndex|selection|self|shape|siblingAbove\\n  |siblingBelow|size|source|specified|standby|start|status|statusbar|statusText|style|styleSheets|suffixes|summary\\n  |systemId|systemLanguage|tagName|tags|target|tBodies|text|textAlign|textDecoration|textIndent|textTransform|tFoot|tHead\\n  |title|toolbar|top|type|undefined|uniqueID|updateInterval|URL|URLUnencoded|useMap|userAgent|userLanguage|userProfile\\n  |vAlign|value|valueType|vendor|vendorSub|version|visibility|vspace|whiteSpace|width|X[MS]LDocument|zIndex))\\\\b(?!\\\\$|\\\\s*(<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\\\()","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"support.constant.dom.js"},"4":{"name":"support.variable.property.dom.js"}}},{"name":"support.class.node.js","match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Buffer|EventEmitter|Server|Pipe|Socket|REPLServer|ReadStream|WriteStream|Stream\\n  |Inflate|Deflate|InflateRaw|DeflateRaw|GZip|GUnzip|Unzip|Zip)\\\\b(?!\\\\$)"},{"match":"(?x)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(process)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))(?:\\n  (arch|argv|config|connected|env|execArgv|execPath|exitCode|mainModule|pid|platform|release|stderr|stdin|stdout|title|version|versions)\\n  |\\n  (abort|chdir|cwd|disconnect|exit|[sg]ete?[gu]id|send|[sg]etgroups|initgroups|kill|memoryUsage|nextTick|umask|uptime|hrtime)\\n))?\\\\b(?!\\\\$)","captures":{"1":{"name":"support.variable.object.process.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.variable.property.process.js"},"5":{"name":"support.function.process.js"}}},{"match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(exports)|(module)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))(exports|id|filename|loaded|parent|children))?)\\\\b(?!\\\\$)","captures":{"1":{"name":"support.type.object.module.js"},"2":{"name":"support.type.object.module.js"},"3":{"name":"punctuation.accessor.js"},"4":{"name":"punctuation.accessor.optional.js"},"5":{"name":"support.type.object.module.js"}}},{"name":"support.variable.object.node.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(global|GLOBAL|root|__dirname|__filename)\\\\b(?!\\\\$)"},{"match":"(?x) (?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]]))) \\\\s*\\n(?:\\n (on(?:Rowsinserted|Rowsdelete|Rowenter|Rowexit|Resize|Resizestart|Resizeend|Reset|\\n   Readystatechange|Mouseout|Mouseover|Mousedown|Mouseup|Mousemove|\\n   Before(?:cut|deactivate|unload|update|paste|print|editfocus|activate)|\\n   Blur|Scrolltop|Submit|Select|Selectstart|Selectionchange|Hover|Help|\\n   Change|Contextmenu|Controlselect|Cut|Cellchange|Clock|Close|Deactivate|\\n   Datasetchanged|Datasetcomplete|Dataavailable|Drop|Drag|Dragstart|Dragover|\\n   Dragdrop|Dragenter|Dragend|Dragleave|Dblclick|Unload|Paste|Propertychange|Error|\\n   Errorupdate|Keydown|Keyup|Keypress|Focus|Load|Activate|Afterupdate|Afterprint|Abort)\\n ) |\\n (shift|showModelessDialog|showModalDialog|showHelp|scroll|scrollX|scrollByPages|\\n   scrollByLines|scrollY|scrollTo|stop|strike|sizeToContent|sidebar|signText|sort|\\n   sup|sub|substr|substring|splice|split|send|set(?:Milliseconds|Seconds|Minutes|Hours|\\n   Month|Year|FullYear|Date|UTC(?:Milliseconds|Seconds|Minutes|Hours|Month|FullYear|Date)|\\n   Time|Hotkeys|Cursor|ZOptions|Active|Resizable|RequestHeader)|search|slice|\\n   savePreferences|small|home|handleEvent|navigate|char|charCodeAt|charAt|concat|\\n   contextual|confirm|compile|clear|captureEvents|call|createStyleSheet|createPopup|\\n   createEventObject|to(?:GMTString|UTCString|String|Source|UpperCase|LowerCase|LocaleString)|\\n   test|taint|taintEnabled|indexOf|italics|disableExternalCapture|dump|detachEvent|unshift|\\n   untaint|unwatch|updateCommands|join|javaEnabled|pop|push|plugins.refresh|paddings|parse|\\n   print|prompt|preference|enableExternalCapture|exec|execScript|valueOf|UTC|find|file|\\n   fileModifiedDate|fileSize|fileCreatedDate|fileUpdatedDate|fixed|fontsize|fontcolor|\\n   forward|fromCharCode|watch|link|load|lastIndexOf|anchor|attachEvent|atob|apply|alert|\\n   abort|routeEvents|resize|resizeBy|resizeTo|recalc|returnValue|replace|reverse|reload|\\n   releaseCapture|releaseEvents|go|get(?:Milliseconds|Seconds|Minutes|Hours|Month|Day|Year|FullYear|\\n   Time|Date|TimezoneOffset|UTC(?:Milliseconds|Seconds|Minutes|Hours|Day|Month|FullYear|Date)|\\n   Attention|Selection|ResponseHeader|AllResponseHeaders)|moveBy|moveBelow|moveTo|\\n   moveToAbsolute|moveAbove|mergeAttributes|match|margins|btoa|big|bold|borderWidths|blink|back\\n ) |\\n (acceptNode|add|addEventListener|addTextTrack|adoptNode|after|animate|append|\\n   appendChild|appendData|before|blur|canPlayType|captureStream|\\n   caretPositionFromPoint|caretRangeFromPoint|checkValidity|clear|click|\\n   cloneContents|cloneNode|cloneRange|close|closest|collapse|\\n   compareBoundaryPoints|compareDocumentPosition|comparePoint|contains|\\n   convertPointFromNode|convertQuadFromNode|convertRectFromNode|createAttribute|\\n   createAttributeNS|createCaption|createCDATASection|createComment|\\n   createContextualFragment|createDocument|createDocumentFragment|\\n   createDocumentType|createElement|createElementNS|createEntityReference|\\n   createEvent|createExpression|createHTMLDocument|createNodeIterator|\\n   createNSResolver|createProcessingInstruction|createRange|createShadowRoot|\\n   createTBody|createTextNode|createTFoot|createTHead|createTreeWalker|delete|\\n   deleteCaption|deleteCell|deleteContents|deleteData|deleteRow|deleteTFoot|\\n   deleteTHead|detach|disconnect|dispatchEvent|elementFromPoint|elementsFromPoint|\\n   enableStyleSheetsForSet|entries|evaluate|execCommand|exitFullscreen|\\n   exitPointerLock|expand|extractContents|fastSeek|firstChild|focus|forEach|get|\\n   getAll|getAnimations|getAttribute|getAttributeNames|getAttributeNode|\\n   getAttributeNodeNS|getAttributeNS|getBoundingClientRect|getBoxQuads|\\n   getClientRects|getContext|getDestinationInsertionPoints|getElementById|\\n   getElementsByClassName|getElementsByName|getElementsByTagName|\\n   getElementsByTagNameNS|getItem|getNamedItem|getSelection|getStartDate|\\n   getVideoPlaybackQuality|has|hasAttribute|hasAttributeNS|hasAttributes|\\n   hasChildNodes|hasFeature|hasFocus|importNode|initEvent|insertAdjacentElement|\\n   insertAdjacentHTML|insertAdjacentText|insertBefore|insertCell|insertData|\\n   insertNode|insertRow|intersectsNode|isDefaultNamespace|isEqualNode|\\n   isPointInRange|isSameNode|item|key|keys|lastChild|load|lookupNamespaceURI|\\n   lookupPrefix|matches|move|moveAttribute|moveAttributeNode|moveChild|\\n   moveNamedItem|namedItem|nextNode|nextSibling|normalize|observe|open|\\n   parentNode|pause|play|postMessage|prepend|preventDefault|previousNode|\\n   previousSibling|probablySupportsContext|queryCommandEnabled|\\n   queryCommandIndeterm|queryCommandState|queryCommandSupported|queryCommandValue|\\n   querySelector|querySelectorAll|registerContentHandler|registerElement|\\n   registerProtocolHandler|releaseCapture|releaseEvents|remove|removeAttribute|\\n   removeAttributeNode|removeAttributeNS|removeChild|removeEventListener|\\n   removeItem|replace|replaceChild|replaceData|replaceWith|reportValidity|\\n   requestFullscreen|requestPointerLock|reset|scroll|scrollBy|scrollIntoView|\\n   scrollTo|seekToNextFrame|select|selectNode|selectNodeContents|set|setAttribute|\\n   setAttributeNode|setAttributeNodeNS|setAttributeNS|setCapture|\\n   setCustomValidity|setEnd|setEndAfter|setEndBefore|setItem|setNamedItem|\\n   setRangeText|setSelectionRange|setSinkId|setStart|setStartAfter|setStartBefore|\\n   slice|splitText|stepDown|stepUp|stopImmediatePropagation|stopPropagation|\\n   submit|substringData|supports|surroundContents|takeRecords|terminate|toBlob|\\n   toDataURL|toggle|toString|values|write|writeln\\n ) |\\n (all|catch|finally|race|reject|resolve|then\\n )\\n)(?=\\\\s*\\\\()","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"support.function.event-handler.js"},"4":{"name":"support.function.js"},"5":{"name":"support.function.dom.js"},"6":{"name":"support.function.promise.js"}}}]},"identifiers":{"patterns":[{"include":"#object-identifiers"},{"match":"(?x)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*)?([_$[:alpha:]][_$[:alnum:]]*)(?=\\\\s*=\\\\s*(\\n  ((async\\\\s+)?(\\n    (function\\\\s*[(<*]) |\\n    (function\\\\s+) |\\n    ([_$[:alpha:]][_$[:alnum:]]*\\\\s*=>)\\n  )) |\\n  ((async\\\\s*)?(\\n    ([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$) |\\n    # sure shot arrow functions even if => is on new line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?\\n  [(]\\\\s*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n(\\n  [<]\\\\s*[_$[:alpha:]][_$[:alnum:]]*\\\\s+extends\\\\s*[^=>]                                                              # < typeparam extends\\n) |\\n# arrow function possible to detect only with => on same line\\n(\\n  (<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<]|\\\\<\\\\s*([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\]))([^=<>]|=[^<])*\\\\>)*>\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\)))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+)?                                                                        # return type\\n  \\\\s*=>                                                                                               # arrow operator\\n)\\n  ))\\n))","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"entity.name.function.js"}}},{"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.constant.property.js"}}},{"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*([_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.property.js"}}},{"name":"variable.other.constant.js","match":"([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])"},{"name":"variable.other.readwrite.js","match":"[_$[:alpha:]][_$[:alnum:]]*"}]},"object-identifiers":{"patterns":[{"name":"support.class.js","match":"([_$[:alpha:]][_$[:alnum:]]*)(?=\\\\s*\\\\??\\\\.\\\\s*prototype\\\\b(?!\\\\$))"},{"match":"(?x)(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))\\\\s*(?:\\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\\n  ([_$[:alpha:]][_$[:alnum:]]*)\\n)(?=\\\\s*\\\\??\\\\.\\\\s*[_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.constant.object.property.js"},"4":{"name":"variable.other.object.property.js"}}},{"match":"(?x)(?:\\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\\n  ([_$[:alpha:]][_$[:alnum:]]*)\\n)(?=\\\\s*\\\\??\\\\.\\\\s*[_$[:alpha:]][_$[:alnum:]]*)","captures":{"1":{"name":"variable.other.constant.object.js"},"2":{"name":"variable.other.object.js"}}}]},"type-annotation":{"patterns":[{"name":"meta.type.annotation.js","begin":"(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![:|&])((?=$|^|[,);\\\\}\\\\]]|//)|(?==[^>])|((?<=[\\\\}>\\\\]\\\\)]|[_$[:alpha:]])\\\\s*(?=\\\\{)))","patterns":[{"include":"#type"}]},{"name":"meta.type.annotation.js","begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![:|&])((?=[,);\\\\}\\\\]]|//)|(?==[^>])|(?=^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$))|((?<=[\\\\}>\\\\]\\\\)]|[_$[:alpha:]])\\\\s*(?=\\\\{)))","patterns":[{"include":"#type"}]}]},"return-type":{"patterns":[{"name":"meta.return.type.js","begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![:|&])(?=$|^|[{};,]|//)","patterns":[{"include":"#return-type-core"}]},{"name":"meta.return.type.js","begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![:|&])((?=[{};,]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#return-type-core"}]}]},"return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<=[:|&])(?=\\\\s*\\\\{)","end":"(?<=\\\\})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"arrow-return-type":{"name":"meta.return.type.arrow.js","begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?==>|\\\\{|(^\\\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#arrow-return-type-body"}]},"possibly-arrow-return-type":{"begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*([^<>\\\\(\\\\)]|\\\\<[^<>]+\\\\>|\\\\([^\\\\(\\\\)]+\\\\))+\\\\s*=>)","beginCaptures":{"1":{"name":"meta.arrow.js meta.return.type.arrow.js keyword.operator.type.annotation.js"}},"end":"(?==>|\\\\{|(^\\\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","contentName":"meta.arrow.js meta.return.type.arrow.js","patterns":[{"include":"#arrow-return-type-body"}]},"arrow-return-type-body":{"patterns":[{"begin":"(?<=[:])(?=\\\\s*\\\\{)","end":"(?<=\\\\})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-parameters":{"name":"meta.type.parameters.js","begin":"(<)","beginCaptures":{"1":{"name":"punctuation.definition.typeparameters.begin.js"}},"end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.typeparameters.end.js"}},"patterns":[{"include":"#comment"},{"name":"storage.modifier.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#type"},{"include":"#punctuation-comma"}]},"type-arguments":{"name":"meta.type.parameters.js","begin":"\\\\<","beginCaptures":{"0":{"name":"punctuation.definition.typeparameters.begin.js"}},"end":"\\\\>","endCaptures":{"0":{"name":"punctuation.definition.typeparameters.end.js"}},"patterns":[{"include":"#type"},{"include":"#punctuation-comma"}]},"type":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#type-primitive"},{"include":"#type-builtin-literals"},{"include":"#type-parameters"},{"include":"#type-tuple"},{"include":"#type-object"},{"include":"#type-conditional"},{"include":"#type-operators"},{"include":"#type-fn-type-parameters"},{"include":"#type-paren-or-function-parameters"},{"include":"#type-function-return-type"},{"include":"#type-name"}]},"type-primitive":{"name":"support.type.primitive.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(string|number|boolean|symbol|any|void|never)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"type-builtin-literals":{"name":"support.type.builtin.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(this|true|false|undefined|null|object)(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"type-tuple":{"name":"meta.type.tuple.js","begin":"\\\\[","beginCaptures":{"0":{"name":"meta.brace.square.js"}},"end":"\\\\]","endCaptures":{"0":{"name":"meta.brace.square.js"}},"patterns":[{"include":"#type"},{"include":"#punctuation-comma"}]},"type-object":{"name":"meta.object.type.js","begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#indexer-mapped-type-declaration"},{"include":"#field-declaration"},{"include":"#type-annotation"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js"}},"end":"(?=\\\\}|;|,|$)|(?<=\\\\})","patterns":[{"include":"#type"}]},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"},{"include":"#type"}]},"type-conditional":{"patterns":[{"begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)\\\\s+","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?<=:)","patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"keyword.operator.ternary.js"}},"end":":","endCaptures":{"0":{"name":"keyword.operator.ternary.js"}},"patterns":[{"include":"#type"}]},{"include":"#type"}]}]},"type-paren-or-function-parameters":{"name":"meta.type.paren.cover.js","begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#destructuring-parameter"},{"match":"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))\\\\s*(\\\\??)(?=\\\\s*(:\\\\s*(\\n  (<) |\\n  ([(]\\\\s*(\\n    ([)]) |\\n    (\\\\.\\\\.\\\\.) |\\n    ([_$[:alnum:]]+\\\\s*(\\n      ([:,?=])|\\n      ([)]\\\\s*=>)\\n    ))\\n  ))\\n)) |\\n(:\\\\s*([\\\\(]\\\\s*([\\\\{\\\\[]\\\\s*)?$)))","captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"entity.name.function.js variable.language.this.js"},"4":{"name":"entity.name.function.js"},"5":{"name":"keyword.operator.optional.js"}}},{"match":"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))\\\\s*(\\\\??)(?=:)","captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"variable.parameter.js variable.language.this.js"},"4":{"name":"variable.parameter.js"},"5":{"name":"keyword.operator.optional.js"}}},{"include":"#type-annotation"},{"name":"punctuation.separator.parameter.js","match":","},{"include":"#type"}]},"type-fn-type-parameters":{"patterns":[{"name":"meta.type.constructor.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\b(?=\\\\s*\\\\<)","captures":{"1":{"name":"keyword.control.new.js"}}},{"name":"meta.type.constructor.js","begin":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\b\\\\s*(?=\\\\()","beginCaptures":{"1":{"name":"keyword.control.new.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#function-parameters"}]},{"name":"meta.type.function.js","begin":"(?x)(\\n  (?=\\n    [(]\\\\s*(\\n      ([)]) |\\n      (\\\\.\\\\.\\\\.) |\\n      ([_$[:alnum:]]+\\\\s*(\\n        ([:,?=])|\\n        ([)]\\\\s*=>)\\n      ))\\n    )\\n  )\\n)","end":"(?<=\\\\))","patterns":[{"include":"#function-parameters"}]}]},"type-function-return-type":{"patterns":[{"name":"meta.type.function.return.js","begin":"(=>)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"storage.type.function.arrow.js"}},"end":"(?<!=>)(?<![|&])(?=[,\\\\]\\\\)\\\\{\\\\}=;>:\\\\?]|//|$)","patterns":[{"include":"#type-function-return-type-core"}]},{"name":"meta.type.function.return.js","begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js"}},"end":"(?<!=>)(?<![|&])((?=[,\\\\]\\\\)\\\\{\\\\}=;:\\\\?>]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#type-function-return-type-core"}]}]},"type-function-return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<==>)(?=\\\\s*\\\\{)","end":"(?<=\\\\})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-operators":{"patterns":[{"include":"#typeof-operator"},{"begin":"(?:([&|])|(=(?!>)))(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.type.js"},"2":{"name":"keyword.operator.assignment.js"}},"end":"(?<=\\\\})","patterns":[{"include":"#type-object"}]},{"begin":"([&|])|(=(?!>))","beginCaptures":{"1":{"name":"keyword.operator.type.js"},"2":{"name":"keyword.operator.assignment.js"}},"end":"(?=\\\\S)"},{"name":"keyword.operator.expression.keyof.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))keyof(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"name":"keyword.operator.ternary.js","match":"(\\\\?|\\\\:)"},{"name":"keyword.operator.expression.infer.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))infer(?=\\\\s+[_$[:alpha:]])"},{"name":"keyword.operator.expression.import.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\()"}]},"type-predicate-operator":{"name":"keyword.operator.expression.is.js","match":"(?<![_$[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))is(?![_$[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},"type-name":{"patterns":[{"match":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))","captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}}},{"name":"entity.name.type.js","match":"[_$[:alpha:]][_$[:alnum:]]*"}]},"punctuation-comma":{"name":"punctuation.separator.comma.js","match":","},"punctuation-semicolon":{"name":"punctuation.terminator.statement.js","match":";"},"punctuation-accessor":{"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*[[:digit:]])))","captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"}}},"string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"}]},"qstring-double":{"name":"string.quoted.double.js","begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(\\")|((?:[^\\\\\\\\\\\\n])$)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"invalid.illegal.newline.js"}},"patterns":[{"include":"#string-character-escape"}]},"qstring-single":{"name":"string.quoted.single.js","begin":"\'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(\\\\\')|((?:[^\\\\\\\\\\\\n])$)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"invalid.illegal.newline.js"}},"patterns":[{"include":"#string-character-escape"}]},"string-character-escape":{"name":"constant.character.escape.js","match":"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"},"template":{"patterns":[{"name":"string.template.js","begin":"([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?=(<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>|\\\\<\\\\s*(((keyof|infer)\\\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\\\{([^\\\\{\\\\}]|(\\\\{[^\\\\{\\\\}]*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[[^\\\\[\\\\]]*\\\\]))*\\\\])|(\\\\\'[^\\\\\']*\\\\\')|(\\\\\\"[^\\\\\\"]*\\\\\\")|(\\\\`[^\\\\`]*\\\\`))(?=\\\\s*([\\\\<\\\\>\\\\,\\\\.\\\\[=]|&(?!&)|\\\\|(?!\\\\|)))))([^<>\\\\(]|(\\\\(([^\\\\(\\\\)]|(\\\\([^\\\\(\\\\)]*\\\\)))*\\\\))|(?<==)\\\\>)*(?!=)\\\\>)*(?!=)>\\\\s*)`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js"}},"end":"(?=`)","patterns":[{"include":"#type-arguments"}]},{"name":"string.template.js","begin":"([_$[:alpha:]][_$[:alnum:]]*)?(`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js"},"2":{"name":"punctuation.definition.string.template.begin.js"}},"end":"`","endCaptures":{"0":{"name":"punctuation.definition.string.template.end.js"}},"patterns":[{"include":"#template-substitution-element"},{"include":"#string-character-escape"}]}]},"template-substitution-element":{"name":"meta.template.expression.js","begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.js"}},"end":"\\\\}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.js"}},"patterns":[{"include":"#expression"}],"contentName":"meta.embedded.line.js"},"regex":{"patterns":[{"name":"string.regexp.js","begin":"(?<!\\\\+\\\\+|--)(?<=[=(:,\\\\[?+!]|^return|[^\\\\._$[:alnum:]]return|^case|[^\\\\._$[:alnum:]]case|=>|&&|\\\\|\\\\||\\\\*\\\\/)\\\\s*(\\\\/)(?![\\\\/*])(?=(?:[^\\\\/\\\\\\\\\\\\[]|\\\\\\\\.|\\\\[([^\\\\]\\\\\\\\]|\\\\\\\\.)+\\\\])+\\\\/[gimsuy]*(?!\\\\s*[a-zA-Z0-9_$]))","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.js"}},"end":"(/)([gimsuy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"keyword.other.js"}},"patterns":[{"include":"#regexp"}]},{"name":"string.regexp.js","begin":"(?<![_$[:alnum:])\\\\]]|\\\\+\\\\+|--)\\\\/(?![\\\\/*])(?=(?:[^\\\\/\\\\\\\\\\\\[]|\\\\\\\\.|\\\\[([^\\\\]\\\\\\\\]|\\\\\\\\.)+\\\\])+\\\\/[gimsuy]*(?!\\\\s*[a-zA-Z0-9_$]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(/)([gimsuy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"keyword.other.js"}},"patterns":[{"include":"#regexp"}]}]},"regexp":{"patterns":[{"name":"keyword.control.anchor.regexp","match":"\\\\\\\\[bB]|\\\\^|\\\\$"},{"match":"\\\\\\\\[1-9]\\\\d*|\\\\\\\\k<([a-zA-Z_$][\\\\w$]*)>","captures":{"0":{"name":"keyword.other.back-reference.regexp"},"1":{"name":"variable.other.regexp"}}},{"name":"keyword.operator.quantifier.regexp","match":"[?+*]|\\\\{(\\\\d+,\\\\d+|\\\\d+,|,\\\\d+|\\\\d+)\\\\}\\\\??"},{"name":"keyword.operator.or.regexp","match":"\\\\|"},{"name":"meta.group.assertion.regexp","begin":"(\\\\()((\\\\?=)|(\\\\?!)|(\\\\?<=)|(\\\\?<!))","beginCaptures":{"1":{"name":"punctuation.definition.group.regexp"},"2":{"name":"punctuation.definition.group.assertion.regexp"},"3":{"name":"meta.assertion.look-ahead.regexp"},"4":{"name":"meta.assertion.negative-look-ahead.regexp"},"5":{"name":"meta.assertion.look-behind.regexp"},"6":{"name":"meta.assertion.negative-look-behind.regexp"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.group.regexp"}},"patterns":[{"include":"#regexp"}]},{"name":"meta.group.regexp","begin":"\\\\((?:(\\\\?:)|(?:\\\\?<([a-zA-Z_$][\\\\w$]*)>))?","beginCaptures":{"0":{"name":"punctuation.definition.group.regexp"},"1":{"name":"punctuation.definition.group.no-capture.regexp"},"2":{"name":"variable.other.regexp"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.regexp"}},"patterns":[{"include":"#regexp"}]},{"name":"constant.other.character-class.set.regexp","begin":"(\\\\[)(\\\\^)?","beginCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"},"2":{"name":"keyword.operator.negation.regexp"}},"end":"(\\\\])","endCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"}},"patterns":[{"name":"constant.other.character-class.range.regexp","match":"(?:.|(\\\\\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))\\\\-(?:[^\\\\]\\\\\\\\]|(\\\\\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))","captures":{"1":{"name":"constant.character.numeric.regexp"},"2":{"name":"constant.character.control.regexp"},"3":{"name":"constant.character.escape.backslash.regexp"},"4":{"name":"constant.character.numeric.regexp"},"5":{"name":"constant.character.control.regexp"},"6":{"name":"constant.character.escape.backslash.regexp"}}},{"include":"#regex-character-class"}]},{"include":"#regex-character-class"}]},"regex-character-class":{"patterns":[{"name":"constant.other.character-class.regexp","match":"\\\\\\\\[wWsSdDtrnvf]|\\\\."},{"name":"constant.character.numeric.regexp","match":"\\\\\\\\([0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})"},{"name":"constant.character.control.regexp","match":"\\\\\\\\c[A-Z]"},{"name":"constant.character.escape.backslash.regexp","match":"\\\\\\\\."}]},"comment":{"patterns":[{"name":"comment.block.documentation.js","begin":"/\\\\*\\\\*(?!/)","beginCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"patterns":[{"include":"#docblock"}]},{"name":"comment.block.js","begin":"(/\\\\*)(?:\\\\s*((@)internal)(?=\\\\s|(\\\\*/)))?","beginCaptures":{"1":{"name":"punctuation.definition.comment.js"},"2":{"name":"storage.type.internaldeclaration.js"},"3":{"name":"punctuation.decorator.internaldeclaration.js"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js"}}},{"begin":"(^[ \\\\t]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js"},"2":{"name":"comment.line.double-slash.js"},"3":{"name":"punctuation.definition.comment.js"},"4":{"name":"storage.type.internaldeclaration.js"},"5":{"name":"punctuation.decorator.internaldeclaration.js"}},"end":"(?=^)","contentName":"comment.line.double-slash.js"}]},"directives":{"name":"comment.line.triple-slash.directive.js","begin":"^(///)\\\\s*(?=<(reference|amd-dependency|amd-module)(\\\\s+(path|types|no-default-lib|lib|name)\\\\s*=\\\\s*((\\\\\'([^\\\\\'\\\\\\\\]|\\\\\\\\\\\\\'|\\\\\\\\)*\\\\\')|(\\\\\\"([^\\\\\\"\\\\\\\\]|\\\\\\\\\\\\\\"|\\\\\\\\)*\\\\\\")))+\\\\s*/>\\\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.js"}},"end":"(?=^)","patterns":[{"name":"meta.tag.js","begin":"(<)(reference|amd-dependency|amd-module)","beginCaptures":{"1":{"name":"punctuation.definition.tag.directive.js"},"2":{"name":"entity.name.tag.directive.js"}},"end":"/>","endCaptures":{"0":{"name":"punctuation.definition.tag.directive.js"}},"patterns":[{"name":"entity.other.attribute-name.directive.js","match":"path|types|no-default-lib|lib|name"},{"name":"keyword.operator.assignment.js","match":"="},{"include":"#string"}]}]},"docblock":{"patterns":[{"match":"(?x)\\n((@)(?:access|api))\\n\\\\s+\\n(private|protected|public)\\n\\\\b","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.access-type.jsdoc"}}},{"match":"(?x)\\n((@)author)\\n\\\\s+\\n(\\n  [^@\\\\s<>*/]\\n  (?:[^@<>*/]|\\\\*[^/])*\\n)\\n(?:\\n  \\\\s*\\n  (<)\\n  ([^>\\\\s]+)\\n  (>)\\n)?","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"5":{"name":"constant.other.email.link.underline.jsdoc"},"6":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"match":"(?x)\\n((@)borrows) \\\\s+\\n((?:[^@\\\\s*/]|\\\\*[^/])+)    # <that namepath>\\n\\\\s+ (as) \\\\s+              # as\\n((?:[^@\\\\s*/]|\\\\*[^/])+)    # <this namepath>","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"keyword.operator.control.jsdoc"},"5":{"name":"entity.name.type.instance.jsdoc"}}},{"name":"meta.example.jsdoc","begin":"((@)example)\\\\s+","end":"(?=@|\\\\*/)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"patterns":[{"match":"^\\\\s\\\\*\\\\s+"},{"contentName":"constant.other.description.jsdoc","begin":"\\\\G(<)caption(>)","beginCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"end":"(</)caption(>)|(?=\\\\*/)","endCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"match":"[^\\\\s@*](?:[^*]|\\\\*[^/])*","captures":{"0":{"name":"source.embedded.js"}}}]},{"match":"(?x) ((@)kind) \\\\s+ (class|constant|event|external|file|function|member|mixin|module|namespace|typedef) \\\\b","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.symbol-type.jsdoc"}}},{"match":"(?x)\\n((@)see)\\n\\\\s+\\n(?:\\n  # URL\\n  (\\n    (?=https?://)\\n    (?:[^\\\\s*]|\\\\*[^/])+\\n  )\\n  |\\n  # JSDoc namepath\\n  (\\n    (?!\\n      # Avoid matching bare URIs (also acceptable as links)\\n      https?://\\n      |\\n      # Avoid matching {@inline tags}; we match those below\\n      (?:\\\\[[^\\\\[\\\\]]*\\\\])? # Possible description [preceding]{@tag}\\n      {@(?:link|linkcode|linkplain|tutorial)\\\\b\\n    )\\n    # Matched namepath\\n    (?:[^@\\\\s*/]|\\\\*[^/])+\\n  )\\n)","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.link.underline.jsdoc"},"4":{"name":"entity.name.type.instance.jsdoc"}}},{"match":"(?x)\\n((@)template)\\n\\\\s+\\n# One or more valid identifiers\\n(\\n  [A-Za-z_$]         # First character: non-numeric word character\\n  [\\\\w$.\\\\[\\\\]]*        # Rest of identifier\\n  (?:                # Possible list of additional identifiers\\n    \\\\s* , \\\\s*\\n    [A-Za-z_$]\\n    [\\\\w$.\\\\[\\\\]]*\\n  )*\\n)","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}}},{"match":"(?x)\\n(\\n  (@)\\n  (?:arg|argument|const|constant|member|namespace|param|var)\\n)\\n\\\\s+\\n(\\n  [A-Za-z_$]\\n  [\\\\w$.\\\\[\\\\]]*\\n)","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}}},{"begin":"((@)typedef)\\\\s+(?={)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^{}\\\\[\\\\]A-Za-z_$])","patterns":[{"include":"#jsdoctype"},{"name":"entity.name.type.instance.jsdoc","match":"(?:[^@\\\\s*/]|\\\\*[^/])+"}]},{"begin":"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\\\s+(?={)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^{}\\\\[\\\\]A-Za-z_$])","patterns":[{"include":"#jsdoctype"},{"name":"variable.other.jsdoc","match":"([A-Za-z_$][\\\\w$.\\\\[\\\\]]*)"},{"name":"variable.other.jsdoc","match":"(?x)\\n(\\\\[)\\\\s*\\n[\\\\w$]+\\n(?:\\n  (?:\\\\[\\\\])?                                        # Foo[ ].bar properties within an array\\n  \\\\.                                                # Foo.Bar namespaced parameter\\n  [\\\\w$]+\\n)*\\n(?:\\n  \\\\s*\\n  (=)                                                # [foo=bar] Default parameter value\\n  \\\\s*\\n  (\\n    # The inner regexes are to stop the match early at */ and to not stop at escaped quotes\\n    (?>\\n      \\"(?:(?:\\\\*(?!/))|(?:\\\\\\\\(?!\\"))|[^*\\\\\\\\])*?\\" |                      # [foo=\\"bar\\"] Double-quoted\\n      \'(?:(?:\\\\*(?!/))|(?:\\\\\\\\(?!\'))|[^*\\\\\\\\])*?\' |                      # [foo=\'bar\'] Single-quoted\\n      \\\\[ (?:(?:\\\\*(?!/))|[^*])*? \\\\] |                                # [foo=[1,2]] Array literal\\n      (?:(?:\\\\*(?!/))|\\\\s(?!\\\\s*\\\\])|\\\\[.*?(?:\\\\]|(?=\\\\*/))|[^*\\\\s\\\\[\\\\]])*   # Everything else\\n    )*\\n  )\\n)?\\n\\\\s*(?:(\\\\])((?:[^*\\\\s]|\\\\*[^\\\\s/])+)?|(?=\\\\*/))","captures":{"1":{"name":"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},"2":{"name":"keyword.operator.assignment.jsdoc"},"3":{"name":"source.embedded.js"},"4":{"name":"punctuation.definition.optional-value.end.bracket.square.jsdoc"},"5":{"name":"invalid.illegal.syntax.jsdoc"}}}]},{"begin":"(?x)\\n(\\n  (@)\\n  (?:define|enum|exception|export|extends|lends|implements|modifies\\n  |namespace|private|protected|returns?|suppress|this|throws|type\\n  |yields?)\\n)\\n\\\\s+(?={)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^{}\\\\[\\\\]A-Za-z_$])","patterns":[{"include":"#jsdoctype"}]},{"match":"(?x)\\n(\\n  (@)\\n  (?:alias|augments|callback|constructs|emits|event|fires|exports?\\n  |extends|external|function|func|host|lends|listens|interface|memberof!?\\n  |method|module|mixes|mixin|name|requires|see|this|typedef|uses)\\n)\\n\\\\s+\\n(\\n  (?:\\n    [^{}@\\\\s*] | \\\\*[^/]\\n  )+\\n)","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"}}},{"contentName":"variable.other.jsdoc","begin":"((@)(?:default(?:value)?|license|version))\\\\s+(([\'\'\\"]))","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"},"4":{"name":"punctuation.definition.string.begin.jsdoc"}},"end":"(\\\\3)|(?=$|\\\\*/)","endCaptures":{"0":{"name":"variable.other.jsdoc"},"1":{"name":"punctuation.definition.string.end.jsdoc"}}},{"match":"((@)(?:default(?:value)?|license|tutorial|variation|version))\\\\s+([^\\\\s*]+)","captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}}},{"name":"storage.type.class.jsdoc","match":"(?x) (@) (?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles |callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright |default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception |exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func |function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc |inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method |mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects |override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected |public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary |suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation |version|virtual|writeOnce|yields?) \\\\b","captures":{"1":{"name":"punctuation.definition.block.tag.jsdoc"}}},{"include":"#inline-tags"}]},"brackets":{"patterns":[{"begin":"{","end":"}|(?=\\\\*/)","patterns":[{"include":"#brackets"}]},{"begin":"\\\\[","end":"\\\\]|(?=\\\\*/)","patterns":[{"include":"#brackets"}]}]},"inline-tags":{"patterns":[{"name":"constant.other.description.jsdoc","match":"(\\\\[)[^\\\\]]+(\\\\])(?={@(?:link|linkcode|linkplain|tutorial))","captures":{"1":{"name":"punctuation.definition.bracket.square.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.square.end.jsdoc"}}},{"name":"entity.name.type.instance.jsdoc","begin":"({)((@)(?:link(?:code|plain)?|tutorial))\\\\s*","beginCaptures":{"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"},"2":{"name":"storage.type.class.jsdoc"},"3":{"name":"punctuation.definition.inline.tag.jsdoc"}},"end":"}|(?=\\\\*/)","endCaptures":{"0":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"match":"\\\\G((?=https?://)(?:[^|}\\\\s*]|\\\\*[/])+)(\\\\|)?","captures":{"1":{"name":"variable.other.link.underline.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}}},{"match":"\\\\G((?:[^{}@\\\\s|*]|\\\\*[^/])+)(\\\\|)?","captures":{"1":{"name":"variable.other.description.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}}}]}]},"jsdoctype":{"patterns":[{"name":"invalid.illegal.type.jsdoc","match":"\\\\G{(?:[^}*]|\\\\*[^/}])+$"},{"contentName":"entity.name.type.instance.jsdoc","begin":"\\\\G({)","beginCaptures":{"0":{"name":"entity.name.type.instance.jsdoc"},"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"}},"end":"((}))\\\\s*|(?=\\\\*/)","endCaptures":{"1":{"name":"entity.name.type.instance.jsdoc"},"2":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"include":"#brackets"}]}]},"jsx":{"patterns":[{"include":"#jsx-tag-without-attributes-in-expression"},{"include":"#jsx-tag-in-expression"}]},"jsx-tag-without-attributes-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[({\\\\[,?=>:*]|&&|\\\\|\\\\||\\\\?|^return|[^\\\\._$[:alnum:]]return|^default|[^\\\\._$[:alnum:]]default|^)\\\\s*(?=(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))?\\\\s*(>))","end":"(?!(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))?\\\\s*(>))","patterns":[{"include":"#jsx-tag-without-attributes"}]},"jsx-tag-without-attributes":{"name":"meta.tag.without-attributes.js","begin":"(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))?\\\\s*(>)","end":"(</)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))?\\\\s*(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"},"6":{"name":"punctuation.definition.tag.end.js"}},"endCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"},"6":{"name":"punctuation.definition.tag.end.js"}},"contentName":"meta.jsx.children.js","patterns":[{"include":"#jsx-children"}]},"jsx-tag-in-expression":{"begin":"(?x)\\n  (?<!\\\\+\\\\+|--)(?<=[({\\\\[,?=>:*]|&&|\\\\|\\\\||\\\\?|^return|[^\\\\._$[:alnum:]]return|^default|[^\\\\._$[:alnum:]]default|^)\\\\s*\\n  (?!<\\\\s*[_$[:alpha:]][_$[:alnum:]]*((\\\\s+extends\\\\s+[^=>])|,)) # look ahead is not type parameter of arrow\\n  (?=(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|\\\\/?>))","end":"(?!(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|\\\\/?>))","patterns":[{"include":"#jsx-tag"}]},"jsx-tag":{"name":"meta.tag.js","begin":"(?=(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|\\\\/?>))","end":"(/>)|(?:(</)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))?\\\\s*(>))","endCaptures":{"1":{"name":"punctuation.definition.tag.end.js"},"2":{"name":"punctuation.definition.tag.begin.js"},"3":{"name":"entity.name.tag.namespace.js"},"4":{"name":"punctuation.separator.namespace.js"},"5":{"name":"entity.name.tag.js"},"6":{"name":"support.class.component.js"},"7":{"name":"punctuation.definition.tag.end.js"}},"patterns":[{"begin":"(<)\\\\s*(?:([_$a-zA-Z][-$\\\\w.]*)(?<!\\\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\\\w.]*))(?<!\\\\.|-))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|\\\\/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"}},"end":"(?=[/]?>)","patterns":[{"include":"#comment"},{"include":"#type-arguments"},{"include":"#jsx-tag-attributes"}]},{"begin":"(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.end.js"}},"end":"(?=</)","contentName":"meta.jsx.children.js","patterns":[{"include":"#jsx-children"}]}]},"jsx-children":{"patterns":[{"include":"#jsx-tag-without-attributes"},{"include":"#jsx-tag"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-entities"}]},"jsx-evaluated-code":{"name":"meta.embedded.expression.js","begin":"\\\\{","end":"\\\\}","beginCaptures":{"0":{"name":"punctuation.section.embedded.begin.js"}},"endCaptures":{"0":{"name":"punctuation.section.embedded.end.js"}},"patterns":[{"include":"#expression"}]},"jsx-entities":{"patterns":[{"name":"constant.character.entity.js","match":"(&)([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+)(;)","captures":{"1":{"name":"punctuation.definition.entity.js"},"3":{"name":"punctuation.definition.entity.js"}}},{"name":"invalid.illegal.bad-ampersand.js","match":"&"}]},"jsx-tag-attributes":{"name":"meta.tag.attributes.js","begin":"\\\\s+","end":"(?=[/]?>)","patterns":[{"include":"#comment"},{"include":"#jsx-tag-attribute-name"},{"include":"#jsx-tag-attribute-assignment"},{"include":"#jsx-string-double-quoted"},{"include":"#jsx-string-single-quoted"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-tag-attributes-illegal"}]},"jsx-tag-attribute-name":{"match":"(?x)\\n  \\\\s*\\n  (?:([_$a-zA-Z][-$\\\\w.]*)(:))?\\n  ([_$a-zA-Z][-$\\\\w]*)\\n  (?=\\\\s|=|/?>|/\\\\*|//)","captures":{"1":{"name":"entity.other.attribute-name.namespace.js"},"2":{"name":"punctuation.separator.namespace.js"},"3":{"name":"entity.other.attribute-name.js"}}},"jsx-tag-attribute-assignment":{"name":"keyword.operator.assignment.js","match":"=(?=\\\\s*(?:\'|\\"|{|/\\\\*|//|\\\\n))"},"jsx-string-double-quoted":{"name":"string.quoted.double.js","begin":"\\"","end":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.js"}},"patterns":[{"include":"#jsx-entities"}]},"jsx-string-single-quoted":{"name":"string.quoted.single.js","begin":"\'","end":"\'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.js"}},"patterns":[{"include":"#jsx-entities"}]},"jsx-tag-attributes-illegal":{"name":"invalid.illegal.attribute.js","match":"\\\\S+"}}}')},c455:function(e,t,n){"use strict";var o=n("bc3a"),a=n.n(o);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){return u(e)||d(e,t)||c(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(c){s=!0,a=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function u(e){if(Array.isArray(e))return e}var p=n("f121"),m=!1,f=a.a.create({baseURL:p.API_PATH,timeout:36e5,headers:m?{clikey:"DEcTjQRFbiYitFydhC2m5kd8JHieQrsztrbiPaz5DbHk68AWbmMBe7ShXw2ncwp5"}:{},trimNull:!1,withCredentials:!0,needLoading:!1,ignoreCode:!1});f.interceptors.request.use((function(e){if(e.needLoading&&window.EMA.fire("loading.show"),e.data=e.data||{},e.trimNull&&!(e.data instanceof window.FormData)){var t=Object.assign({},e.data);n(t),e.data=t}return e;function n(e){for(var t=0,o=Object.entries(e);t<o.length;t++){var a=r(o[t],2),s=a[0],c=a[1];if(!c&&"number"!==typeof c)return void(e[s]=null);"object"!==i(c)||c instanceof Date||n(c)}}}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){e.config.needLoading&&window.EMA.fire("loading.hide");var t=0==e.data.result?"0":e.data.result||"";if(t&&1!=t&&!e.config.ignoreCode){switch(t){case 999:window.EMA.fire("alert.show","认证失败,重新登录",(function(){window.EMA.fire("logout")}));break;default:window.EMA.fire("alert.show",e.data.msg||e.data.errorMsg,(function(){}))}return Promise.reject(e)}return e}),(function(e){window.EMA.fire("loading.hide");var t=e.response&&e.response.status,n=e.message;return 200!=t&&(401==t?window.EMA.fire("alert.show","认证失败,重新登录",(function(){window.EMA.fire("logout")})):403==t?((document.querySelector("body > .editorWarp")||{}).innerHTML="",window.EMA.fire("alert.show","你无权限访问该内容,请联系相关人员分配权限",(function(){window.onbeforeunload=null,window.onunload=null,history.go(-1)}))):window.EMA.fire("alert.show",n,(function(){}))),Promise.reject(e)})),t["a"]=f},c4a9:function(e,t,n){},c552:function(e,t,n){"use strict";n("44c8")},c97c:function(e,t,n){},c9eb:function(e,t,n){},cae0:function(e,t,n){},ce3b:function(e,t,n){"use strict";n("d836")},cf76:function(e,t,n){},d157:function(e){e.exports=JSON.parse('{"tokenColors":[{"settings":{"background":"#1c1e21","foreground":"#4a79cf","findHighlight":"#FFE792","findHighlightForeground":"#000000","selectionBorder":"#222218","activeGuide":"#9D550FB0","bracketsForeground":"#F8F8F2A5","bracketsOptions":"underline","bracketContentsForeground":"#F8F8F2A5","bracketContentsOptions":"underline","tagsOptions":"stippled_underline"}},{"name":"Comment","scope":["comment","string.comment"],"settings":{"foreground":"#676f7d","fontStyle":"italic"}},{"name":"String","scope":"string","settings":{"foreground":"#e5c07b"}},{"name":"js template-expression","scope":"punctuation.definition.template-expression.begin.js,punctuation.definition.template-expression.end.js,punctuation.definition.template-expression.begin.ts,punctuation.definition.template-expression.end.ts","settings":{"foreground":"#c678dd"}},{"name":"TemplateString","scope":"string.template.js","settings":{"foreground":"#e5c07b"}},{"name":"TemplateString","scope":"meta.template.expression.js","settings":{"foreground":"#abb2bf"}},{"name":"Number","scope":"constant.numeric","settings":{"foreground":"#c678dd"}},{"name":"Embeded String Begin and End","scope":["string.embedded.begin","string.embedded.end"],"settings":{"foreground":"#c678dd"}},{"name":"Embeded String","scope":"string.embedded","settings":{"foreground":"#98c379"}},{"name":"Built-in constant","scope":"constant.language","settings":{"foreground":"#56b6c2"}},{"name":"User-defined constant","scope":["constant.character","constant.other"],"settings":{"foreground":"#56b6c2"}},{"name":"Language Variable","scope":"variable.language","settings":{"foreground":"#e06c75"}},{"name":"Variable","scope":["variable.readwrite","variable.readwrite.other.block"],"settings":{"foreground":"#61afef"}},{"name":"Keyword","scope":["keyword","keyword.operator.logical","keyword.operator.constructor"],"settings":{"foreground":"#e06c75"}},{"name":"Keyword Operator","scope":"keyword.operator","settings":{"foreground":"#e06c75"}},{"name":"Storage","scope":"storage","settings":{"foreground":"#e06c75"}},{"name":"Storage type","scope":"storage.type","settings":{"foreground":"#56b6c2"}},{"name":"Class name","scope":["entity.name.class","entity.name.module","entity.name.type","storage.identifier","support.class"],"settings":{"foreground":"#61afef"}},{"name":"Variable Object","scope":"variable.other.object","settings":{"foreground":"#61afef"}},{"name":"Other variable","scope":["variable.other.property","variable.other.block"],"settings":{"foreground":"#abb2bf"}},{"name":"Inherited class","scope":"entity.other.inherited-class","settings":{"foreground":"#98c379"}},{"name":"Function name","scope":["entity.name.function","support.function"],"settings":{"foreground":"#98c379"}},{"name":"Function argument","scope":"variable.parameter","settings":{"fontStyle":"italic","foreground":"#d19a66"}},{"name":"Function call","scope":"entity.name.function-call","settings":{"foreground":"#abb2bf"}},{"name":"Builtin Functions","scope":["function.support.builtin","function.support.core"],"settings":{"foreground":"#98c379"}},{"name":"Tag name","scope":["entity.name.tag","entity.name.tag.class.js","entity.name.tag.class.jsx"],"settings":{"foreground":"#e06c75"}},{"name":"Tag Class and ID","scope":["entity.name.tag.class","entity.name.tag.id"],"settings":{"foreground":"#56b6c2"}},{"name":"Tag attribute","scope":"entity.other.attribute-name","settings":{"foreground":"#98c379"}},{"name":"Library constant","scope":"support.constant","settings":{"foreground":"#56b6c2"}},{"name":"Library class/type","scope":["support.type","support.variable"],"settings":{"foreground":"#56b6c2"}},{"name":"Json Property","scope":"support.dictionary.json","settings":{"foreground":"#56b6c2"}},{"name":"StyleSheet Property name","scope":["support.type.property-name.css","support.type.property-name.scss","support.type.property-name.less","support.type.property-name.sass"],"settings":{"foreground":"#abb2bf"}},{"name":"StyleSheet Property value","scope":["support.constant.css","support.constant.scss","support.constant.less","support.constant.sass"],"settings":{"foreground":"#98c379"}},{"name":"StyleSheet Variable","scope":["variable.css","variable.scss","variable.less","variable.sass"],"settings":{"foreground":"#56b6c2"}},{"name":"StyleSheet Variable String","scope":["variable.css.string","variable.scss.string","variable.less.string","variable.sass.string"],"settings":{"foreground":"#e5c07b"}},{"name":"StyleSheet Unit","scope":["unit.css","unit.scss","unit.less","unit.sass"],"settings":{"foreground":"#c678dd"}},{"name":"StyleSheet Function","scope":["function.css","function.scss","function.less","function.sass"],"settings":{"foreground":"#56b6c2"}},{"name":"Library variable","scope":"support.other.variable","settings":{"fontStyle":""}},{"name":"Invalid","scope":"invalid","settings":{"background":"#c678dd","foreground":"#F8F8F0"}},{"name":"Invalid deprecated","scope":"invalid.deprecated","settings":{"background":"#56b6c2","foreground":"#F8F8F0"}},{"name":"JSON String","scope":"structure.dictionary.property-name.json","settings":{"foreground":"#56b6c2"}},{"name":"Link","scope":"string.detected-link","settings":{"foreground":"#61afef"}},{"name":"diff.header","scope":["meta.diff","meta.diff.header"],"settings":{"foreground":"#75715E"}},{"name":"diff.deleted","scope":"markup.deleted","settings":{"foreground":"#c678dd"}},{"name":"diff.inserted","scope":"markup.inserted","settings":{"foreground":"#e5c07b"}},{"name":"diff.changed","scope":"markup.changed","settings":{"foreground":"#e5c07b"}},{"scope":"constant.numeric.line-number.find-in-files - match","settings":{"foreground":"#56b6c2A0"}},{"scope":"entity.name.filename.find-in-files","settings":{"foreground":"#e5c07b"}},{"name":"Markup: Emphasis","scope":"markup.italic, markup.italic.markdown","settings":{"fontStyle":"italic"}},{"name":"Markup: Emphasis Punctuation","scope":"punctuation.definition.italic.markdown","settings":{"fontStyle":"none","foreground":"#696969"}},{"name":"Markdown: Link","scope":"markup.underline.link.markdown","settings":{"foreground":"#61afef"}},{"name":"Markdown: Bold","scope":"markup.bold.markdown","settings":{"fontStyle":"bold"}},{"name":"Markdown: Bold Punctuation","scope":"punctuation.definition.bold.markdown","settings":{"fontStyle":"none","foreground":"#696969"}},{"name":"Markdown: Heading","scope":"markup.heading.markdown","settings":{"fontStyle":"bold","foreground":"#e06c75"}},{"name":"Markdown: Heading","scope":"punctuation.definition.heading.markdown","settings":{"fontStyle":"none","foreground":"#696969"}},{"name":"Markdown: Quote","scope":"markup.quote.markdown","settings":{"foreground":"#98c379"}},{"name":"Markdown: Separator","scope":"meta.separator.markdown","settings":{"foreground":"#c678dd","fontStyle":"bold"}},{"name":"Markdown: Raw","scope":"markup.raw.inline.markdown, markup.raw.block.markdown","settings":{"foreground":"#56b6c2"}},{"name":"Markdown: List Punctuation","scope":"punctuation.definition.list_item.markdown","settings":{"fontStyle":"bold","foreground":"#ffffff"}}],"colors":{"activityBar.background":"#2F333D","activityBar.foreground":"#D7DAE0","activityBarBadge.background":"#528bff","activityBarBadge.foreground":"#F8FAFD","button.background":"#528bff","dropdown.background":"#1d1f23","diffEditor.insertedTextBackground":"#00809B33","dropdown.border":"#181A1F","editor.background":"#1c1e21","editorError.foreground":"#c24038","editorRuler.foreground":"#484848","editor.lineHighlightBackground":"#383E4A","editor.selectionBackground":"#3E4451","editorCursor.foreground":"#f8f8f0","editor.editor.findMatchBackground":"#42557B","editor.findMatchHighlightBackground":"#314365","editorGroup.background":"#181A1F","editorGroup.border":"#181A1F","editorGroupHeader.tabsBackground":"#21252B","editorIndentGuide.background":"#3B4048","editorLineNumber.foreground":"#495162","editorWhitespace.foreground":"#484a50","editorHoverWidget.background":"#21252B","editorHoverWidget.border":"#181A1F","editorSuggestWidget.background":"#21252B","editorSuggestWidget.border":"#181A1F","editorSuggestWidget.selectedBackground":"#2c313a","editorWidget.background":"#21252B","input.background":"#1d1f23","list.activeSelectionBackground":"#2c313a","list.activeSelectionForeground":"#d7dae0","list.focusBackground":"#383E4A","list.hoverBackground":"#292d35","list.highlightForeground":"#C5C5C5","list.inactiveSelectionBackground":"#2c313a","list.inactiveSelectionForeground":"#d7dae0","notification.background":"#21252b","scrollbarSlider.background":"#4E566680","scrollbarSlider.activeBackground":"#747D9180","scrollbarSlider.hoverBackground":"#5A637580","sideBar.background":"#21252b","sideBarSectionHeader.background":"#1c1e21","statusBar.background":"#21252B","statusBar.foreground":"#9da5b4","statusBarItem.hoverBackground":"#2c313a","statusBar.noFolderBackground":"#21252B","statusBar.debuggingBackground":"#21252B","tab.activeBackground":"#383E4A","tab.border":"#181A1F","tab.inactiveBackground":"#21252B","titleBar.activeBackground":"#1c1e21","titleBar.activeForeground":"#9da5b4","titleBar.inactiveBackground":"#1c1e21","titleBar.inactiveForeground":"#6B717D"},"name":"One Monokai"}')},d3d6:function(e,t,n){"use strict";n("f65f")},d836:function(e,t,n){},d8b2:function(e,t,n){"use strict";n("9434")},db69:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],attrs:{size:e.size,id:"virtualUpload",type:"primary"}},[e._v("上传\n  "),n("i",{staticClass:"el-icon-upload el-icon--right"})])},a=[],i=n("e97e"),r=n("46ee"),s=n.n(r),c=n("c455"),l=function(e){Object(c["a"])({url:"upload/getTocken",method:"get",needLoading:!1,data:{}}).then((function(t){var n=t.data.data;e(n)}))},d=function(e){var t=e.id,n=(e.skipSizeCheck,e.filters),o=e.isAddUploadFile,a=e.callback;this.imgSrc="";var r=!1,c=this,l={image:{title:"资源选择",extensions:"jpg,gif,png,jpeg"},video:{title:"资源选择",extensions:"mp4"},audio:{title:"资源选择",extensions:"mp3"},file:{title:"资源选择",extensions:"csv,json,txt"}};window.mOxie&&(window.mOxie.Mime.mimes.csv=".csv"),this.uploader=new s.a.Uploader({runtimes:"html5",browse_button:t,url:"https://oss.aliyuncs.com",filters:[l[n]],prevent_duplicates:!0,max_file_size:"100mb",init:{PostInit:function(){},FilesAdded:function(e,t){if(r)return!1;r=!0;var n=this,a=t[0].name;if(o){var s=a.lastIndexOf(".");-1!==s&&(a="ymm_"+(new Date).getTime()+a.substring(s)),Object(i["e"])(t[0].getNative(),(function(e){var o=new window.File([Object(i["c"])(e,t[0].type)],a,{type:t[0].type});n.addFile(o),n.removeFile(t[0]),c.send(a)}))}},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(e,t,n){200===n.status&&(c.imgSrc=c.imgSrc.replace("ymm.oss-cn-hangzhou.aliyuncs.com","imagecdn.ymm56.com"),a(c.imgSrc)),r=!1},Error:function(e,t){}}}),this.uploader.init()};d.prototype.send=function(e){var t=this,n=e||"ymm"+(new Date).getTime()+".png";l((function(e){e.key=e.dir+"resource/"+n,t.imgSrc=e.host+"/"+e.key;var o={key:e.key,policy:e.policy,OSSAccessKeyId:e.accessid,success_action_status:"200",signature:e.signature};console.log("newMultipartParams",o),t.uploader.setOption({url:e.host,multipart_params:o}),t.uploader.start()}))};var u=d,p=n("ed03"),m={mixins:[p["a"]],name:"UploadImage",components:{},props:{h2c:{required:!1,type:Object,default:function(){return{}}},templateElement:{type:String},size:{type:String,default:"medium"},accept:{type:String,default:"image"},auto:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!1},skipSizeCheck:{type:Boolean,default:!1}},data:function(){return{uploadObject:null,options:null,onUploaded:null,templateData:{name:"",desc:""}}},watch:{accept:function(e){var t=this;this.uploadObject=new u({id:this.$el,skipSizeCheck:this.skipSizeCheck,isAddUploadFile:this.auto,filters:this.accept,callback:function(e){t.$emit("uploadSuccess",e),"function"===typeof t.onUploaded&&t.onUploaded(e)}})}},beforeDestroy:function(){},mounted:function(){var e=this;this.uploadObject=new u({id:this.$el,skipSizeCheck:this.skipSizeCheck,isAddUploadFile:this.auto,filters:this.accept,callback:function(t){e.$emit("uploadSuccess",t),"function"===typeof e.onUploaded&&e.onUploaded(t)}}),this.ema.bind("saveTemplate",(function(){e.options=null,e.onUploaded=null,e.getImageDataByDom(document.querySelector(e.templateElement),(function(t){e.uploadImg(t)}))}))},methods:{upload:function(e,t,n){var o=this;this.options=t||null,this.onUploaded=n||null;var a=this.options["fileName"];e=e||document.querySelector(this.templateElement),this.getImageDataByDom(e,(function(e){o.uploadImg(e,a)}))},uploadImg:function(e,t){var n=t||"ymm"+(new Date).getTime()+".png",o=this,a=new window.File([i["a"].getBlobBydataURI(e,"image/png")],n,{type:"image/png"});o.uploadObject.uploader.addFile(a),o.uploadObject.send(n)},getImageDataByDom:function(e,t){this.h2c.ignoreElements=function(e){return!!e.hasAttribute("ignorehtml2canvas")},i["a"].html2canvas(e,this.h2c).then((function(e){var n=e.toDataURL();t&&t(n)}))}}},f=m,h=n("2877"),g=Object(h["a"])(f,o,a,!1,null,"824307ea",null);t["a"]=g.exports},dda0:function(e,t,n){"use strict";n("c9eb")},df59:function(e,t,n){"use strict";n("cae0")},e120:function(e,t,n){"use strict";n("8ab0")},e463:function(e,t,n){"use strict";n("bf2f")},e88d:function(e,t,n){},e894:function(e,t,n){},e97e:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return h}));var o=n("a7fe"),a=n("c455"),i=n("f230"),r=n.n(i),s=n("f121");function c(e,t){return t=Object.assign({proxy:"".concat(s.API_PATH,"cors-proxy")},t),r()(e,t)}function l(e){function t(e){for(var n in e)e.hasOwnProperty(n)&&(/^__/g.test(n)&&delete e[n],e.child&&e.child.forEach((function(e){t(e)})))}t(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return d.cache||(d.cache={}),d.cache[e]?Promise.resolve():new Promise((function(n,o){t(e,(function(){d.cache[e]="cached",n()}),(function(){console.error("".concat(e," 加载失败")),o(new Error("".concat(e," 加载失败")))}))}));function t(e,t,n){var o=document.createElement("script");o.src=e,o.async=!0,o.onload=t,o.onerror=n,(document.body||document.head).appendChild(o)}}function u(e){if(e.id){p(e.id);var t={id:e.name,type:e.name,label:e.label,version:e.version,url:e.path,visible:!0,style:{},animate:[],props:{},path:e.path,script:""};e.style&&(t.style=Object.assign({position:"absolute",width:"80px",height:"80px",left:"0px",top:"0px"},e.style));var n=Object.keys(window.$_nodecomponents||{}).concat([e.name]);return t=Object(o["h"])(t,n),t.label&&(t.label=t.id.replace(e.id,t.label)),t}}function p(e){Object(a["a"])({url:"component/useone",method:"post",needLoading:!1,data:{id:e}}).then((function(){return!0})).catch(console.log)}function m(e){e=e||"0";var t=e.match(/^[-0-9.]+/);return t?t[0]-0:0}function f(e,t){for(var n=window.atob(e.split(",")[1]),o=[],a=0,i=n.length;a<i;a++)o.push(n.charCodeAt(a));var r=new window.Blob([new Uint8Array(o)],{type:t});return r}function h(e,t){var n=new window.FileReader;n.readAsDataURL(e),n.onload=function(e){t&&t(this.result)}}var g="https://cdn.staticfile.org/fingerprintjs2/1.8.0/fingerprint2.min.js",b="YMMFP";function y(){return y.promise||(y.promise=new Promise((function(e){var t=localStorage.getItem(b);if(t)return e(t);d(g).then((function(){window.Fingerprint2||e("unknown"),window.Fingerprint2&&(new window.Fingerprint2).get((function(t){localStorage.setItem(b,t),e(t)}))}))}))),y.promise}t["a"]={html2canvas:c,removeAttr:l,loadJs:d,getBaseNode:u,useComponent:p,getNumber:m,getBlobBydataURI:f,readAsDataURL:h,getFingerPrint:y}},eb67:function(e,t,n){"use strict";n("0e92")},ebf2:function(e,t,n){},ed03:function(e,t,n){"use strict";var o=n("f7ab"),a=n.n(o),i=n("5880");t["a"]={props:[],data:function(){return{}},created:function(){this.ema=a.a.getProxy()},computed:Object(i["mapState"])({Config:function(e){return e.Config},Setting:function(e){return e.setting},RootNodeInfo:function(e){return e.RootNodeInfo},Metadata:function(e){return e.Metadata},App:function(e){return e.app},demoMode:function(e){return e.setting.demoMode}}),mounted:function(){},destroyed:function(){this.ema&&this.ema.dispose()},methods:{bindEvent:function(e,t){this.$options.name||console.warn("绑定事件的组件不存在组件名称",e),this.ema.bind("".concat(this.$options.name,".").concat(e),t)},openDialog:function(e){this.ema.fire("Dialogs.push",e)}}}},ed6a:function(e){e.exports=JSON.parse('{"layout":{"children":[{"children":[{"children":[{"name":"组件树","component":"widgetComponentTree","close":true,"pop":true}],"type":"panel","flex":0.5371845949535192},{"children":[{"children":[{"name":"脚本","component":"widgetScriptEditor","style":{"width":"300px","height":"400px","left":"300px","top":"300px"},"close":false,"pop":true},{"name":"组件列表","component":"widgetComponent","close":true,"pop":true},{"name":"组合组件","component":"widgetCombinedComponents","close":true,"pop":true,"style":{"width":"472.75px","height":"378.5px","left":"377px","top":"472px"}}],"type":"panel","flex":1}],"type":"column","flex":0.4628154050464807}],"type":"column","flex":0.2351640648382981},{"children":[{"children":[{"name":"脚本编辑","component":"widgetCodePanel","close":false,"pop":false},{"name":"场景","component":"widgetScene","close":false,"pop":false},{"name":"商城","component":"widgetShop","close":true,"pop":true}],"type":"panel","flex":1}],"type":"column","flex":0.5016249900988153},{"children":[{"children":[{"name":"属性","component":"widgetAttribute","close":false,"pop":true},{"name":"样式","component":"widgetStyleEditor","close":false,"pop":true},{"name":"动画","component":"widgetAnimate","close":true,"pop":true},{"name":"页面设置","component":"widgetPageInfo","close":true,"pop":true}],"type":"panel","flex":1}],"type":"column","flex":0.2632109450628866}],"type":"row"},"dialogs":[],"version":1.3,"name":"develop"}')},ed84:function(e,t,n){"use strict";n("59e1")},ee76:function(e,t,n){"use strict";n("2a56")},eef8:function(e,t){e.exports={}},ef2b:function(e,t,n){"use strict";n("cf76")},f121:function(e,t,n){var o=n("79b9"),a=Object.assign(o,n("eef8"));["VIEW_PATH","ADMIN_PATH","EDITOR_PATH","API_PATH"].map((function(e){"/"!==a[e]&&(/^(https?:)?\/\//.test(a[e])?a[e]=a[e].replace(/\/*$/,"/"):a[e]=a[e].replace(/^\/*|\/*$/g,"/"))})),a.VIEW_NAME=(a.VIEW_PATH.match(/([^/]+)\/?$/)||["","view"])[1],a.EDITOR_NAME=(a.EDITOR_PATH.match(/([^/]+)\/?$/)||["","editor"])[1],e.exports=a},f230:function(e,t){e.exports=html2canvas},f2d4:function(e,t,n){"use strict";n("ff12")},f65f:function(e,t,n){},f7ab:function(e,t){var n=function(){var e={bind:function(e,t){if(e&&"string"===typeof e&&t&&t.constructor&&"function"===typeof t){var n=this.events[e];n||(n=this.events[e]=[]);var o=n.length;while(o--)if(n[o]==t)return!1;return n.push(t),!0}return!1},unbind:function(e,t){if(e&&e.constructor&&e.constructor==String){if(!t)return delete this.events[e],!0;if(t&&"function"===typeof t){var n=this.events[e];if(n&&n.length){var o=n.length;while(o--)if(n[o]==t){n.splice(o,1);break}return!0}return!1}}return!1},clear:function(){this.events=[]},fire:function(e){var t;if(e&&"string"===typeof e&&(t=this.events[e])&&t.length){var n,o=Array.prototype.slice.call(arguments,1),a=0;while(n=t[a++])n.apply(window,o);return!0}return!1},count:function(e){var t=this.events[e];return t?t.length:0},getProxy:function(){return new o(this)},events:[]};return e};function o(e){this.msgslot=e,this.msgs=[];var t=e.fire,n=e.async;this.fire=function(){t.apply(e,arguments)},this.async=function(){n.apply(e,arguments)}}o.prototype={bind:function(e,t){var n=this.msgslot.bind(e,t);return n&&this.msgs.push([e,t]),n},unbind:function(e,t){var n=this.msgslot,o=this.msgs;if(t&&"function"===typeof t){var a=n.unbind(e,t),i=o.length;while(--i>=0)o[i][0]==e&&o[i][1]==t&&o.splice(i,1);return a}i=this.msgs.length;while(i--)o[i][0]==e&&(n.unbind(e,o[i][1]),o.splice(i,1));return!0},dispose:function(){if(null!=this.msgs){var e=this.msgs,t=this.msgslot,n=e.length;while(n--)t.unbind(e[n][0],e[n][1]);this.msgslot=null,this.msgs=null}}},e.exports=n()},f875:function(e,t,n){"use strict";n("c222")},fa74:function(e,t,n){},fad3:function(e){e.exports=JSON.parse('{"layout":{"children":[{"children":[{"children":[{"name":"组场景","component":"widgetScene","close":false,"pop":false},{"name":"脚本编辑","component":"widgetCodePanel","style":{"width":"300px","height":"400px","left":"441px","top":"121px"},"close":true,"pop":true},{"name":"组件详情","component":"widgetComponentInfo","close":true,"pop":true,"style":{"width":"1820px","height":"878px","left":"3px","top":"344px"}}],"type":"panel","flex":0.85},{"children":[{"name":"动画","component":"widgetAnimate","close":true,"pop":true,"style":{"width":"360px","height":"400px","left":"1920px","top":"480px"}}],"type":"panel","flex":0.15}],"type":"column","flex":1}],"type":"row"},"dialogs":[{"children":[{"children":[{"name":"组件列表","component":"widgetComponent","close":true,"pop":true,"style":{"width":"360px","height":"434.5px","left":"100px","top":"97px"}},{"name":"合成组件","component":"widgetCombinedComponents","close":true,"pop":true,"style":{"width":"360px","height":"434.5px","left":"215px","top":"135px"}},{"name":"页面模板","component":"widgetPageTemplate"}],"type":"panel","flex":1}],"type":"column","flex":"1","style":{"width":"360px","height":"878px","left":"-360px","top":"75px"}},{"name":"属性","component":"widgetAttribute","close":false,"pop":true,"style":{"width":"360px","height":"685.515625px","left":"1920px","top":"75px"}},{"name":"样式","component":"widgetStyleEditor","close":false,"pop":true,"style":{"width":"360px","height":"685.515625px","left":"1920px","top":"210px"}},{"name":"脚本","component":"widgetScriptEditor","style":{"width":"364px","height":"406px","left":"1920px","top":"345px"},"close":true,"pop":true},{"name":"组件树","component":"widgetComponentTree","close":true,"pop":true,"style":{"width":"355px","height":"741px","left":"-353px","top":"210px"}},{"name":"页面设置","component":"widgetPageInfo","close":true,"pop":true,"style":{"width":"361px","height":"600px","left":"-361px","top":"345px"}}],"version":1,"name":"desktop"}')},fb4d:function(e,t,n){var o={"./default.json":"8d29","./desktop.json":"fad3","./develop.json":"ed6a","./flutter.json":"a81d"};function a(e){return i(e).then((function(e){return n.t(e,3)}))}function i(e){return Promise.resolve().then((function(){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}))}a.keys=function(){return Object.keys(o)},a.resolve=i,a.id="fb4d",e.exports=a},fb4e:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"codeviewer"},[n("div",{ref:"editor",staticClass:"editor"})])},a=[],i=n("a34a"),r=n.n(i),s=n("ed03"),c=n("c2c6"),l=n("3f10");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e){return v(e)||y(e)||b(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $=function(){function e(){k(this,e),this.themes={}}return _(e,[{key:"getTheme",value:function(e){return this.themes[e]}},{key:"register",value:function(e,t,n,o){var a,i=n||e.name,r={name:i,base:o||"vs",inherit:!0,colors:{},rules:[],settings:[]};if(this.themes[i])return this.themes[i];if(this.themes[i]=r,"undefined"!==typeof e.include)if(t&&t[e.include]){var s,d,u=this.register(t[e.include],t);Object.assign(r.colors,u.colors),(s=r.rules).push.apply(s,h(u.rules)),(d=r.settings).push.apply(d,h(u.settings))}else console.error("Couldn't resolve includes theme ".concat(e.include,"."));e.tokenColors&&(a=r.settings).push.apply(a,h(e.tokenColors));if(e.colors&&(Object.assign(r.colors,e.colors),r.encodedTokensColors=Object.keys(r.colors).map((function(e){return r.colors[e]}))),o&&n){var p,m=f(r.settings);try{for(m.s();!(p=m.n()).done;){var g=p.value;this.transform(g,(function(e){return r.rules.push(e)}))}}catch(y){m.e(y)}finally{m.f()}var b=new l["Registry"];b.setTheme(r),r.encodedTokensColors=b.getColorMap(),r.encodedTokensColors[0]=null,r.colors&&r.colors["editor.foreground"]&&(r.encodedTokensColors[1]=r.colors["editor.foreground"]),r.colors&&r.colors["editor.background"]&&(r.encodedTokensColors[2]=r.colors["editor.background"]),c["editor"].defineTheme(n,r)}return r}},{key:"transform",value:function(e,t){"undefined"===typeof e.scope?e.scope=[""]:"string"===typeof e.scope&&(e.scope=[e.scope]);var n,o=f(e.scope);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=Object.keys(e.settings).reduce((function(t,n){var o=e.settings[n];return m(o)===m("")&&(o=o.replace(/^\#/,"").slice(0,6)),t[n]=o,t}),{});t(u(u({},i),{},{token:a}))}}catch(r){o.e(r)}finally{o.f()}}}]),e}(),C=new $,S=(C.register(n("5522"),{"./dark_defaults.json":n("70a6"),"./dark_vs.json":n("8ce7")},"dark-plus","vs-dark").name,C.register(n("b328"),{"./light_defaults.json":n("75fb"),"./light_vs.json":n("51b4")},"light-plus","vs").name,C.register(n("d157"),{},"onemonokai","vs-dark").name,C.register(n("7f61"),{},"sublime","vs-dark").name,n("2d53"));function j(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){j(i,o,a,r,s,"next",e)}function s(e){j(i,o,a,r,s,"throw",e)}r(void 0)}))}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var T="undefined"!==typeof window.WebAssembly;function N(){return new Promise((function(e,t){var n=new window.XMLHttpRequest;n.onreadystatechange=function(){this.readyState===window.XMLHttpRequest.DONE&&(200===this.status?e(this.response):t(new Error("Could not fetch onigasm")))},n.open("GET","./onigasm.wasm",!0),n.responseType="arraybuffer",n.send()}))}var P=function(){function e(){I(this,e)}return A(e,[{key:"createOnigScanner",value:function(e){return new S["OnigScanner"](e)}},{key:"createOnigString",value:function(e){return new S["OnigString"](e)}}]),e}(),D=T?N().then(function(){var e=E(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(S["loadWASM"])(t);case 2:return e.abrupt("return",new P);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):Promise.reject(new Error("wasm not supported")),M=D;function L(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){L(i,o,a,r,s,"next",e)}function s(e){L(i,o,a,r,s,"throw",e)}r(void 0)}))}}var B="",R=n("c247"),z=function(){function e(e){this.ruleStack=e}return e.prototype.clone=function(){return new e(this.ruleStack)},e.prototype.equals=function(t){return t instanceof e&&(t===this||t.ruleStack===this.ruleStack)},e}(),H={"source.js":"grammar.json"};function U(e,t){return{getInitialState:function(){return new z(l["INITIAL"])},tokenizeEncoded:function(n,o){var a=n;void 0!==t.lineLimit&&n.length>t.lineLimit&&(a=n.substr(0,t.lineLimit));var i=e.tokenizeLine2(a,o.ruleStack);return{endState:new z(i.ruleStack),tokens:i.tokens}}}}function V(e){return G.apply(this,arguments)}function G(){return G=F(r.a.mark((function e(t){var n,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==B){e.next=2;break}return e.abrupt("return");case 2:return B=t,n=new l["Registry"]({theme:C.getTheme(t),getOnigLib:function(){return M},loadGrammar:function(e){var t=H[e];return t?new Promise((function(e,n){var o=Object(l["parseRawGrammar"])(JSON.stringify(R),t);e(o)})):null}}),e.next=6,n.loadGrammarWithConfiguration("source.js",42,{});case 6:o=e.sent,c["languages"].setTokensProvider("javascript",U(o,{})),c["editor"].setTheme(t);case 9:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}var W={init:V};function q(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){q(i,o,a,r,s,"next",e)}function s(e){q(i,o,a,r,s,"throw",e)}r(void 0)}))}}window.textmate=W;var J=n("b047"),Y={mixins:[s["a"]],name:"CodeViewer",props:{ctype:{type:String,default:"javascript"},highlight:Object,contents:{type:String,default:""},options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},dirty:{default:!1,type:[Boolean,Number]},ctrls:Boolean},editor:null,data:function(){return{themes:["dark-plus","light-plus","onemonokai","sublime"],theme:window.localStorage.getItem("monacotheme")||"dark-plus",savedContent:"",mEditor:null,codeChangeEmitter:null}},watch:{theme:{handler:function(e){window.localStorage.setItem("monacotheme",e),W.init(e)}},contents:function(e){this.mEditor&&e!=this.mEditor.getValue()&&this.mEditor.setValue(e||"")},ctype:function(e,t){e!=t&&this.initEditor()},highlight:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.line,n=e.start,o=e.end,a=this;if(t&&n&&o){if(!this.mEditor)return setTimeout(i.bind(this),100);i()}function i(){var e=a.mEditor;e.focus(),e.revealLineInCenter(t),e.setSelection({selectionStartLineNumber:t,positionLineNumber:t,selectionStartColumn:n,positionColumn:o})}},immediate:!0}},mounted:function(){this.$nextTick(this.initEditor)},beforDestroy:function(){this.mEditor&&this.mEditor.container.remove()},methods:{initEditor:function(){var e=K(r.a.mark((function e(){var t,n,o=this;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=function(){var e=t.ctype||"javascript";return Object.assign({},{language:e,theme:t.theme,lineNumbers:"javascript"===e?"on":"off",lineNumbersMinChars:3,scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:5,horizontalScrollbarSize:5}},t.options||{})},t=this,this.mEditor=c["editor"].create(this.$refs.editor,n()),this.mEditor.onDidChangeModelContent((function(e){t.editorChange(e)})),this.mEditor.getModel().updateOptions({tabSize:2}),this.addAction(this.mEditor),this.ctrls&&this.mEditor.addCommand(c["KeyMod"].CtrlCmd|c["KeyCode"].KEY_S,(function(){var e=o.mEditor.getValue();o.$emit("ctrls",e),t.$emit("update:dirty",0),t.savedContent=e})),setTimeout((function(e){W.init(o.theme)}),500),this.changeContent(),this.savedContent=this.contents;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addAction:function(e){var t=this;e.addAction({id:"nextchangeTheme",label:"下一个主题",keybindings:[c["KeyCode"].F4,c["KeyMod"].chord(c["KeyCode"].F4)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return t.nextTheme(1),null}}),e.addAction({id:"prevchangeTheme",label:"上一个主题",keybindings:[c["KeyCode"].F3,c["KeyMod"].chord(c["KeyCode"].F3)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return t.nextTheme(-1),null}})},editorChange:function(e){var t=this,n=this;n.codeChangeEmitter?this.codeChangeEmitter(e):this.codeChangeEmitter=J((function(e){var o=t.mEditor.getValue();n.$emit("update:contents",o),n.$emit("update:dirty",o!==t.savedContent),n.onChange(o)}),500)},nextTheme:function(e){var t=this.themes.indexOf(this.theme);e<0?(t-=1,t<0&&(t=this.themes.length-1)):(t+=1,t==this.themes.length&&(t=0)),this.theme=this.themes[t]},changeContent:function(){this.mEditor.setValue(this.contents||"")}}},X=Y,Z=(n("33dd"),n("2877")),Q=Object(Z["a"])(X,o,a,!1,null,"e2c1da56",null);t["a"]=Q.exports},fca1:function(e,t,n){"use strict";n("25f4")},fd48:function(e,t,n){"use strict";n("9962")},fe0f:function(e,t,n){},ff12:function(e,t,n){}});