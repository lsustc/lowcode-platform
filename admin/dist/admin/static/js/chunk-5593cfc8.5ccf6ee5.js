(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5593cfc8"],{"1ba6":function(t,a,s){"use strict";s("8bb2")},"8bb2":function(t,a,s){},c7d1:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"flash-container flash-container-page"}),a("div",{staticClass:"container-fluid container-limited"},[a("div",{staticClass:"content"},[a("div",{staticClass:"top-area"},[a("el-tabs",{staticClass:"nav-links",attrs:{"active-name":t.activeName},on:{"tab-click":t.tabHandleClick}},[a("el-tab-pane",{attrs:{label:"我的参与的项目",name:"me"}})],1),a("div",{staticClass:"nav-controls"},[a("router-link",{staticClass:"btn btn-new",attrs:{to:"/projects/new"}},[t._v("创建项目")])],1)],1),a("div",{staticClass:"projects-list-holder"},["me"===t.activeName?a("ul",{staticClass:"projects-list content-list"},[t.hasMyData?a("el-collapse",{model:{value:t.activeNames,callback:function(a){t.activeNames=a},expression:"activeNames"}},t._l(t.myProjects,(function(s,e){return a("el-collapse-item",{key:s.groupId,attrs:{title:s.name,name:s.id}},t._l(s.data,(function(s,e){return a("router-link",{key:s.id,staticClass:"card",attrs:{to:{path:"/project",query:{id:s.id}},tag:"div"}},[a("div",{staticClass:"img"},[a("img",{staticClass:"image",attrs:{src:t._f("defaultProject")(s.image)}})]),a("div",{staticClass:"cardContent"},[a("div",{staticClass:"title"},[t._v("\n                    "+t._s(s.projectName)+"\n                  ")]),a("div",{staticClass:"time"},[t._v(t._s(t._f("datetime")(s.createTime)))])])])})),1)})),1):a("div",[a("div",{staticClass:"blank-state"},[t._m(0),a("h3",{staticClass:"blank-state-title"},[a("router-link",{attrs:{to:{path:"/projects/new"}}},[a("el-button",{attrs:{type:"primary"}},[t._v("添加项目")])],1)],1)])])],1):t._e(),"star"===t.activeName?a("ul",{staticClass:"projects-list content-list"},[t.hasMyStarData?t._e():a("div",[t._m(1)]),t._l(t.starProjects,(function(s){return a("router-link",{key:s.id,staticClass:"project-row",attrs:{to:{path:"/project",query:{id:s.id}},tag:"li"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"project"},[a("div",{staticClass:"dash-project-avatar"},[a("div",{staticClass:"avatar project-avatar s40 identicon"},[a("img",{staticClass:"avatar project-avatar s40",attrs:{src:s.logo}})])]),a("span",{staticClass:"project-full-name"},[a("router-link",{staticClass:"namespace-name",attrs:{tag:"span",to:{path:"/user",query:{id:s.creatorId}}}},[t._v("\n                    "+t._s(s.creatorName)+"\n                    /\n                  ")]),a("router-link",{staticClass:"namespace-name",attrs:{tag:"span",to:{path:"/groups_index",query:{id:s.groupId}}}},[t._v("\n                    "+t._s(s.groupName)+"\n                    /\n                  ")]),a("router-link",{staticClass:"project-name filter-title",attrs:{tag:"span",to:{path:"/project",query:{id:s.id}}}},[t._v("\n                    "+t._s(s.projectName)+"\n                  ")])],1)])]),a("div",{staticClass:"description"},[a("p",[t._v(t._s(s.description))])])])}))],2):t._e()])])])])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"blank-state-icon"},[a("i",{staticClass:"ifont icon-empty"}),a("span",[t._v("暂无项目")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"blank-state"},[a("div",{staticClass:"blank-state-icon"},[a("i",{staticClass:"ifont icon-empty"}),a("span",[t._v("暂无关注项目")])])])}],c=s("f458"),n=s("c455"),r={mixins:[c["a"]],components:{},name:"dashboard_projects",data:function(){return{searchText:"",activeName:"me",activeNames:[],myProjects:{},starProjects:[]}},mounted:function(){this.loadMyProject()},computed:{hasMyData:function(){return Object.keys(this.myProjects).length>0},hasMyStarData:function(){return this.starProjects.length>0}},methods:{tabHandleClick:function(t){this.activeName=t.name,"me"==t.name?this.loadMyProject():"star"==t.name&&this.loadStarProject()},loadMyProject:function(){var t=this;Object(n["a"])({url:"project/project",method:"get",needLoading:!0,params:{count:100,start:0}}).then((function(a){var s=a.data.data||[];s.sort((function(t,a){return a.groupId-t.groupId}));var e={};s.forEach((function(a){e[a.groupId]||(t.activeNames.push(a.groupId),e[a.groupId]={id:a.groupId,name:a.groupName,data:[]}),e[a.groupId].data.push(a)})),t.myProjects=e})).catch((function(){}))},loadStarProject:function(){var t=this;Object(n["a"])({url:"project/getmyfavorateproject",method:"get",mock:!0,data:{count:100,start:0}}).then((function(a){t.starProjects=a.data.data||[]})).catch((function(){}))},search:function(){this.loadData(this.tableInfo.pagination.curr)}}},o=r,l=(s("1ba6"),s("2877")),d=Object(l["a"])(o,e,i,!1,null,"15b641c4",null);a["default"]=d.exports}}]);