(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb4c3850"],{"8c9b":function(t,e,r){t.exports=r.p+"static/img/javascr.a33de786.jpg"},a15d:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("el-form",{attrs:{inline:!0}},[e("el-form-item",{attrs:{label:"项目名称"}},[e("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.parameter.name,callback:function(e){t.$set(t.parameter,"name",e)},expression:"parameter.name"}})],1),e("el-form-item",{attrs:{label:"分类"}},[e("el-select",{model:{value:t.parameter.categoryId,callback:function(e){t.$set(t.parameter,"categoryId",e)},expression:"parameter.categoryId"}},t._l(t.typeList,(function(t,r){return e("el-option",{key:r,attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchProductAction()}}},[t._v("查询")])],1),e("el-form-item",{attrs:{label:""}},[e("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.showEdit()}}},[t._v("添加资源")])],1)],1),t._l(t.productList,(function(a,o){return e("div",{staticClass:"boxSize"},[e("div",{staticClass:"sourceName"},[t._v(t._s(a.name))]),4==a.categoryId?e("div",{staticClass:"sourceImg"},[e("img",{attrs:{src:a.content,alt:""}})]):t._e(),5==a.categoryId?e("div",{staticClass:"sourceAudio"},[e("audio",{ref:"audioPL",refInFor:!0,attrs:{controls:"controls"}},[e("source",{attrs:{src:a.content,type:"audio/mpeg"}})])]):t._e(),6==a.categoryId?e("div",{staticClass:"sourceImg"},[e("img",{attrs:{src:r("8c9b")}})]):t._e(),e("div",{staticClass:"sourceButton"},[e("div",{staticClass:"editButton",on:{click:function(e){return t.showEdit(a)}}},[t._v("编辑")]),e("div",{staticClass:"editButton",staticStyle:{"background-color":"#f56c6c"},on:{click:function(e){return t.delet(a)}}},[t._v("删除")])])])})),e("el-table",{staticStyle:{width:"100%",height:"0px"},attrs:{data:t.productList,border:""}}),e("el-pagination",{staticClass:"paginationWarp",attrs:{"current-page":t.pagination.curr,"page-size":t.pagination.size,layout:"total, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.searchLists}})],2)},o=[],n=r("f458"),i=r("c455");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e=d(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var e=p(t,"string");return"symbol"===c(e)?e:String(e)}function p(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!==c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var f={mixins:[n["a"]],components:{},data:function(){return{typeList:[],productList:[],parameter:{name:"",categoryId:null},pagination:{total:0,curr:1,size:10}}},created:function(){var t=this;if(window.sessionStorage.dataBack){var e=JSON.parse(window.sessionStorage.dataBack);t.parameter=e.parameter,t.pagination.curr=e.pageNo,window.sessionStorage.removeItem("dataBack")}},computed:{},watch:{},mounted:function(){this.searchProductAction(),this.getTypeList()},methods:{getTypeList:function(){var t=this;Object(i["a"])({url:"editor/category/list",method:"POST",needLoading:!0,trimNull:!1,data:{type:3}}).then((function(e){var r=e.data;t.typeList=r.data||[],t.typeList.map((function(t){t.id=(t.id||"").toString()}))}))},searchLists:function(t){var e=this;e.searchProductAction(t)},showEdit:function(t){var e=this,r={parameter:e.parameter,pageNo:e.pagination.curr};r&&(window.sessionStorage.dataBack=JSON.stringify(r)),t?window.sessionStorage.resource=JSON.stringify(t):window.sessionStorage.removeItem("resource"),window.location.hash="#/visualization/dialog/d-resourceEdit"},searchProductAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,r=Object.assign({},e.parameter);r.name||delete r.name,r.categoryId?r.categoryId=+r.categoryId:delete r.categoryId,t&&(e.pagination.curr=t),Object(i["a"])({url:"editor/resources/list",method:"post",needLoading:!0,trimNull:!1,mock:!1,data:u(u({},r),{},{pageSize:e.pagination.size,page:e.pagination.curr})}).then((function(t){var r=t.data.data||"";e.productList=r.list||[],e.pagination.total=r.total}))},delet:function(t){var e=this;e.$confirm("是否删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["a"])({url:"editor/resources/delete",method:"POST",needLoading:!0,trimNull:!1,data:{id:+t.id}}).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.searchProductAction()}))})).catch((function(){}))},codeScript:function(t){this.openDialog({name:"visualization/dialog/d-codeScript",data:{content:t.content},methods:{}})}},filters:{}},m=f,g=(r("af65"),r("2877")),y=Object(g["a"])(m,a,o,!1,null,"7ff1ee0d",null);e["default"]=y.exports},af65:function(t,e,r){"use strict";r("e1ef")},e1ef:function(t,e,r){}}]);