(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c96da78"],{"00fd":function(t,e,n){var i=n("9e69"),o=Object.prototype,a=o.hasOwnProperty,c=o.toString,s=i?i.toStringTag:void 0;function r(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(r){}var o=c.call(t);return i&&(e?t[s]=n:delete t[s]),o}t.exports=r},"0923":function(t,e,n){"use strict";n("9b1c")},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"29f3":function(t,e){var n=Object.prototype,i=n.toString;function o(t){return i.call(t)}t.exports=o},"2b3e":function(t,e,n){var i=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},"2e8d":function(t,e,n){},3729:function(t,e,n){var i=n("9e69"),o=n("00fd"),a=n("29f3"),c="[object Null]",s="[object Undefined]",r=i?i.toStringTag:void 0;function u(t){return null==t?void 0===t?s:c:r&&r in Object(t)?o(t):a(t)}t.exports=u},3855:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editerTags"},[e("span",{staticClass:"tagWarp"},[t._l(t.tags,(function(n,i){return e("el-tag",{key:i,staticClass:"tag",attrs:{closable:!0,"close-transition":!1},on:{close:function(e){return t.handleClose(i,n)}}},[e("i",{staticClass:"ifont icon-tag"}),t._v(t._s(n.name)+"\n    ")])})),t.inputVisible?e("el-autocomplete",{attrs:{size:"mini","value-key":"name","fetch-suggestions":t.querySearchAsync,maxlength:10,minlength:1,placeholder:"请输入内容"},on:{select:t.handleSelect},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),t.canAdd&&t.inputBtnVisible?e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){t.inputVisible=!0,t.inputBtnVisible=!1}}},[t._v("+新标签")]):t._e()],2),e("div",[e("h4",[t._v("可快速选标签列表")]),t._l(t.canSelectTags,(function(n,i){return e("el-tag",{key:i,staticClass:"tag",nativeOn:{click:function(e){return t.selectTag(n)}}},[e("i",{staticClass:"ifont icon-tag"}),t._v(t._s(n.name)+"\n    ")])}))],2)])},o=[],a=n("ed03"),c=n("c455"),s={mixins:[a["a"]],name:"UploadImage",components:{},props:{tags:{type:Array,default:function(t){return[]}},categoryId:{type:Number},canAdd:{type:Boolean,default:!1}},data:function(){return{canSelectTags:[],inputVisible:!1,inputBtnVisible:!0,inputValue:""}},watch:{},beforeDestroy:function(){},mounted:function(){this.categoryId&&this.loadTags()},methods:{querySearchAsync:function(t,e){Object(c["a"])({url:"editor/tags/list",data:{categoryId:this.categoryId,name:t},method:"post"}).then((function(t){var n=t.data.data;console.log(n),e(n)})).catch((function(t){}))},handleSelect:function(t){var e=this;this.selectTag(t),this.$nextTick((function(){e.inputValue=""}))},selectTag:function(t){var e=this.tags.find((function(e){if(e.id==t.id)return!0}));e||this.tags.push(t)},loadTags:function(t){var e=this;Object(c["a"])({url:"editor/tags/list",data:{categoryId:this.categoryId,name:""},method:"post"}).then((function(t){var n=t.data.data;e.canSelectTags=n})).catch((function(t){}))},handleInputConfirm:function(){var t=this,e=this.inputValue;e&&Object(c["a"])({url:"editor/tags/add",data:{categoryId:this.categoryId,name:e},method:"post"}).then((function(n){var i=n.data.data;t.selectTag({id:i.id,name:e}),t.inputVisible=!1,t.inputValue="",t.tags.length>2?t.inputBtnVisible=!1:t.inputBtnVisible=!0})).catch((function(e){t.$message("标签添加失败")}))},handleClose:function(t,e){this.tags.splice(this.tags.indexOf(t),1),this.tags.length>2?this.inputBtnVisible=!1:this.inputBtnVisible=!0}}},r=s,u=(n("0923"),n("2877")),l=Object(u["a"])(r,i,o,!1,null,"38bfb3ee",null);e["a"]=l.exports},"408c":function(t,e,n){var i=n("2b3e"),o=function(){return i.Date.now()};t.exports=o},4126:function(t,e,n){"use strict";n("2e8d")},"4cef":function(t,e){var n=/\s/;function i(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=i},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},8568:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"codeviewer"})},o=[],a=n("ed03"),c=n("c2c6"),s=n("b047"),r={mixins:[a["a"]],name:"CodeViewer",props:{ctype:{type:String,default:"javascript"},contents:{type:String,default:""},options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},ctrls:Boolean},editer:null,data:function(){return{content:"",mEditor:null,codeChangeEmitter:null}},watch:{contents:function(t){this.$options.editor&&t!=this.$options.editor.getValue()&&this.$options.editor.setValue(t||"")},ctype:function(t,e){t!=e&&this.initEditer()}},mounted:function(){this.$nextTick(this.initEditer)},beforDestroy:function(){this.$options.editor&&this.$options.editor.container.remove()},methods:{initEditer:function(){var t=this,e=this;function n(){var t=e.ctype||"javascript";return Object.assign({},{language:t,theme:"maliang",lineNumbers:"javascript"===t?"on":"off",lineNumbersMinChars:3,scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:5,horizontalScrollbarSize:5}},e.options||{})}this.mEditor=c["editor"].create(this.$el,n()),this.mEditor.getModel().updateOptions({tabSize:2}),this.mEditor.onDidChangeModelContent((function(t){e.editorChange(t)})),this.ctrls&&this.mEditor.addCommand(c["KeyMod"].CtrlCmd|c["KeyCode"].KEY_S,(function(){t.$emit("ctrls")})),this.changeContent()},editorChange:function(t){var e=this,n=this;n.codeChangeEmitter?this.codeChangeEmitter(t):this.codeChangeEmitter=s((function(t){var i=e.mEditor.getValue();n.$emit("update:contents",i),n.onChange(i)}),500)},changeContent:function(){this.mEditor.setValue(this.contents||"")}}},u=r,l=(n("4126"),n("2877")),d=Object(l["a"])(u,i,o,!1,null,"863ea762",null);e["a"]=d.exports},"8d74":function(t,e,n){var i=n("4cef"),o=/^\s+/;function a(t){return t?t.slice(0,i(t)+1).replace(o,""):t}t.exports=a},"9b1c":function(t,e,n){},"9e69":function(t,e,n){var i=n("2b3e"),o=i.Symbol;t.exports=o},b047:function(t,e,n){var i=n("1a8c"),o=n("408c"),a=n("b4b0"),c="Expected a function",s=Math.max,r=Math.min;function u(t,e,n){var u,l,d,f,p,h,m=0,g=!1,v=!1,y=!0;if("function"!=typeof t)throw new TypeError(c);function b(e){var n=u,i=l;return u=l=void 0,m=e,f=t.apply(i,n),f}function w(t){return m=t,p=setTimeout(j,e),g?b(t):f}function x(t){var n=t-h,i=t-m,o=e-n;return v?r(o,d-i):o}function S(t){var n=t-h,i=t-m;return void 0===h||n>=e||n<0||v&&i>=d}function j(){var t=o();if(S(t))return O(t);p=setTimeout(j,x(t))}function O(t){return p=void 0,y&&u?b(t):(u=l=void 0,f)}function C(){void 0!==p&&clearTimeout(p),m=0,u=h=l=p=void 0}function _(){return void 0===p?f:O(o())}function T(){var t=o(),n=S(t);if(u=arguments,l=this,h=t,n){if(void 0===p)return w(h);if(v)return clearTimeout(p),p=setTimeout(j,e),b(h)}return void 0===p&&(p=setTimeout(j,e)),f}return e=a(e)||0,i(n)&&(g=!!n.leading,v="maxWait"in n,d=v?s(a(n.maxWait)||0,e):d,y="trailing"in n?!!n.trailing:y),T.cancel=C,T.flush=_,T}t.exports=u},b4b0:function(t,e,n){var i=n("8d74"),o=n("1a8c"),a=n("ffd6"),c=NaN,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(t){if("number"==typeof t)return t;if(a(t))return c;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=r.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?c:+t}t.exports=d},d443:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],attrs:{size:t.size,id:"virtualUpload",type:"primary"}},[t._v("上传\n  "),e("i",{staticClass:"el-icon-upload el-icon--right"})])},o=[],a=n("e97e"),c=n("46ee"),s=n.n(c),r=n("c455"),u=function(t){Object(r["a"])({url:"upload/getTocken",method:"get",needLoading:!1,data:{}}).then((function(e){var n=e.data.data;t(n)}))},l=function(t){var e=t.id,n=(t.fileName,t.filters),i=t.isAddUploadFile,o=t.callback;this.imgSrc="";var c=!1,r=this,u={image:{title:"资源选择",extensions:"jpg,gif,png,jpeg"},video:{title:"资源选择",extensions:"mp4"},audio:{title:"资源选择",extensions:"mp3"}};this.uploader=new s.a.Uploader({runtimes:"html5",browse_button:e,url:"https://oss.aliyuncs.com",filters:[u[n]],prevent_duplicates:!0,max_file_size:"100mb",init:{PostInit:function(){},FilesAdded:function(t,e){if(c)return!1;c=!0;var n=this,o=e[0].name;if(i){var s=o.lastIndexOf(".");-1!==s&&(o="ymm_"+(new Date).getTime()+o.substring(s)),a["c"].readAsDataURL(e[0].getNative(),(function(t){var i=new window.File([a["c"].getBlobBydataURI(t,e[0].type)],o,{type:e[0].type});n.addFile(i),n.removeFile(e[0]),r.send(o)}))}},BeforeUpload:function(t,e){},UploadProgress:function(t,e){},FileUploaded:function(t,e,n){200===n.status&&(r.imgSrc=r.imgSrc.replace("ymm.oss-cn-hangzhou.aliyuncs.com","imagecdn.ymm56.com"),o(r.imgSrc)),c=!1},Error:function(t,e){}}}),this.uploader.init()};l.prototype.send=function(t){var e=this;t=t||"ymm"+(new Date).getTime()+".png",u((function(n){n.key=n.dir+t,e.imgSrc=n.host+"/"+n.key;var i={key:n.key,policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature};console.log("newMultipartParams",i),e.uploader.setOption({url:n.host,multipart_params:i}),e.uploader.start()}))};var d=l,f=n("ed03"),p={mixins:[f["a"]],name:"UploadImage",components:{},props:{h2c:{required:!1,type:Object,default:function(){return{}}},templateElement:{type:String},size:{type:String,default:"medium"},accept:{type:String,default:""},auto:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!1}},data:function(){return{uploadObject:null,options:null,onUploaded:null,templateData:{name:"",desc:""}}},watch:{accept:function(t){var e=this;this.uploadObject=new d({id:this.$el,isAddUploadFile:this.auto,filters:this.accept,callback:function(t){e.$emit("uploadSuccess",t),"function"===typeof e.onUploaded&&e.onUploaded(t)}})}},beforeDestroy:function(){},mounted:function(){var t=this;this.uploadObject=new d({id:this.$el,isAddUploadFile:this.auto,filters:this.accept,callback:function(e){t.$emit("uploadSuccess",e),"function"===typeof t.onUploaded&&t.onUploaded(e)}}),this.ema.bind("saveTemplate",(function(){t.options=null,t.onUploaded=null,t.getImageDataByDom(document.querySelector(t.templateElement),(function(e){t.uploadImg(e)}))}))},methods:{upload:function(t,e,n){var i=this;this.options=e||null,this.onUploaded=n||null,t=t||document.querySelector(this.templateElement),this.getImageDataByDom(t,(function(t){i.uploadImg(t)}))},uploadImg:function(t){var e="ymm"+(new Date).getTime()+".png",n=this,i=new window.File([a["c"].getBlobBydataURI(t,"image/png")],e,{type:"image/png"});n.uploadObject.uploader.addFile(i),n.uploadObject.send()},getImageDataByDom:function(t,e){a["c"].html2canvas(t,this.h2c).then((function(t){var n=t.toDataURL();e&&e(n)}))}}},h=p,m=n("2877"),g=Object(m["a"])(h,i,o,!1,null,"2bff0db8",null);e["a"]=g.exports},ffd6:function(t,e,n){var i=n("3729"),o=n("1310"),a="[object Symbol]";function c(t){return"symbol"==typeof t||o(t)&&i(t)==a}t.exports=c}}]);