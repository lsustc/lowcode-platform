(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-076df809"],{5671:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[t._m(0),t.hasData?e("div",{staticClass:"pages clearfix"},t._l(t.productList,(function(a,s){return e("div",{key:s,staticClass:"boxSize"},[e("div",{staticClass:"status"},[e("span",{staticClass:"ribbon",style:{backgroundColor:1==a.status?"#86C23A":"#f89300"}},[t._v(t._s(1==a.status?"启用":"禁用"))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],staticClass:"sourceKey"},[t._v(t._s(t.$route.query.key+"/"+a.key))]),e("div",{staticClass:"sourceImg"},[e("img",{staticClass:"logo",attrs:{src:a.image||"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/ymm-maliang/access/ymm1562307855048.png"}})]),e("div",{staticClass:"sourceName"},[t._v(t._s(a.name))]),e("div",{staticClass:"bottom"},[e("a",{staticClass:"qr"},[t._m(2,!0),e("a",{staticClass:"erCode",staticStyle:{display:"inline-block",cursor:"pointer"},attrs:{title:a.desc,href:t.getUrl(a,!0),target:"_blank"}},[e("img",{staticClass:"qrcode",attrs:{src:t.getqrUrl(a),alt:""}})])]),e("div",{staticClass:"sourceButton"},[e("a",{staticClass:"editButton",attrs:{href:t.getUrl(a),target:"_blank"}},[t._v("编辑")]),e("a",{staticClass:"editButton act_btn",attrs:{target:"_blank"}},[t._v("操作\n            "),e("div",{staticClass:"actions"},[e("p",{staticClass:"action",on:{click:function(e){return t.setting(a)}}},[t._v("设置")]),e("p",{staticClass:"action",on:{click:function(e){return t.copy(a)}}},[t._v("复制")]),1==a.status?e("p",{staticClass:"action",on:{click:function(e){return t.changeStatus(a)}}},[t._v("\n                禁用\n              ")]):t._e(),2==a.status?e("p",{staticClass:"action",on:{click:function(e){return t.changeStatus(a)}}},[t._v("\n                启用\n              ")]):t._e(),e("p",{directives:[{name:"show",rawName:"v-show",value:1==a.status,expression:"item.status==1"}],staticClass:"action dele",on:{click:function(e){return t.delet(a)}}},[t._v("删除\n              ")]),e("p",{staticClass:"last"})])])])])])})),0):e("div",[e("div",{staticClass:"blank-state"},[t._m(1),e("h3",{staticClass:"blank-state-title"},[e("el-button",{attrs:{type:"primary"},on:{click:t.newApi}},[t._v("添加页面")])],1)]),e("el-alert",{staticClass:"tipWarp",attrs:{title:"项目介绍",type:"info"}},[e("div",{domProps:{innerHTML:t._s(t.projectMd)}})])],1)])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"project-home-panel text-center"},[e("div",{staticClass:"container-fluid container-limited"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"blank-state-icon"},[e("i",{staticClass:"ifont icon-empty"}),e("span",[t._v("暂无页面信息，请先添加页面")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrBox"},[e("i",{staticClass:"eqf-QRcode"})])}],i=a("f458"),o=a("c455"),c=a("f121"),r=a("7068"),l={mixins:[i["a"]],components:{},name:"projects_cdoc",props:{id:{type:String}},data:function(){return{projectKey:"",projectName:"",projectId:null,categoryType:{1:"活动类"},productList:[],parameter:{key:"",name:"",categoryId:"",status:"1"},pagination:{total:0,curr:1,size:10},projectMd:r}},mounted:function(){var t=this;this.projectId=this.$route.query.id-0,this.projectKey=this.$route.query.key,this.projectName=window.decodeURIComponent(this.$route.query.name||""),this.detailInfo(),this.bindEvent("pageAddSuccess",(function(){t.detailInfo()}))},computed:{hasData:function(t){return this.productList.length>0}},methods:{setting:function(t){this.$router.push({path:"/page",query:{id:t.id}})},getUrl:function(t,e){if(e){var a="".concat(c.VIEW_PATH).concat(t.key),s=new window.Image;return s.src=a,s.src}return"".concat(c.EDITOR_PATH,"?key=").concat(t.key)},getqrUrl:function(t){return"https://www.liantu.com/api.php?text=".concat(encodeURIComponent(this.getUrl(t,1)))},changeStatus:function(t){var e=this;e.status=1==t.status?2:1;var a="";a=2==e.status?"禁用":"启用",e.$confirm("确定要".concat(a,"吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])({url:"editor/pages/change-status",data:{id:+t.id,status:+e.status},needLoading:!0,trimNull:!1,method:"post"}).then((function(t){e.detailInfo(),e.$message({type:"info",message:a+"成功！"})}))}))},delet:function(t){var e=this;e.$confirm("是否删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])({url:"editor/pages/delete",method:"POST",needLoading:!0,trimNull:!1,data:{id:+t.id}}).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.detailInfo()}))}))},detailInfo:function(){var t=this;Object(o["a"])({url:"editor/pages/list",method:"post",needLoading:!0,trimNull:!1,data:{projectId:this.projectId}}).then((function(e){t.productList=e.data.data||[]}))},detailPage:function(t){},newApi:function(){this.openDialog({name:"DAddPage",data:{title:"添加页面",form:{projectId:this.$route.query.id}},methods:{}})},copy:function(t){var e=this;console.log(t),Object(o["a"])({url:"editor/pages/detail",method:"post",needLoading:!1,data:{scene:"copy",pageKey:t.key}}).then((function(t){console.log("bbb",t.data.data);var a=t.data.data;e.openDialog({name:"DCopyPage",data:{title:"复制页面",form:{projectId:e.$route.query.id,name:"复制".concat(a.name).concat(Math.floor(100*Math.random())),desc:"复制".concat(a.desc).concat(Math.floor(100*Math.random())),visibilitylevel:a.visibilitylevel,content:a.content,image:a.image}},methods:{}})}))}}},u=l,d=(a("de95"),a("2877")),p=Object(d["a"])(u,s,n,!1,null,"0ff60c5b",null);e["default"]=p.exports},7068:function(t,e){t.exports="<ol>\n<li>每个项目存在很多页面</li>\n<li>不知道说啥</li>\n</ol>\n"},b167:function(t,e,a){},de95:function(t,e,a){"use strict";a("b167")}}]);